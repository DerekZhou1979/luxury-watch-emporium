(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const m of o.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function t(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(l){if(l.ep)return;l.ep=!0;const o=t(l);fetch(l.href,o)}})();function Vg(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var nc={exports:{}},Ps={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hh;function n0(){if(Hh)return Ps;Hh=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,l,o){var m=null;if(o!==void 0&&(m=""+o),l.key!==void 0&&(m=""+l.key),"key"in l){o={};for(var g in l)g!=="key"&&(o[g]=l[g])}else o=l;return l=o.ref,{$$typeof:s,type:i,key:m,ref:l!==void 0?l:null,props:o}}return Ps.Fragment=e,Ps.jsx=t,Ps.jsxs=t,Ps}var Fh;function a0(){return Fh||(Fh=1,nc.exports=n0()),nc.exports}var f=a0(),ac={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yh;function i0(){if(Yh)return ve;Yh=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function b(w){return w===null||typeof w!="object"?null:(w=_&&w[_]||w["@@iterator"],typeof w=="function"?w:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,E={};function D(w,Y,ne){this.props=w,this.context=Y,this.refs=E,this.updater=ne||S}D.prototype.isReactComponent={},D.prototype.setState=function(w,Y){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,Y,"setState")},D.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function I(){}I.prototype=D.prototype;function V(w,Y,ne){this.props=w,this.context=Y,this.refs=E,this.updater=ne||S}var q=V.prototype=new I;q.constructor=V,N(q,D.prototype),q.isPureReactComponent=!0;var Z=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},ae=Object.prototype.hasOwnProperty;function z(w,Y,ne,X,ce,Me){return ne=Me.ref,{$$typeof:s,type:w,key:Y,ref:ne!==void 0?ne:null,props:Me}}function J(w,Y){return z(w.type,Y,void 0,void 0,void 0,w.props)}function te(w){return typeof w=="object"&&w!==null&&w.$$typeof===s}function ue(w){var Y={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(ne){return Y[ne]})}var Ue=/\/+/g;function Pe(w,Y){return typeof w=="object"&&w!==null&&w.key!=null?ue(""+w.key):Y.toString(36)}function Pt(){}function K(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(Pt,Pt):(w.status="pending",w.then(function(Y){w.status==="pending"&&(w.status="fulfilled",w.value=Y)},function(Y){w.status==="pending"&&(w.status="rejected",w.reason=Y)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function we(w,Y,ne,X,ce){var Me=typeof w;(Me==="undefined"||Me==="boolean")&&(w=null);var xe=!1;if(w===null)xe=!0;else switch(Me){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(w.$$typeof){case s:case e:xe=!0;break;case v:return xe=w._init,we(xe(w._payload),Y,ne,X,ce)}}if(xe)return ce=ce(w),xe=X===""?"."+Pe(w,0):X,Z(ce)?(ne="",xe!=null&&(ne=xe.replace(Ue,"$&/")+"/"),we(ce,Y,ne,"",function(Un){return Un})):ce!=null&&(te(ce)&&(ce=J(ce,ne+(ce.key==null||w&&w.key===ce.key?"":(""+ce.key).replace(Ue,"$&/")+"/")+xe)),Y.push(ce)),1;xe=0;var St=X===""?".":X+":";if(Z(w))for(var Fe=0;Fe<w.length;Fe++)X=w[Fe],Me=St+Pe(X,Fe),xe+=we(X,Y,ne,Me,ce);else if(Fe=b(w),typeof Fe=="function")for(w=Fe.call(w),Fe=0;!(X=w.next()).done;)X=X.value,Me=St+Pe(X,Fe++),xe+=we(X,Y,ne,Me,ce);else if(Me==="object"){if(typeof w.then=="function")return we(K(w),Y,ne,X,ce);throw Y=String(w),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return xe}function O(w,Y,ne){if(w==null)return w;var X=[],ce=0;return we(w,X,"","",function(Me){return Y.call(ne,Me,ce++)}),X}function Q(w){if(w._status===-1){var Y=w._result;Y=Y(),Y.then(function(ne){(w._status===0||w._status===-1)&&(w._status=1,w._result=ne)},function(ne){(w._status===0||w._status===-1)&&(w._status=2,w._result=ne)}),w._status===-1&&(w._status=0,w._result=Y)}if(w._status===1)return w._result.default;throw w._result}var me=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function Be(){}return ve.Children={map:O,forEach:function(w,Y,ne){O(w,function(){Y.apply(this,arguments)},ne)},count:function(w){var Y=0;return O(w,function(){Y++}),Y},toArray:function(w){return O(w,function(Y){return Y})||[]},only:function(w){if(!te(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},ve.Component=D,ve.Fragment=t,ve.Profiler=l,ve.PureComponent=V,ve.StrictMode=i,ve.Suspense=x,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,ve.__COMPILER_RUNTIME={__proto__:null,c:function(w){return F.H.useMemoCache(w)}},ve.cache=function(w){return function(){return w.apply(null,arguments)}},ve.cloneElement=function(w,Y,ne){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var X=N({},w.props),ce=w.key,Me=void 0;if(Y!=null)for(xe in Y.ref!==void 0&&(Me=void 0),Y.key!==void 0&&(ce=""+Y.key),Y)!ae.call(Y,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&Y.ref===void 0||(X[xe]=Y[xe]);var xe=arguments.length-2;if(xe===1)X.children=ne;else if(1<xe){for(var St=Array(xe),Fe=0;Fe<xe;Fe++)St[Fe]=arguments[Fe+2];X.children=St}return z(w.type,ce,void 0,void 0,Me,X)},ve.createContext=function(w){return w={$$typeof:m,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:o,_context:w},w},ve.createElement=function(w,Y,ne){var X,ce={},Me=null;if(Y!=null)for(X in Y.key!==void 0&&(Me=""+Y.key),Y)ae.call(Y,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ce[X]=Y[X]);var xe=arguments.length-2;if(xe===1)ce.children=ne;else if(1<xe){for(var St=Array(xe),Fe=0;Fe<xe;Fe++)St[Fe]=arguments[Fe+2];ce.children=St}if(w&&w.defaultProps)for(X in xe=w.defaultProps,xe)ce[X]===void 0&&(ce[X]=xe[X]);return z(w,Me,void 0,void 0,null,ce)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(w){return{$$typeof:g,render:w}},ve.isValidElement=te,ve.lazy=function(w){return{$$typeof:v,_payload:{_status:-1,_result:w},_init:Q}},ve.memo=function(w,Y){return{$$typeof:p,type:w,compare:Y===void 0?null:Y}},ve.startTransition=function(w){var Y=F.T,ne={};F.T=ne;try{var X=w(),ce=F.S;ce!==null&&ce(ne,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(Be,me)}catch(Me){me(Me)}finally{F.T=Y}},ve.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},ve.use=function(w){return F.H.use(w)},ve.useActionState=function(w,Y,ne){return F.H.useActionState(w,Y,ne)},ve.useCallback=function(w,Y){return F.H.useCallback(w,Y)},ve.useContext=function(w){return F.H.useContext(w)},ve.useDebugValue=function(){},ve.useDeferredValue=function(w,Y){return F.H.useDeferredValue(w,Y)},ve.useEffect=function(w,Y,ne){var X=F.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(w,Y)},ve.useId=function(){return F.H.useId()},ve.useImperativeHandle=function(w,Y,ne){return F.H.useImperativeHandle(w,Y,ne)},ve.useInsertionEffect=function(w,Y){return F.H.useInsertionEffect(w,Y)},ve.useLayoutEffect=function(w,Y){return F.H.useLayoutEffect(w,Y)},ve.useMemo=function(w,Y){return F.H.useMemo(w,Y)},ve.useOptimistic=function(w,Y){return F.H.useOptimistic(w,Y)},ve.useReducer=function(w,Y,ne){return F.H.useReducer(w,Y,ne)},ve.useRef=function(w){return F.H.useRef(w)},ve.useState=function(w){return F.H.useState(w)},ve.useSyncExternalStore=function(w,Y,ne){return F.H.useSyncExternalStore(w,Y,ne)},ve.useTransition=function(){return F.H.useTransition()},ve.version="19.1.0",ve}var $h;function jc(){return $h||($h=1,ac.exports=i0()),ac.exports}var M=jc();const s0=Vg(M);var ic={exports:{}},js={},sc={exports:{}},lc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh;function l0(){return Zh||(Zh=1,function(s){function e(O,Q){var me=O.length;O.push(Q);e:for(;0<me;){var Be=me-1>>>1,w=O[Be];if(0<l(w,Q))O[Be]=Q,O[me]=w,me=Be;else break e}}function t(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var Q=O[0],me=O.pop();if(me!==Q){O[0]=me;e:for(var Be=0,w=O.length,Y=w>>>1;Be<Y;){var ne=2*(Be+1)-1,X=O[ne],ce=ne+1,Me=O[ce];if(0>l(X,me))ce<w&&0>l(Me,X)?(O[Be]=Me,O[ce]=me,Be=ce):(O[Be]=X,O[ne]=me,Be=ne);else if(ce<w&&0>l(Me,me))O[Be]=Me,O[ce]=me,Be=ce;else break e}}return Q}function l(O,Q){var me=O.sortIndex-Q.sortIndex;return me!==0?me:O.id-Q.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;s.unstable_now=function(){return o.now()}}else{var m=Date,g=m.now();s.unstable_now=function(){return m.now()-g}}var x=[],p=[],v=1,_=null,b=3,S=!1,N=!1,E=!1,D=!1,I=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function Z(O){for(var Q=t(p);Q!==null;){if(Q.callback===null)i(p);else if(Q.startTime<=O)i(p),Q.sortIndex=Q.expirationTime,e(x,Q);else break;Q=t(p)}}function F(O){if(E=!1,Z(O),!N)if(t(x)!==null)N=!0,ae||(ae=!0,Pe());else{var Q=t(p);Q!==null&&we(F,Q.startTime-O)}}var ae=!1,z=-1,J=5,te=-1;function ue(){return D?!0:!(s.unstable_now()-te<J)}function Ue(){if(D=!1,ae){var O=s.unstable_now();te=O;var Q=!0;try{e:{N=!1,E&&(E=!1,V(z),z=-1),S=!0;var me=b;try{t:{for(Z(O),_=t(x);_!==null&&!(_.expirationTime>O&&ue());){var Be=_.callback;if(typeof Be=="function"){_.callback=null,b=_.priorityLevel;var w=Be(_.expirationTime<=O);if(O=s.unstable_now(),typeof w=="function"){_.callback=w,Z(O),Q=!0;break t}_===t(x)&&i(x),Z(O)}else i(x);_=t(x)}if(_!==null)Q=!0;else{var Y=t(p);Y!==null&&we(F,Y.startTime-O),Q=!1}}break e}finally{_=null,b=me,S=!1}Q=void 0}}finally{Q?Pe():ae=!1}}}var Pe;if(typeof q=="function")Pe=function(){q(Ue)};else if(typeof MessageChannel<"u"){var Pt=new MessageChannel,K=Pt.port2;Pt.port1.onmessage=Ue,Pe=function(){K.postMessage(null)}}else Pe=function(){I(Ue,0)};function we(O,Q){z=I(function(){O(s.unstable_now())},Q)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(O){O.callback=null},s.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<O?Math.floor(1e3/O):5},s.unstable_getCurrentPriorityLevel=function(){return b},s.unstable_next=function(O){switch(b){case 1:case 2:case 3:var Q=3;break;default:Q=b}var me=b;b=Q;try{return O()}finally{b=me}},s.unstable_requestPaint=function(){D=!0},s.unstable_runWithPriority=function(O,Q){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var me=b;b=O;try{return Q()}finally{b=me}},s.unstable_scheduleCallback=function(O,Q,me){var Be=s.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Be+me:Be):me=Be,O){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=me+w,O={id:v++,callback:Q,priorityLevel:O,startTime:me,expirationTime:w,sortIndex:-1},me>Be?(O.sortIndex=me,e(p,O),t(x)===null&&O===t(p)&&(E?(V(z),z=-1):E=!0,we(F,me-Be))):(O.sortIndex=w,e(x,O),N||S||(N=!0,ae||(ae=!0,Pe()))),O},s.unstable_shouldYield=ue,s.unstable_wrapCallback=function(O){var Q=b;return function(){var me=b;b=Q;try{return O.apply(this,arguments)}finally{b=me}}}}(lc)),lc}var Kh;function r0(){return Kh||(Kh=1,sc.exports=l0()),sc.exports}var rc={exports:{}},ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh;function o0(){if(Jh)return ht;Jh=1;var s=jc();function e(x){var p="https://react.dev/errors/"+x;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+x+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(x,p,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:_==null?null:""+_,children:x,containerInfo:p,implementation:v}}var m=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(x,p){if(x==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ht.createPortal=function(x,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(x,p,null,v)},ht.flushSync=function(x){var p=m.T,v=i.p;try{if(m.T=null,i.p=2,x)return x()}finally{m.T=p,i.p=v,i.d.f()}},ht.preconnect=function(x,p){typeof x=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(x,p))},ht.prefetchDNS=function(x){typeof x=="string"&&i.d.D(x)},ht.preinit=function(x,p){if(typeof x=="string"&&p&&typeof p.as=="string"){var v=p.as,_=g(v,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(x,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:S}):v==="script"&&i.d.X(x,{crossOrigin:_,integrity:b,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ht.preinitModule=function(x,p){if(typeof x=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=g(p.as,p.crossOrigin);i.d.M(x,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(x)},ht.preload=function(x,p){if(typeof x=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,_=g(v,p.crossOrigin);i.d.L(x,v,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ht.preloadModule=function(x,p){if(typeof x=="string")if(p){var v=g(p.as,p.crossOrigin);i.d.m(x,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(x)},ht.requestFormReset=function(x){i.d.r(x)},ht.unstable_batchedUpdates=function(x,p){return x(p)},ht.useFormState=function(x,p,v){return m.H.useFormState(x,p,v)},ht.useFormStatus=function(){return m.H.useHostTransitionStatus()},ht.version="19.1.0",ht}var Xh;function u0(){if(Xh)return rc.exports;Xh=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),rc.exports=o0(),rc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qh;function c0(){if(Qh)return js;Qh=1;var s=r0(),e=jc(),t=u0();function i(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)a+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var a=n,r=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(r=a.return),n=a.return;while(n)}return a.tag===3?r:null}function m(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function g(n){if(o(n)!==n)throw Error(i(188))}function x(n){var a=n.alternate;if(!a){if(a=o(n),a===null)throw Error(i(188));return a!==n?null:n}for(var r=n,u=a;;){var h=r.return;if(h===null)break;var y=h.alternate;if(y===null){if(u=h.return,u!==null){r=u;continue}break}if(h.child===y.child){for(y=h.child;y;){if(y===r)return g(h),n;if(y===u)return g(h),a;y=y.sibling}throw Error(i(188))}if(r.return!==u.return)r=h,u=y;else{for(var T=!1,C=h.child;C;){if(C===r){T=!0,r=h,u=y;break}if(C===u){T=!0,u=h,r=y;break}C=C.sibling}if(!T){for(C=y.child;C;){if(C===r){T=!0,r=y,u=h;break}if(C===u){T=!0,u=y,r=h;break}C=C.sibling}if(!T)throw Error(i(189))}}if(r.alternate!==u)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?n:a}function p(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=p(n),a!==null)return a;n=n.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),V=Symbol.for("react.consumer"),q=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),Ue=Symbol.iterator;function Pe(n){return n===null||typeof n!="object"?null:(n=Ue&&n[Ue]||n["@@iterator"],typeof n=="function"?n:null)}var Pt=Symbol.for("react.client.reference");function K(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Pt?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case D:return"Profiler";case E:return"StrictMode";case F:return"Suspense";case ae:return"SuspenseList";case te:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case S:return"Portal";case q:return(n.displayName||"Context")+".Provider";case V:return(n._context.displayName||"Context")+".Consumer";case Z:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case z:return a=n.displayName||null,a!==null?a:K(n.type)||"Memo";case J:a=n._payload,n=n._init;try{return K(n(a))}catch{}}return null}var we=Array.isArray,O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Be=[],w=-1;function Y(n){return{current:n}}function ne(n){0>w||(n.current=Be[w],Be[w]=null,w--)}function X(n,a){w++,Be[w]=n.current,n.current=a}var ce=Y(null),Me=Y(null),xe=Y(null),St=Y(null);function Fe(n,a){switch(X(xe,a),X(Me,n),X(ce,null),a.nodeType){case 9:case 11:n=(n=a.documentElement)&&(n=n.namespaceURI)?xh(n):0;break;default:if(n=a.tagName,a=a.namespaceURI)a=xh(a),n=vh(a,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ne(ce),X(ce,n)}function Un(){ne(ce),ne(Me),ne(xe)}function Br(n){n.memoizedState!==null&&X(St,n);var a=ce.current,r=vh(a,n.type);a!==r&&(X(Me,n),X(ce,r))}function tl(n){Me.current===n&&(ne(ce),ne(Me)),St.current===n&&(ne(St),Ds._currentValue=me)}var qr=Object.prototype.hasOwnProperty,Gr=s.unstable_scheduleCallback,zr=s.unstable_cancelCallback,ky=s.unstable_shouldYield,Ly=s.unstable_requestPaint,nn=s.unstable_now,Py=s.unstable_getCurrentPriorityLevel,Xc=s.unstable_ImmediatePriority,Qc=s.unstable_UserBlockingPriority,nl=s.unstable_NormalPriority,jy=s.unstable_LowPriority,Wc=s.unstable_IdlePriority,Vy=s.log,Oy=s.unstable_setDisableYieldValue,Oi=null,Nt=null;function kn(n){if(typeof Vy=="function"&&Oy(n),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(Oi,n)}catch{}}var Et=Math.clz32?Math.clz32:Gy,By=Math.log,qy=Math.LN2;function Gy(n){return n>>>=0,n===0?32:31-(By(n)/qy|0)|0}var al=256,il=4194304;function ha(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function sl(n,a,r){var u=n.pendingLanes;if(u===0)return 0;var h=0,y=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var C=u&134217727;return C!==0?(u=C&~y,u!==0?h=ha(u):(T&=C,T!==0?h=ha(T):r||(r=C&~n,r!==0&&(h=ha(r))))):(C=u&~y,C!==0?h=ha(C):T!==0?h=ha(T):r||(r=u&~n,r!==0&&(h=ha(r)))),h===0?0:a!==0&&a!==h&&(a&y)===0&&(y=h&-h,r=a&-a,y>=r||y===32&&(r&4194048)!==0)?a:h}function Bi(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function zy(n,a){switch(n){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ed(){var n=al;return al<<=1,(al&4194048)===0&&(al=256),n}function td(){var n=il;return il<<=1,(il&62914560)===0&&(il=4194304),n}function Hr(n){for(var a=[],r=0;31>r;r++)a.push(n);return a}function qi(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Hy(n,a,r,u,h,y){var T=n.pendingLanes;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=r,n.entangledLanes&=r,n.errorRecoveryDisabledLanes&=r,n.shellSuspendCounter=0;var C=n.entanglements,A=n.expirationTimes,L=n.hiddenUpdates;for(r=T&~r;0<r;){var B=31-Et(r),H=1<<B;C[B]=0,A[B]=-1;var P=L[B];if(P!==null)for(L[B]=null,B=0;B<P.length;B++){var j=P[B];j!==null&&(j.lane&=-536870913)}r&=~H}u!==0&&nd(n,u,0),y!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=y&~(T&~a))}function nd(n,a,r){n.pendingLanes|=a,n.suspendedLanes&=~a;var u=31-Et(a);n.entangledLanes|=a,n.entanglements[u]=n.entanglements[u]|1073741824|r&4194090}function ad(n,a){var r=n.entangledLanes|=a;for(n=n.entanglements;r;){var u=31-Et(r),h=1<<u;h&a|n[u]&a&&(n[u]|=a),r&=~h}}function Fr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Yr(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function id(){var n=Q.p;return n!==0?n:(n=window.event,n===void 0?32:Vh(n.type))}function Fy(n,a){var r=Q.p;try{return Q.p=n,a()}finally{Q.p=r}}var Ln=Math.random().toString(36).slice(2),ft="__reactFiber$"+Ln,vt="__reactProps$"+Ln,Va="__reactContainer$"+Ln,$r="__reactEvents$"+Ln,Yy="__reactListeners$"+Ln,$y="__reactHandles$"+Ln,sd="__reactResources$"+Ln,Gi="__reactMarker$"+Ln;function Zr(n){delete n[ft],delete n[vt],delete n[$r],delete n[Yy],delete n[$y]}function Oa(n){var a=n[ft];if(a)return a;for(var r=n.parentNode;r;){if(a=r[Va]||r[ft]){if(r=a.alternate,a.child!==null||r!==null&&r.child!==null)for(n=Ch(n);n!==null;){if(r=n[ft])return r;n=Ch(n)}return a}n=r,r=n.parentNode}return null}function Ba(n){if(n=n[ft]||n[Va]){var a=n.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return n}return null}function zi(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(i(33))}function qa(n){var a=n[sd];return a||(a=n[sd]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function st(n){n[Gi]=!0}var ld=new Set,rd={};function pa(n,a){Ga(n,a),Ga(n+"Capture",a)}function Ga(n,a){for(rd[n]=a,n=0;n<a.length;n++)ld.add(a[n])}var Zy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),od={},ud={};function Ky(n){return qr.call(ud,n)?!0:qr.call(od,n)?!1:Zy.test(n)?ud[n]=!0:(od[n]=!0,!1)}function ll(n,a,r){if(Ky(a))if(r===null)n.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+r)}}function rl(n,a,r){if(r===null)n.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+r)}}function pn(n,a,r,u){if(u===null)n.removeAttribute(r);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttributeNS(a,r,""+u)}}var Kr,cd;function za(n){if(Kr===void 0)try{throw Error()}catch(r){var a=r.stack.trim().match(/\n( *(at )?)/);Kr=a&&a[1]||"",cd=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kr+n+cd}var Jr=!1;function Xr(n,a){if(!n||Jr)return"";Jr=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(j){var P=j}Reflect.construct(n,[],H)}else{try{H.call()}catch(j){P=j}n.call(H.prototype)}}else{try{throw Error()}catch(j){P=j}(H=n())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(j){if(j&&P&&typeof j.stack=="string")return[j.stack,P.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),T=y[0],C=y[1];if(T&&C){var A=T.split(`
`),L=C.split(`
`);for(h=u=0;u<A.length&&!A[u].includes("DetermineComponentFrameRoot");)u++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(u===A.length||h===L.length)for(u=A.length-1,h=L.length-1;1<=u&&0<=h&&A[u]!==L[h];)h--;for(;1<=u&&0<=h;u--,h--)if(A[u]!==L[h]){if(u!==1||h!==1)do if(u--,h--,0>h||A[u]!==L[h]){var B=`
`+A[u].replace(" at new "," at ");return n.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",n.displayName)),B}while(1<=u&&0<=h);break}}}finally{Jr=!1,Error.prepareStackTrace=r}return(r=n?n.displayName||n.name:"")?za(r):""}function Jy(n){switch(n.tag){case 26:case 27:case 5:return za(n.type);case 16:return za("Lazy");case 13:return za("Suspense");case 19:return za("SuspenseList");case 0:case 15:return Xr(n.type,!1);case 11:return Xr(n.type.render,!1);case 1:return Xr(n.type,!0);case 31:return za("Activity");default:return""}}function dd(n){try{var a="";do a+=Jy(n),n=n.return;while(n);return a}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function jt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function fd(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Xy(n){var a=fd(n)?"checked":"value",r=Object.getOwnPropertyDescriptor(n.constructor.prototype,a),u=""+n[a];if(!n.hasOwnProperty(a)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,y=r.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return h.call(this)},set:function(T){u=""+T,y.call(this,T)}}),Object.defineProperty(n,a,{enumerable:r.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function ol(n){n._valueTracker||(n._valueTracker=Xy(n))}function md(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var r=a.getValue(),u="";return n&&(u=fd(n)?n.checked?"true":"false":n.value),n=u,n!==r?(a.setValue(n),!0):!1}function ul(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Qy=/[\n"\\]/g;function Vt(n){return n.replace(Qy,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Qr(n,a,r,u,h,y,T,C){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),a!=null?T==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+jt(a)):n.value!==""+jt(a)&&(n.value=""+jt(a)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),a!=null?Wr(n,T,jt(a)):r!=null?Wr(n,T,jt(r)):u!=null&&n.removeAttribute("value"),h==null&&y!=null&&(n.defaultChecked=!!y),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+jt(C):n.removeAttribute("name")}function hd(n,a,r,u,h,y,T,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),a!=null||r!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;r=r!=null?""+jt(r):"",a=a!=null?""+jt(a):r,C||a===n.value||(n.value=a),n.defaultValue=a}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=C?n.checked:!!u,n.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function Wr(n,a,r){a==="number"&&ul(n.ownerDocument)===n||n.defaultValue===""+r||(n.defaultValue=""+r)}function Ha(n,a,r,u){if(n=n.options,a){a={};for(var h=0;h<r.length;h++)a["$"+r[h]]=!0;for(r=0;r<n.length;r++)h=a.hasOwnProperty("$"+n[r].value),n[r].selected!==h&&(n[r].selected=h),h&&u&&(n[r].defaultSelected=!0)}else{for(r=""+jt(r),a=null,h=0;h<n.length;h++){if(n[h].value===r){n[h].selected=!0,u&&(n[h].defaultSelected=!0);return}a!==null||n[h].disabled||(a=n[h])}a!==null&&(a.selected=!0)}}function pd(n,a,r){if(a!=null&&(a=""+jt(a),a!==n.value&&(n.value=a),r==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=r!=null?""+jt(r):""}function gd(n,a,r,u){if(a==null){if(u!=null){if(r!=null)throw Error(i(92));if(we(u)){if(1<u.length)throw Error(i(93));u=u[0]}r=u}r==null&&(r=""),a=r}r=jt(a),n.defaultValue=r,u=n.textContent,u===r&&u!==""&&u!==null&&(n.value=u)}function Fa(n,a){if(a){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=a;return}}n.textContent=a}var Wy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yd(n,a,r){var u=a.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?u?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":u?n.setProperty(a,r):typeof r!="number"||r===0||Wy.has(a)?a==="float"?n.cssFloat=r:n[a]=(""+r).trim():n[a]=r+"px"}function xd(n,a,r){if(a!=null&&typeof a!="object")throw Error(i(62));if(n=n.style,r!=null){for(var u in r)!r.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var h in a)u=a[h],a.hasOwnProperty(h)&&r[h]!==u&&yd(n,h,u)}else for(var y in a)a.hasOwnProperty(y)&&yd(n,y,a[y])}function eo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ex=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cl(n){return tx.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var to=null;function no(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ya=null,$a=null;function vd(n){var a=Ba(n);if(a&&(n=a.stateNode)){var r=n[vt]||null;e:switch(n=a.stateNode,a.type){case"input":if(Qr(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),a=r.name,r.type==="radio"&&a!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Vt(""+a)+'"][type="radio"]'),a=0;a<r.length;a++){var u=r[a];if(u!==n&&u.form===n.form){var h=u[vt]||null;if(!h)throw Error(i(90));Qr(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(a=0;a<r.length;a++)u=r[a],u.form===n.form&&md(u)}break e;case"textarea":pd(n,r.value,r.defaultValue);break e;case"select":a=r.value,a!=null&&Ha(n,!!r.multiple,a,!1)}}}var ao=!1;function bd(n,a,r){if(ao)return n(a,r);ao=!0;try{var u=n(a);return u}finally{if(ao=!1,(Ya!==null||$a!==null)&&(Kl(),Ya&&(a=Ya,n=$a,$a=Ya=null,vd(a),n)))for(a=0;a<n.length;a++)vd(n[a])}}function Hi(n,a){var r=n.stateNode;if(r===null)return null;var u=r[vt]||null;if(u===null)return null;r=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(i(231,a,typeof r));return r}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),io=!1;if(gn)try{var Fi={};Object.defineProperty(Fi,"passive",{get:function(){io=!0}}),window.addEventListener("test",Fi,Fi),window.removeEventListener("test",Fi,Fi)}catch{io=!1}var Pn=null,so=null,dl=null;function Td(){if(dl)return dl;var n,a=so,r=a.length,u,h="value"in Pn?Pn.value:Pn.textContent,y=h.length;for(n=0;n<r&&a[n]===h[n];n++);var T=r-n;for(u=1;u<=T&&a[r-u]===h[y-u];u++);return dl=h.slice(n,1<u?1-u:void 0)}function fl(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function ml(){return!0}function _d(){return!1}function bt(n){function a(r,u,h,y,T){this._reactName=r,this._targetInst=h,this.type=u,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(r=n[C],this[C]=r?r(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ml:_d,this.isPropagationStopped=_d,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ml)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ml)},persist:function(){},isPersistent:ml}),a}var ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hl=bt(ga),Yi=v({},ga,{view:0,detail:0}),nx=bt(Yi),lo,ro,$i,pl=v({},Yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uo,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==$i&&($i&&n.type==="mousemove"?(lo=n.screenX-$i.screenX,ro=n.screenY-$i.screenY):ro=lo=0,$i=n),lo)},movementY:function(n){return"movementY"in n?n.movementY:ro}}),Cd=bt(pl),ax=v({},pl,{dataTransfer:0}),ix=bt(ax),sx=v({},Yi,{relatedTarget:0}),oo=bt(sx),lx=v({},ga,{animationName:0,elapsedTime:0,pseudoElement:0}),rx=bt(lx),ox=v({},ga,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ux=bt(ox),cx=v({},ga,{data:0}),Sd=bt(cx),dx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hx(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=mx[n])?!!a[n]:!1}function uo(){return hx}var px=v({},Yi,{key:function(n){if(n.key){var a=dx[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=fl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?fx[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uo,charCode:function(n){return n.type==="keypress"?fl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?fl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),gx=bt(px),yx=v({},pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nd=bt(yx),xx=v({},Yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uo}),vx=bt(xx),bx=v({},ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tx=bt(bx),_x=v({},pl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Cx=bt(_x),Sx=v({},ga,{newState:0,oldState:0}),Nx=bt(Sx),Ex=[9,13,27,32],co=gn&&"CompositionEvent"in window,Zi=null;gn&&"documentMode"in document&&(Zi=document.documentMode);var Ax=gn&&"TextEvent"in window&&!Zi,Ed=gn&&(!co||Zi&&8<Zi&&11>=Zi),Ad=" ",wd=!1;function Md(n,a){switch(n){case"keyup":return Ex.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rd(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Za=!1;function wx(n,a){switch(n){case"compositionend":return Rd(a);case"keypress":return a.which!==32?null:(wd=!0,Ad);case"textInput":return n=a.data,n===Ad&&wd?null:n;default:return null}}function Mx(n,a){if(Za)return n==="compositionend"||!co&&Md(n,a)?(n=Td(),dl=so=Pn=null,Za=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ed&&a.locale!=="ko"?null:a.data;default:return null}}var Rx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dd(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!Rx[n.type]:a==="textarea"}function Id(n,a,r,u){Ya?$a?$a.push(u):$a=[u]:Ya=u,a=tr(a,"onChange"),0<a.length&&(r=new hl("onChange","change",null,r,u),n.push({event:r,listeners:a}))}var Ki=null,Ji=null;function Dx(n){mh(n,0)}function gl(n){var a=zi(n);if(md(a))return n}function Ud(n,a){if(n==="change")return a}var kd=!1;if(gn){var fo;if(gn){var mo="oninput"in document;if(!mo){var Ld=document.createElement("div");Ld.setAttribute("oninput","return;"),mo=typeof Ld.oninput=="function"}fo=mo}else fo=!1;kd=fo&&(!document.documentMode||9<document.documentMode)}function Pd(){Ki&&(Ki.detachEvent("onpropertychange",jd),Ji=Ki=null)}function jd(n){if(n.propertyName==="value"&&gl(Ji)){var a=[];Id(a,Ji,n,no(n)),bd(Dx,a)}}function Ix(n,a,r){n==="focusin"?(Pd(),Ki=a,Ji=r,Ki.attachEvent("onpropertychange",jd)):n==="focusout"&&Pd()}function Ux(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return gl(Ji)}function kx(n,a){if(n==="click")return gl(a)}function Lx(n,a){if(n==="input"||n==="change")return gl(a)}function Px(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var At=typeof Object.is=="function"?Object.is:Px;function Xi(n,a){if(At(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var r=Object.keys(n),u=Object.keys(a);if(r.length!==u.length)return!1;for(u=0;u<r.length;u++){var h=r[u];if(!qr.call(a,h)||!At(n[h],a[h]))return!1}return!0}function Vd(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Od(n,a){var r=Vd(n);n=0;for(var u;r;){if(r.nodeType===3){if(u=n+r.textContent.length,n<=a&&u>=a)return{node:r,offset:a-n};n=u}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vd(r)}}function Bd(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?Bd(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function qd(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=ul(n.document);a instanceof n.HTMLIFrameElement;){try{var r=typeof a.contentWindow.location.href=="string"}catch{r=!1}if(r)n=a.contentWindow;else break;a=ul(n.document)}return a}function ho(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}var jx=gn&&"documentMode"in document&&11>=document.documentMode,Ka=null,po=null,Qi=null,go=!1;function Gd(n,a,r){var u=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;go||Ka==null||Ka!==ul(u)||(u=Ka,"selectionStart"in u&&ho(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Qi&&Xi(Qi,u)||(Qi=u,u=tr(po,"onSelect"),0<u.length&&(a=new hl("onSelect","select",null,a,r),n.push({event:a,listeners:u}),a.target=Ka)))}function ya(n,a){var r={};return r[n.toLowerCase()]=a.toLowerCase(),r["Webkit"+n]="webkit"+a,r["Moz"+n]="moz"+a,r}var Ja={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionrun:ya("Transition","TransitionRun"),transitionstart:ya("Transition","TransitionStart"),transitioncancel:ya("Transition","TransitionCancel"),transitionend:ya("Transition","TransitionEnd")},yo={},zd={};gn&&(zd=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function xa(n){if(yo[n])return yo[n];if(!Ja[n])return n;var a=Ja[n],r;for(r in a)if(a.hasOwnProperty(r)&&r in zd)return yo[n]=a[r];return n}var Hd=xa("animationend"),Fd=xa("animationiteration"),Yd=xa("animationstart"),Vx=xa("transitionrun"),Ox=xa("transitionstart"),Bx=xa("transitioncancel"),$d=xa("transitionend"),Zd=new Map,xo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xo.push("scrollEnd");function Kt(n,a){Zd.set(n,a),pa(a,[n])}var Kd=new WeakMap;function Ot(n,a){if(typeof n=="object"&&n!==null){var r=Kd.get(n);return r!==void 0?r:(a={value:n,source:a,stack:dd(a)},Kd.set(n,a),a)}return{value:n,source:a,stack:dd(a)}}var Bt=[],Xa=0,vo=0;function yl(){for(var n=Xa,a=vo=Xa=0;a<n;){var r=Bt[a];Bt[a++]=null;var u=Bt[a];Bt[a++]=null;var h=Bt[a];Bt[a++]=null;var y=Bt[a];if(Bt[a++]=null,u!==null&&h!==null){var T=u.pending;T===null?h.next=h:(h.next=T.next,T.next=h),u.pending=h}y!==0&&Jd(r,h,y)}}function xl(n,a,r,u){Bt[Xa++]=n,Bt[Xa++]=a,Bt[Xa++]=r,Bt[Xa++]=u,vo|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function bo(n,a,r,u){return xl(n,a,r,u),vl(n)}function Qa(n,a){return xl(n,null,null,a),vl(n)}function Jd(n,a,r){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r);for(var h=!1,y=n.return;y!==null;)y.childLanes|=r,u=y.alternate,u!==null&&(u.childLanes|=r),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(h=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,h&&a!==null&&(h=31-Et(r),n=y.hiddenUpdates,u=n[h],u===null?n[h]=[a]:u.push(a),a.lane=r|536870912),y):null}function vl(n){if(50<Cs)throw Cs=0,Eu=null,Error(i(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var Wa={};function qx(n,a,r,u){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(n,a,r,u){return new qx(n,a,r,u)}function To(n){return n=n.prototype,!(!n||!n.isReactComponent)}function yn(n,a){var r=n.alternate;return r===null?(r=wt(n.tag,a,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=a,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&65011712,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,a=n.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r.refCleanup=n.refCleanup,r}function Xd(n,a){n.flags&=65011714;var r=n.alternate;return r===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=r.childLanes,n.lanes=r.lanes,n.child=r.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=r.memoizedProps,n.memoizedState=r.memoizedState,n.updateQueue=r.updateQueue,n.type=r.type,a=r.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function bl(n,a,r,u,h,y){var T=0;if(u=n,typeof n=="function")To(n)&&(T=1);else if(typeof n=="string")T=zv(n,r,ce.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case te:return n=wt(31,r,a,h),n.elementType=te,n.lanes=y,n;case N:return va(r.children,h,y,a);case E:T=8,h|=24;break;case D:return n=wt(12,r,a,h|2),n.elementType=D,n.lanes=y,n;case F:return n=wt(13,r,a,h),n.elementType=F,n.lanes=y,n;case ae:return n=wt(19,r,a,h),n.elementType=ae,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case I:case q:T=10;break e;case V:T=9;break e;case Z:T=11;break e;case z:T=14;break e;case J:T=16,u=null;break e}T=29,r=Error(i(130,n===null?"null":typeof n,"")),u=null}return a=wt(T,r,a,h),a.elementType=n,a.type=u,a.lanes=y,a}function va(n,a,r,u){return n=wt(7,n,u,a),n.lanes=r,n}function _o(n,a,r){return n=wt(6,n,null,a),n.lanes=r,n}function Co(n,a,r){return a=wt(4,n.children!==null?n.children:[],n.key,a),a.lanes=r,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}var ei=[],ti=0,Tl=null,_l=0,qt=[],Gt=0,ba=null,xn=1,vn="";function Ta(n,a){ei[ti++]=_l,ei[ti++]=Tl,Tl=n,_l=a}function Qd(n,a,r){qt[Gt++]=xn,qt[Gt++]=vn,qt[Gt++]=ba,ba=n;var u=xn;n=vn;var h=32-Et(u)-1;u&=~(1<<h),r+=1;var y=32-Et(a)+h;if(30<y){var T=h-h%5;y=(u&(1<<T)-1).toString(32),u>>=T,h-=T,xn=1<<32-Et(a)+h|r<<h|u,vn=y+n}else xn=1<<y|r<<h|u,vn=n}function So(n){n.return!==null&&(Ta(n,1),Qd(n,1,0))}function No(n){for(;n===Tl;)Tl=ei[--ti],ei[ti]=null,_l=ei[--ti],ei[ti]=null;for(;n===ba;)ba=qt[--Gt],qt[Gt]=null,vn=qt[--Gt],qt[Gt]=null,xn=qt[--Gt],qt[Gt]=null}var pt=null,Ke=null,Ie=!1,_a=null,an=!1,Eo=Error(i(519));function Ca(n){var a=Error(i(418,""));throw ts(Ot(a,n)),Eo}function Wd(n){var a=n.stateNode,r=n.type,u=n.memoizedProps;switch(a[ft]=n,a[vt]=u,r){case"dialog":Se("cancel",a),Se("close",a);break;case"iframe":case"object":case"embed":Se("load",a);break;case"video":case"audio":for(r=0;r<Ns.length;r++)Se(Ns[r],a);break;case"source":Se("error",a);break;case"img":case"image":case"link":Se("error",a),Se("load",a);break;case"details":Se("toggle",a);break;case"input":Se("invalid",a),hd(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ol(a);break;case"select":Se("invalid",a);break;case"textarea":Se("invalid",a),gd(a,u.value,u.defaultValue,u.children),ol(a)}r=u.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||a.textContent===""+r||u.suppressHydrationWarning===!0||yh(a.textContent,r)?(u.popover!=null&&(Se("beforetoggle",a),Se("toggle",a)),u.onScroll!=null&&Se("scroll",a),u.onScrollEnd!=null&&Se("scrollend",a),u.onClick!=null&&(a.onclick=nr),a=!0):a=!1,a||Ca(n)}function ef(n){for(pt=n.return;pt;)switch(pt.tag){case 5:case 13:an=!1;return;case 27:case 3:an=!0;return;default:pt=pt.return}}function Wi(n){if(n!==pt)return!1;if(!Ie)return ef(n),Ie=!0,!1;var a=n.tag,r;if((r=a!==3&&a!==27)&&((r=a===5)&&(r=n.type,r=!(r!=="form"&&r!=="button")||Gu(n.type,n.memoizedProps)),r=!r),r&&Ke&&Ca(n),ef(n),a===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));e:{for(n=n.nextSibling,a=0;n;){if(n.nodeType===8)if(r=n.data,r==="/$"){if(a===0){Ke=Xt(n.nextSibling);break e}a--}else r!=="$"&&r!=="$!"&&r!=="$?"||a++;n=n.nextSibling}Ke=null}}else a===27?(a=Ke,Qn(n.type)?(n=Yu,Yu=null,Ke=n):Ke=a):Ke=pt?Xt(n.stateNode.nextSibling):null;return!0}function es(){Ke=pt=null,Ie=!1}function tf(){var n=_a;return n!==null&&(Ct===null?Ct=n:Ct.push.apply(Ct,n),_a=null),n}function ts(n){_a===null?_a=[n]:_a.push(n)}var Ao=Y(null),Sa=null,bn=null;function jn(n,a,r){X(Ao,a._currentValue),a._currentValue=r}function Tn(n){n._currentValue=Ao.current,ne(Ao)}function wo(n,a,r){for(;n!==null;){var u=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),n===r)break;n=n.return}}function Mo(n,a,r,u){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var y=h.dependencies;if(y!==null){var T=h.child;y=y.firstContext;e:for(;y!==null;){var C=y;y=h;for(var A=0;A<a.length;A++)if(C.context===a[A]){y.lanes|=r,C=y.alternate,C!==null&&(C.lanes|=r),wo(y.return,r,n),u||(T=null);break e}y=C.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(i(341));T.lanes|=r,y=T.alternate,y!==null&&(y.lanes|=r),wo(T,r,n),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===n){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function ns(n,a,r,u){n=null;for(var h=a,y=!1;h!==null;){if(!y){if((h.flags&524288)!==0)y=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var C=h.type;At(h.pendingProps.value,T.value)||(n!==null?n.push(C):n=[C])}}else if(h===St.current){if(T=h.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(Ds):n=[Ds])}h=h.return}n!==null&&Mo(a,n,r,u),a.flags|=262144}function Cl(n){for(n=n.firstContext;n!==null;){if(!At(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Na(n){Sa=n,bn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function mt(n){return nf(Sa,n)}function Sl(n,a){return Sa===null&&Na(n),nf(n,a)}function nf(n,a){var r=a._currentValue;if(a={context:a,memoizedValue:r,next:null},bn===null){if(n===null)throw Error(i(308));bn=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else bn=bn.next=a;return r}var Gx=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(r,u){n.push(u)}};this.abort=function(){a.aborted=!0,n.forEach(function(r){return r()})}},zx=s.unstable_scheduleCallback,Hx=s.unstable_NormalPriority,at={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ro(){return{controller:new Gx,data:new Map,refCount:0}}function as(n){n.refCount--,n.refCount===0&&zx(Hx,function(){n.controller.abort()})}var is=null,Do=0,ni=0,ai=null;function Fx(n,a){if(is===null){var r=is=[];Do=0,ni=Uu(),ai={status:"pending",value:void 0,then:function(u){r.push(u)}}}return Do++,a.then(af,af),a}function af(){if(--Do===0&&is!==null){ai!==null&&(ai.status="fulfilled");var n=is;is=null,ni=0,ai=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function Yx(n,a){var r=[],u={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return n.then(function(){u.status="fulfilled",u.value=a;for(var h=0;h<r.length;h++)(0,r[h])(a)},function(h){for(u.status="rejected",u.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),u}var sf=O.S;O.S=function(n,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Fx(n,a),sf!==null&&sf(n,a)};var Ea=Y(null);function Io(){var n=Ea.current;return n!==null?n:Ge.pooledCache}function Nl(n,a){a===null?X(Ea,Ea.current):X(Ea,a.pool)}function lf(){var n=Io();return n===null?null:{parent:at._currentValue,pool:n}}var ss=Error(i(460)),rf=Error(i(474)),El=Error(i(542)),Uo={then:function(){}};function of(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Al(){}function uf(n,a,r){switch(r=n[r],r===void 0?n.push(a):r!==a&&(a.then(Al,Al),a=r),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,df(n),n;default:if(typeof a.status=="string")a.then(Al,Al);else{if(n=Ge,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=a,n.status="pending",n.then(function(u){if(a.status==="pending"){var h=a;h.status="fulfilled",h.value=u}},function(u){if(a.status==="pending"){var h=a;h.status="rejected",h.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,df(n),n}throw ls=a,ss}}var ls=null;function cf(){if(ls===null)throw Error(i(459));var n=ls;return ls=null,n}function df(n){if(n===ss||n===El)throw Error(i(483))}var Vn=!1;function ko(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lo(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function On(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Bn(n,a,r){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(ke&2)!==0){var h=u.pending;return h===null?a.next=a:(a.next=h.next,h.next=a),u.pending=a,a=vl(n),Jd(n,null,r),a}return xl(n,u,a,r),vl(n)}function rs(n,a,r){if(a=a.updateQueue,a!==null&&(a=a.shared,(r&4194048)!==0)){var u=a.lanes;u&=n.pendingLanes,r|=u,a.lanes=r,ad(n,r)}}function Po(n,a){var r=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,r===u)){var h=null,y=null;if(r=r.firstBaseUpdate,r!==null){do{var T={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};y===null?h=y=T:y=y.next=T,r=r.next}while(r!==null);y===null?h=y=a:y=y.next=a}else h=y=a;r={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=a:n.next=a,r.lastBaseUpdate=a}var jo=!1;function os(){if(jo){var n=ai;if(n!==null)throw n}}function us(n,a,r,u){jo=!1;var h=n.updateQueue;Vn=!1;var y=h.firstBaseUpdate,T=h.lastBaseUpdate,C=h.shared.pending;if(C!==null){h.shared.pending=null;var A=C,L=A.next;A.next=null,T===null?y=L:T.next=L,T=A;var B=n.alternate;B!==null&&(B=B.updateQueue,C=B.lastBaseUpdate,C!==T&&(C===null?B.firstBaseUpdate=L:C.next=L,B.lastBaseUpdate=A))}if(y!==null){var H=h.baseState;T=0,B=L=A=null,C=y;do{var P=C.lane&-536870913,j=P!==C.lane;if(j?(Ae&P)===P:(u&P)===P){P!==0&&P===ni&&(jo=!0),B!==null&&(B=B.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var he=n,de=C;P=a;var Oe=r;switch(de.tag){case 1:if(he=de.payload,typeof he=="function"){H=he.call(Oe,H,P);break e}H=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=de.payload,P=typeof he=="function"?he.call(Oe,H,P):he,P==null)break e;H=v({},H,P);break e;case 2:Vn=!0}}P=C.callback,P!==null&&(n.flags|=64,j&&(n.flags|=8192),j=h.callbacks,j===null?h.callbacks=[P]:j.push(P))}else j={lane:P,tag:C.tag,payload:C.payload,callback:C.callback,next:null},B===null?(L=B=j,A=H):B=B.next=j,T|=P;if(C=C.next,C===null){if(C=h.shared.pending,C===null)break;j=C,C=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);B===null&&(A=H),h.baseState=A,h.firstBaseUpdate=L,h.lastBaseUpdate=B,y===null&&(h.shared.lanes=0),Zn|=T,n.lanes=T,n.memoizedState=H}}function ff(n,a){if(typeof n!="function")throw Error(i(191,n));n.call(a)}function mf(n,a){var r=n.callbacks;if(r!==null)for(n.callbacks=null,n=0;n<r.length;n++)ff(r[n],a)}var ii=Y(null),wl=Y(0);function hf(n,a){n=wn,X(wl,n),X(ii,a),wn=n|a.baseLanes}function Vo(){X(wl,wn),X(ii,ii.current)}function Oo(){wn=wl.current,ne(ii),ne(wl)}var qn=0,Te=null,je=null,We=null,Ml=!1,si=!1,Aa=!1,Rl=0,cs=0,li=null,$x=0;function Xe(){throw Error(i(321))}function Bo(n,a){if(a===null)return!1;for(var r=0;r<a.length&&r<n.length;r++)if(!At(n[r],a[r]))return!1;return!0}function qo(n,a,r,u,h,y){return qn=y,Te=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,O.H=n===null||n.memoizedState===null?Xf:Qf,Aa=!1,y=r(u,h),Aa=!1,si&&(y=gf(a,r,u,h)),pf(n),y}function pf(n){O.H=Pl;var a=je!==null&&je.next!==null;if(qn=0,We=je=Te=null,Ml=!1,cs=0,li=null,a)throw Error(i(300));n===null||lt||(n=n.dependencies,n!==null&&Cl(n)&&(lt=!0))}function gf(n,a,r,u){Te=n;var h=0;do{if(si&&(li=null),cs=0,si=!1,25<=h)throw Error(i(301));if(h+=1,We=je=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}O.H=ev,y=a(r,u)}while(si);return y}function Zx(){var n=O.H,a=n.useState()[0];return a=typeof a.then=="function"?ds(a):a,n=n.useState()[0],(je!==null?je.memoizedState:null)!==n&&(Te.flags|=1024),a}function Go(){var n=Rl!==0;return Rl=0,n}function zo(n,a,r){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~r}function Ho(n){if(Ml){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Ml=!1}qn=0,We=je=Te=null,si=!1,cs=Rl=0,li=null}function Tt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Te.memoizedState=We=n:We=We.next=n,We}function et(){if(je===null){var n=Te.alternate;n=n!==null?n.memoizedState:null}else n=je.next;var a=We===null?Te.memoizedState:We.next;if(a!==null)We=a,je=n;else{if(n===null)throw Te.alternate===null?Error(i(467)):Error(i(310));je=n,n={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},We===null?Te.memoizedState=We=n:We=We.next=n}return We}function Fo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ds(n){var a=cs;return cs+=1,li===null&&(li=[]),n=uf(li,n,a),a=Te,(We===null?a.memoizedState:We.next)===null&&(a=a.alternate,O.H=a===null||a.memoizedState===null?Xf:Qf),n}function Dl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ds(n);if(n.$$typeof===q)return mt(n)}throw Error(i(438,String(n)))}function Yo(n){var a=null,r=Te.updateQueue;if(r!==null&&(a=r.memoCache),a==null){var u=Te.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(h){return h.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),r===null&&(r=Fo(),Te.updateQueue=r),r.memoCache=a,r=a.data[a.index],r===void 0)for(r=a.data[a.index]=Array(n),u=0;u<n;u++)r[u]=ue;return a.index++,r}function _n(n,a){return typeof a=="function"?a(n):a}function Il(n){var a=et();return $o(a,je,n)}function $o(n,a,r){var u=n.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var h=n.baseQueue,y=u.pending;if(y!==null){if(h!==null){var T=h.next;h.next=y.next,y.next=T}a.baseQueue=h=y,u.pending=null}if(y=n.baseState,h===null)n.memoizedState=y;else{a=h.next;var C=T=null,A=null,L=a,B=!1;do{var H=L.lane&-536870913;if(H!==L.lane?(Ae&H)===H:(qn&H)===H){var P=L.revertLane;if(P===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),H===ni&&(B=!0);else if((qn&P)===P){L=L.next,P===ni&&(B=!0);continue}else H={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},A===null?(C=A=H,T=y):A=A.next=H,Te.lanes|=P,Zn|=P;H=L.action,Aa&&r(y,H),y=L.hasEagerState?L.eagerState:r(y,H)}else P={lane:H,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},A===null?(C=A=P,T=y):A=A.next=P,Te.lanes|=H,Zn|=H;L=L.next}while(L!==null&&L!==a);if(A===null?T=y:A.next=C,!At(y,n.memoizedState)&&(lt=!0,B&&(r=ai,r!==null)))throw r;n.memoizedState=y,n.baseState=T,n.baseQueue=A,u.lastRenderedState=y}return h===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Zo(n){var a=et(),r=a.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var u=r.dispatch,h=r.pending,y=a.memoizedState;if(h!==null){r.pending=null;var T=h=h.next;do y=n(y,T.action),T=T.next;while(T!==h);At(y,a.memoizedState)||(lt=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),r.lastRenderedState=y}return[y,u]}function yf(n,a,r){var u=Te,h=et(),y=Ie;if(y){if(r===void 0)throw Error(i(407));r=r()}else r=a();var T=!At((je||h).memoizedState,r);T&&(h.memoizedState=r,lt=!0),h=h.queue;var C=bf.bind(null,u,h,n);if(fs(2048,8,C,[n]),h.getSnapshot!==a||T||We!==null&&We.memoizedState.tag&1){if(u.flags|=2048,ri(9,Ul(),vf.bind(null,u,h,r,a),null),Ge===null)throw Error(i(349));y||(qn&124)!==0||xf(u,a,r)}return r}function xf(n,a,r){n.flags|=16384,n={getSnapshot:a,value:r},a=Te.updateQueue,a===null?(a=Fo(),Te.updateQueue=a,a.stores=[n]):(r=a.stores,r===null?a.stores=[n]:r.push(n))}function vf(n,a,r,u){a.value=r,a.getSnapshot=u,Tf(a)&&_f(n)}function bf(n,a,r){return r(function(){Tf(a)&&_f(n)})}function Tf(n){var a=n.getSnapshot;n=n.value;try{var r=a();return!At(n,r)}catch{return!0}}function _f(n){var a=Qa(n,2);a!==null&&Ut(a,n,2)}function Ko(n){var a=Tt();if(typeof n=="function"){var r=n;if(n=r(),Aa){kn(!0);try{r()}finally{kn(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:n},a}function Cf(n,a,r,u){return n.baseState=r,$o(n,je,typeof u=="function"?u:_n)}function Kx(n,a,r,u,h){if(Ll(n))throw Error(i(485));if(n=a.action,n!==null){var y={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};O.T!==null?r(!0):y.isTransition=!1,u(y),r=a.pending,r===null?(y.next=a.pending=y,Sf(a,y)):(y.next=r.next,a.pending=r.next=y)}}function Sf(n,a){var r=a.action,u=a.payload,h=n.state;if(a.isTransition){var y=O.T,T={};O.T=T;try{var C=r(h,u),A=O.S;A!==null&&A(T,C),Nf(n,a,C)}catch(L){Jo(n,a,L)}finally{O.T=y}}else try{y=r(h,u),Nf(n,a,y)}catch(L){Jo(n,a,L)}}function Nf(n,a,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(u){Ef(n,a,u)},function(u){return Jo(n,a,u)}):Ef(n,a,r)}function Ef(n,a,r){a.status="fulfilled",a.value=r,Af(a),n.state=r,a=n.pending,a!==null&&(r=a.next,r===a?n.pending=null:(r=r.next,a.next=r,Sf(n,r)))}function Jo(n,a,r){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=r,Af(a),a=a.next;while(a!==u)}n.action=null}function Af(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function wf(n,a){return a}function Mf(n,a){if(Ie){var r=Ge.formState;if(r!==null){e:{var u=Te;if(Ie){if(Ke){t:{for(var h=Ke,y=an;h.nodeType!==8;){if(!y){h=null;break t}if(h=Xt(h.nextSibling),h===null){h=null;break t}}y=h.data,h=y==="F!"||y==="F"?h:null}if(h){Ke=Xt(h.nextSibling),u=h.data==="F!";break e}}Ca(u)}u=!1}u&&(a=r[0])}}return r=Tt(),r.memoizedState=r.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wf,lastRenderedState:a},r.queue=u,r=Zf.bind(null,Te,u),u.dispatch=r,u=Ko(!1),y=tu.bind(null,Te,!1,u.queue),u=Tt(),h={state:a,dispatch:null,action:n,pending:null},u.queue=h,r=Kx.bind(null,Te,h,y,r),h.dispatch=r,u.memoizedState=n,[a,r,!1]}function Rf(n){var a=et();return Df(a,je,n)}function Df(n,a,r){if(a=$o(n,a,wf)[0],n=Il(_n)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=ds(a)}catch(T){throw T===ss?El:T}else u=a;a=et();var h=a.queue,y=h.dispatch;return r!==a.memoizedState&&(Te.flags|=2048,ri(9,Ul(),Jx.bind(null,h,r),null)),[u,y,n]}function Jx(n,a){n.action=a}function If(n){var a=et(),r=je;if(r!==null)return Df(a,r,n);et(),a=a.memoizedState,r=et();var u=r.queue.dispatch;return r.memoizedState=n,[a,u,!1]}function ri(n,a,r,u){return n={tag:n,create:r,deps:u,inst:a,next:null},a=Te.updateQueue,a===null&&(a=Fo(),Te.updateQueue=a),r=a.lastEffect,r===null?a.lastEffect=n.next=n:(u=r.next,r.next=n,n.next=u,a.lastEffect=n),n}function Ul(){return{destroy:void 0,resource:void 0}}function Uf(){return et().memoizedState}function kl(n,a,r,u){var h=Tt();u=u===void 0?null:u,Te.flags|=n,h.memoizedState=ri(1|a,Ul(),r,u)}function fs(n,a,r,u){var h=et();u=u===void 0?null:u;var y=h.memoizedState.inst;je!==null&&u!==null&&Bo(u,je.memoizedState.deps)?h.memoizedState=ri(a,y,r,u):(Te.flags|=n,h.memoizedState=ri(1|a,y,r,u))}function kf(n,a){kl(8390656,8,n,a)}function Lf(n,a){fs(2048,8,n,a)}function Pf(n,a){return fs(4,2,n,a)}function jf(n,a){return fs(4,4,n,a)}function Vf(n,a){if(typeof a=="function"){n=n();var r=a(n);return function(){typeof r=="function"?r():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function Of(n,a,r){r=r!=null?r.concat([n]):null,fs(4,4,Vf.bind(null,a,n),r)}function Xo(){}function Bf(n,a){var r=et();a=a===void 0?null:a;var u=r.memoizedState;return a!==null&&Bo(a,u[1])?u[0]:(r.memoizedState=[n,a],n)}function qf(n,a){var r=et();a=a===void 0?null:a;var u=r.memoizedState;if(a!==null&&Bo(a,u[1]))return u[0];if(u=n(),Aa){kn(!0);try{n()}finally{kn(!1)}}return r.memoizedState=[u,a],u}function Qo(n,a,r){return r===void 0||(qn&1073741824)!==0?n.memoizedState=a:(n.memoizedState=r,n=Hm(),Te.lanes|=n,Zn|=n,r)}function Gf(n,a,r,u){return At(r,a)?r:ii.current!==null?(n=Qo(n,r,u),At(n,a)||(lt=!0),n):(qn&42)===0?(lt=!0,n.memoizedState=r):(n=Hm(),Te.lanes|=n,Zn|=n,a)}function zf(n,a,r,u,h){var y=Q.p;Q.p=y!==0&&8>y?y:8;var T=O.T,C={};O.T=C,tu(n,!1,a,r);try{var A=h(),L=O.S;if(L!==null&&L(C,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var B=Yx(A,u);ms(n,a,B,It(n))}else ms(n,a,u,It(n))}catch(H){ms(n,a,{then:function(){},status:"rejected",reason:H},It())}finally{Q.p=y,O.T=T}}function Xx(){}function Wo(n,a,r,u){if(n.tag!==5)throw Error(i(476));var h=Hf(n).queue;zf(n,h,a,me,r===null?Xx:function(){return Ff(n),r(u)})}function Hf(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:me},next:null};var r={};return a.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:r},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function Ff(n){var a=Hf(n).next.queue;ms(n,a,{},It())}function eu(){return mt(Ds)}function Yf(){return et().memoizedState}function $f(){return et().memoizedState}function Qx(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var r=It();n=On(r);var u=Bn(a,n,r);u!==null&&(Ut(u,a,r),rs(u,a,r)),a={cache:Ro()},n.payload=a;return}a=a.return}}function Wx(n,a,r){var u=It();r={lane:u,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Ll(n)?Kf(a,r):(r=bo(n,a,r,u),r!==null&&(Ut(r,n,u),Jf(r,a,u)))}function Zf(n,a,r){var u=It();ms(n,a,r,u)}function ms(n,a,r,u){var h={lane:u,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ll(n))Kf(a,h);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var T=a.lastRenderedState,C=y(T,r);if(h.hasEagerState=!0,h.eagerState=C,At(C,T))return xl(n,a,h,0),Ge===null&&yl(),!1}catch{}finally{}if(r=bo(n,a,h,u),r!==null)return Ut(r,n,u),Jf(r,a,u),!0}return!1}function tu(n,a,r,u){if(u={lane:2,revertLane:Uu(),action:u,hasEagerState:!1,eagerState:null,next:null},Ll(n)){if(a)throw Error(i(479))}else a=bo(n,r,u,2),a!==null&&Ut(a,n,2)}function Ll(n){var a=n.alternate;return n===Te||a!==null&&a===Te}function Kf(n,a){si=Ml=!0;var r=n.pending;r===null?a.next=a:(a.next=r.next,r.next=a),n.pending=a}function Jf(n,a,r){if((r&4194048)!==0){var u=a.lanes;u&=n.pendingLanes,r|=u,a.lanes=r,ad(n,r)}}var Pl={readContext:mt,use:Dl,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe},Xf={readContext:mt,use:Dl,useCallback:function(n,a){return Tt().memoizedState=[n,a===void 0?null:a],n},useContext:mt,useEffect:kf,useImperativeHandle:function(n,a,r){r=r!=null?r.concat([n]):null,kl(4194308,4,Vf.bind(null,a,n),r)},useLayoutEffect:function(n,a){return kl(4194308,4,n,a)},useInsertionEffect:function(n,a){kl(4,2,n,a)},useMemo:function(n,a){var r=Tt();a=a===void 0?null:a;var u=n();if(Aa){kn(!0);try{n()}finally{kn(!1)}}return r.memoizedState=[u,a],u},useReducer:function(n,a,r){var u=Tt();if(r!==void 0){var h=r(a);if(Aa){kn(!0);try{r(a)}finally{kn(!1)}}}else h=a;return u.memoizedState=u.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},u.queue=n,n=n.dispatch=Wx.bind(null,Te,n),[u.memoizedState,n]},useRef:function(n){var a=Tt();return n={current:n},a.memoizedState=n},useState:function(n){n=Ko(n);var a=n.queue,r=Zf.bind(null,Te,a);return a.dispatch=r,[n.memoizedState,r]},useDebugValue:Xo,useDeferredValue:function(n,a){var r=Tt();return Qo(r,n,a)},useTransition:function(){var n=Ko(!1);return n=zf.bind(null,Te,n.queue,!0,!1),Tt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,r){var u=Te,h=Tt();if(Ie){if(r===void 0)throw Error(i(407));r=r()}else{if(r=a(),Ge===null)throw Error(i(349));(Ae&124)!==0||xf(u,a,r)}h.memoizedState=r;var y={value:r,getSnapshot:a};return h.queue=y,kf(bf.bind(null,u,y,n),[n]),u.flags|=2048,ri(9,Ul(),vf.bind(null,u,y,r,a),null),r},useId:function(){var n=Tt(),a=Ge.identifierPrefix;if(Ie){var r=vn,u=xn;r=(u&~(1<<32-Et(u)-1)).toString(32)+r,a="«"+a+"R"+r,r=Rl++,0<r&&(a+="H"+r.toString(32)),a+="»"}else r=$x++,a="«"+a+"r"+r.toString(32)+"»";return n.memoizedState=a},useHostTransitionStatus:eu,useFormState:Mf,useActionState:Mf,useOptimistic:function(n){var a=Tt();a.memoizedState=a.baseState=n;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=r,a=tu.bind(null,Te,!0,r),r.dispatch=a,[n,a]},useMemoCache:Yo,useCacheRefresh:function(){return Tt().memoizedState=Qx.bind(null,Te)}},Qf={readContext:mt,use:Dl,useCallback:Bf,useContext:mt,useEffect:Lf,useImperativeHandle:Of,useInsertionEffect:Pf,useLayoutEffect:jf,useMemo:qf,useReducer:Il,useRef:Uf,useState:function(){return Il(_n)},useDebugValue:Xo,useDeferredValue:function(n,a){var r=et();return Gf(r,je.memoizedState,n,a)},useTransition:function(){var n=Il(_n)[0],a=et().memoizedState;return[typeof n=="boolean"?n:ds(n),a]},useSyncExternalStore:yf,useId:Yf,useHostTransitionStatus:eu,useFormState:Rf,useActionState:Rf,useOptimistic:function(n,a){var r=et();return Cf(r,je,n,a)},useMemoCache:Yo,useCacheRefresh:$f},ev={readContext:mt,use:Dl,useCallback:Bf,useContext:mt,useEffect:Lf,useImperativeHandle:Of,useInsertionEffect:Pf,useLayoutEffect:jf,useMemo:qf,useReducer:Zo,useRef:Uf,useState:function(){return Zo(_n)},useDebugValue:Xo,useDeferredValue:function(n,a){var r=et();return je===null?Qo(r,n,a):Gf(r,je.memoizedState,n,a)},useTransition:function(){var n=Zo(_n)[0],a=et().memoizedState;return[typeof n=="boolean"?n:ds(n),a]},useSyncExternalStore:yf,useId:Yf,useHostTransitionStatus:eu,useFormState:If,useActionState:If,useOptimistic:function(n,a){var r=et();return je!==null?Cf(r,je,n,a):(r.baseState=n,[n,r.queue.dispatch])},useMemoCache:Yo,useCacheRefresh:$f},oi=null,hs=0;function jl(n){var a=hs;return hs+=1,oi===null&&(oi=[]),uf(oi,n,a)}function ps(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function Vl(n,a){throw a.$$typeof===_?Error(i(525)):(n=Object.prototype.toString.call(a),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function Wf(n){var a=n._init;return a(n._payload)}function em(n){function a(U,R){if(n){var k=U.deletions;k===null?(U.deletions=[R],U.flags|=16):k.push(R)}}function r(U,R){if(!n)return null;for(;R!==null;)a(U,R),R=R.sibling;return null}function u(U){for(var R=new Map;U!==null;)U.key!==null?R.set(U.key,U):R.set(U.index,U),U=U.sibling;return R}function h(U,R){return U=yn(U,R),U.index=0,U.sibling=null,U}function y(U,R,k){return U.index=k,n?(k=U.alternate,k!==null?(k=k.index,k<R?(U.flags|=67108866,R):k):(U.flags|=67108866,R)):(U.flags|=1048576,R)}function T(U){return n&&U.alternate===null&&(U.flags|=67108866),U}function C(U,R,k,G){return R===null||R.tag!==6?(R=_o(k,U.mode,G),R.return=U,R):(R=h(R,k),R.return=U,R)}function A(U,R,k,G){var ie=k.type;return ie===N?B(U,R,k.props.children,G,k.key):R!==null&&(R.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===J&&Wf(ie)===R.type)?(R=h(R,k.props),ps(R,k),R.return=U,R):(R=bl(k.type,k.key,k.props,null,U.mode,G),ps(R,k),R.return=U,R)}function L(U,R,k,G){return R===null||R.tag!==4||R.stateNode.containerInfo!==k.containerInfo||R.stateNode.implementation!==k.implementation?(R=Co(k,U.mode,G),R.return=U,R):(R=h(R,k.children||[]),R.return=U,R)}function B(U,R,k,G,ie){return R===null||R.tag!==7?(R=va(k,U.mode,G,ie),R.return=U,R):(R=h(R,k),R.return=U,R)}function H(U,R,k){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=_o(""+R,U.mode,k),R.return=U,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case b:return k=bl(R.type,R.key,R.props,null,U.mode,k),ps(k,R),k.return=U,k;case S:return R=Co(R,U.mode,k),R.return=U,R;case J:var G=R._init;return R=G(R._payload),H(U,R,k)}if(we(R)||Pe(R))return R=va(R,U.mode,k,null),R.return=U,R;if(typeof R.then=="function")return H(U,jl(R),k);if(R.$$typeof===q)return H(U,Sl(U,R),k);Vl(U,R)}return null}function P(U,R,k,G){var ie=R!==null?R.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ie!==null?null:C(U,R,""+k,G);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case b:return k.key===ie?A(U,R,k,G):null;case S:return k.key===ie?L(U,R,k,G):null;case J:return ie=k._init,k=ie(k._payload),P(U,R,k,G)}if(we(k)||Pe(k))return ie!==null?null:B(U,R,k,G,null);if(typeof k.then=="function")return P(U,R,jl(k),G);if(k.$$typeof===q)return P(U,R,Sl(U,k),G);Vl(U,k)}return null}function j(U,R,k,G,ie){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return U=U.get(k)||null,C(R,U,""+G,ie);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return U=U.get(G.key===null?k:G.key)||null,A(R,U,G,ie);case S:return U=U.get(G.key===null?k:G.key)||null,L(R,U,G,ie);case J:var _e=G._init;return G=_e(G._payload),j(U,R,k,G,ie)}if(we(G)||Pe(G))return U=U.get(k)||null,B(R,U,G,ie,null);if(typeof G.then=="function")return j(U,R,k,jl(G),ie);if(G.$$typeof===q)return j(U,R,k,Sl(R,G),ie);Vl(R,G)}return null}function he(U,R,k,G){for(var ie=null,_e=null,re=R,fe=R=0,ot=null;re!==null&&fe<k.length;fe++){re.index>fe?(ot=re,re=null):ot=re.sibling;var Re=P(U,re,k[fe],G);if(Re===null){re===null&&(re=ot);break}n&&re&&Re.alternate===null&&a(U,re),R=y(Re,R,fe),_e===null?ie=Re:_e.sibling=Re,_e=Re,re=ot}if(fe===k.length)return r(U,re),Ie&&Ta(U,fe),ie;if(re===null){for(;fe<k.length;fe++)re=H(U,k[fe],G),re!==null&&(R=y(re,R,fe),_e===null?ie=re:_e.sibling=re,_e=re);return Ie&&Ta(U,fe),ie}for(re=u(re);fe<k.length;fe++)ot=j(re,U,fe,k[fe],G),ot!==null&&(n&&ot.alternate!==null&&re.delete(ot.key===null?fe:ot.key),R=y(ot,R,fe),_e===null?ie=ot:_e.sibling=ot,_e=ot);return n&&re.forEach(function(aa){return a(U,aa)}),Ie&&Ta(U,fe),ie}function de(U,R,k,G){if(k==null)throw Error(i(151));for(var ie=null,_e=null,re=R,fe=R=0,ot=null,Re=k.next();re!==null&&!Re.done;fe++,Re=k.next()){re.index>fe?(ot=re,re=null):ot=re.sibling;var aa=P(U,re,Re.value,G);if(aa===null){re===null&&(re=ot);break}n&&re&&aa.alternate===null&&a(U,re),R=y(aa,R,fe),_e===null?ie=aa:_e.sibling=aa,_e=aa,re=ot}if(Re.done)return r(U,re),Ie&&Ta(U,fe),ie;if(re===null){for(;!Re.done;fe++,Re=k.next())Re=H(U,Re.value,G),Re!==null&&(R=y(Re,R,fe),_e===null?ie=Re:_e.sibling=Re,_e=Re);return Ie&&Ta(U,fe),ie}for(re=u(re);!Re.done;fe++,Re=k.next())Re=j(re,U,fe,Re.value,G),Re!==null&&(n&&Re.alternate!==null&&re.delete(Re.key===null?fe:Re.key),R=y(Re,R,fe),_e===null?ie=Re:_e.sibling=Re,_e=Re);return n&&re.forEach(function(t0){return a(U,t0)}),Ie&&Ta(U,fe),ie}function Oe(U,R,k,G){if(typeof k=="object"&&k!==null&&k.type===N&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case b:e:{for(var ie=k.key;R!==null;){if(R.key===ie){if(ie=k.type,ie===N){if(R.tag===7){r(U,R.sibling),G=h(R,k.props.children),G.return=U,U=G;break e}}else if(R.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===J&&Wf(ie)===R.type){r(U,R.sibling),G=h(R,k.props),ps(G,k),G.return=U,U=G;break e}r(U,R);break}else a(U,R);R=R.sibling}k.type===N?(G=va(k.props.children,U.mode,G,k.key),G.return=U,U=G):(G=bl(k.type,k.key,k.props,null,U.mode,G),ps(G,k),G.return=U,U=G)}return T(U);case S:e:{for(ie=k.key;R!==null;){if(R.key===ie)if(R.tag===4&&R.stateNode.containerInfo===k.containerInfo&&R.stateNode.implementation===k.implementation){r(U,R.sibling),G=h(R,k.children||[]),G.return=U,U=G;break e}else{r(U,R);break}else a(U,R);R=R.sibling}G=Co(k,U.mode,G),G.return=U,U=G}return T(U);case J:return ie=k._init,k=ie(k._payload),Oe(U,R,k,G)}if(we(k))return he(U,R,k,G);if(Pe(k)){if(ie=Pe(k),typeof ie!="function")throw Error(i(150));return k=ie.call(k),de(U,R,k,G)}if(typeof k.then=="function")return Oe(U,R,jl(k),G);if(k.$$typeof===q)return Oe(U,R,Sl(U,k),G);Vl(U,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,R!==null&&R.tag===6?(r(U,R.sibling),G=h(R,k),G.return=U,U=G):(r(U,R),G=_o(k,U.mode,G),G.return=U,U=G),T(U)):r(U,R)}return function(U,R,k,G){try{hs=0;var ie=Oe(U,R,k,G);return oi=null,ie}catch(re){if(re===ss||re===El)throw re;var _e=wt(29,re,null,U.mode);return _e.lanes=G,_e.return=U,_e}finally{}}}var ui=em(!0),tm=em(!1),zt=Y(null),sn=null;function Gn(n){var a=n.alternate;X(it,it.current&1),X(zt,n),sn===null&&(a===null||ii.current!==null||a.memoizedState!==null)&&(sn=n)}function nm(n){if(n.tag===22){if(X(it,it.current),X(zt,n),sn===null){var a=n.alternate;a!==null&&a.memoizedState!==null&&(sn=n)}}else zn()}function zn(){X(it,it.current),X(zt,zt.current)}function Cn(n){ne(zt),sn===n&&(sn=null),ne(it)}var it=Y(0);function Ol(n){for(var a=n;a!==null;){if(a.tag===13){var r=a.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Fu(r)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function nu(n,a,r,u){a=n.memoizedState,r=r(u,a),r=r==null?a:v({},a,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var au={enqueueSetState:function(n,a,r){n=n._reactInternals;var u=It(),h=On(u);h.payload=a,r!=null&&(h.callback=r),a=Bn(n,h,u),a!==null&&(Ut(a,n,u),rs(a,n,u))},enqueueReplaceState:function(n,a,r){n=n._reactInternals;var u=It(),h=On(u);h.tag=1,h.payload=a,r!=null&&(h.callback=r),a=Bn(n,h,u),a!==null&&(Ut(a,n,u),rs(a,n,u))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var r=It(),u=On(r);u.tag=2,a!=null&&(u.callback=a),a=Bn(n,u,r),a!==null&&(Ut(a,n,r),rs(a,n,r))}};function am(n,a,r,u,h,y,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,y,T):a.prototype&&a.prototype.isPureReactComponent?!Xi(r,u)||!Xi(h,y):!0}function im(n,a,r,u){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(r,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(r,u),a.state!==n&&au.enqueueReplaceState(a,a.state,null)}function wa(n,a){var r=a;if("ref"in a){r={};for(var u in a)u!=="ref"&&(r[u]=a[u])}if(n=n.defaultProps){r===a&&(r=v({},r));for(var h in n)r[h]===void 0&&(r[h]=n[h])}return r}var Bl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function sm(n){Bl(n)}function lm(n){console.error(n)}function rm(n){Bl(n)}function ql(n,a){try{var r=n.onUncaughtError;r(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function om(n,a,r){try{var u=n.onCaughtError;u(r.value,{componentStack:r.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function iu(n,a,r){return r=On(r),r.tag=3,r.payload={element:null},r.callback=function(){ql(n,a)},r}function um(n){return n=On(n),n.tag=3,n}function cm(n,a,r,u){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var y=u.value;n.payload=function(){return h(y)},n.callback=function(){om(a,r,u)}}var T=r.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){om(a,r,u),typeof h!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function tv(n,a,r,u,h){if(r.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=r.alternate,a!==null&&ns(a,r,h,!0),r=zt.current,r!==null){switch(r.tag){case 13:return sn===null?wu():r.alternate===null&&Je===0&&(Je=3),r.flags&=-257,r.flags|=65536,r.lanes=h,u===Uo?r.flags|=16384:(a=r.updateQueue,a===null?r.updateQueue=new Set([u]):a.add(u),Ru(n,u,h)),!1;case 22:return r.flags|=65536,u===Uo?r.flags|=16384:(a=r.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},r.updateQueue=a):(r=a.retryQueue,r===null?a.retryQueue=new Set([u]):r.add(u)),Ru(n,u,h)),!1}throw Error(i(435,r.tag))}return Ru(n,u,h),wu(),!1}if(Ie)return a=zt.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=h,u!==Eo&&(n=Error(i(422),{cause:u}),ts(Ot(n,r)))):(u!==Eo&&(a=Error(i(423),{cause:u}),ts(Ot(a,r))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,u=Ot(u,r),h=iu(n.stateNode,u,h),Po(n,h),Je!==4&&(Je=2)),!1;var y=Error(i(520),{cause:u});if(y=Ot(y,r),_s===null?_s=[y]:_s.push(y),Je!==4&&(Je=2),a===null)return!0;u=Ot(u,r),r=a;do{switch(r.tag){case 3:return r.flags|=65536,n=h&-h,r.lanes|=n,n=iu(r.stateNode,u,n),Po(r,n),!1;case 1:if(a=r.type,y=r.stateNode,(r.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Kn===null||!Kn.has(y))))return r.flags|=65536,h&=-h,r.lanes|=h,h=um(h),cm(h,n,r,u),Po(r,h),!1}r=r.return}while(r!==null);return!1}var dm=Error(i(461)),lt=!1;function ut(n,a,r,u){a.child=n===null?tm(a,null,r,u):ui(a,n.child,r,u)}function fm(n,a,r,u,h){r=r.render;var y=a.ref;if("ref"in u){var T={};for(var C in u)C!=="ref"&&(T[C]=u[C])}else T=u;return Na(a),u=qo(n,a,r,T,y,h),C=Go(),n!==null&&!lt?(zo(n,a,h),Sn(n,a,h)):(Ie&&C&&So(a),a.flags|=1,ut(n,a,u,h),a.child)}function mm(n,a,r,u,h){if(n===null){var y=r.type;return typeof y=="function"&&!To(y)&&y.defaultProps===void 0&&r.compare===null?(a.tag=15,a.type=y,hm(n,a,y,u,h)):(n=bl(r.type,null,u,a,a.mode,h),n.ref=a.ref,n.return=a,a.child=n)}if(y=n.child,!fu(n,h)){var T=y.memoizedProps;if(r=r.compare,r=r!==null?r:Xi,r(T,u)&&n.ref===a.ref)return Sn(n,a,h)}return a.flags|=1,n=yn(y,u),n.ref=a.ref,n.return=a,a.child=n}function hm(n,a,r,u,h){if(n!==null){var y=n.memoizedProps;if(Xi(y,u)&&n.ref===a.ref)if(lt=!1,a.pendingProps=u=y,fu(n,h))(n.flags&131072)!==0&&(lt=!0);else return a.lanes=n.lanes,Sn(n,a,h)}return su(n,a,r,u,h)}function pm(n,a,r){var u=a.pendingProps,h=u.children,y=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=y!==null?y.baseLanes|r:r,n!==null){for(h=a.child=n.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;a.childLanes=y&~u}else a.childLanes=0,a.child=null;return gm(n,a,u,r)}if((r&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&Nl(a,y!==null?y.cachePool:null),y!==null?hf(a,y):Vo(),nm(a);else return a.lanes=a.childLanes=536870912,gm(n,a,y!==null?y.baseLanes|r:r,r)}else y!==null?(Nl(a,y.cachePool),hf(a,y),zn(),a.memoizedState=null):(n!==null&&Nl(a,null),Vo(),zn());return ut(n,a,h,r),a.child}function gm(n,a,r,u){var h=Io();return h=h===null?null:{parent:at._currentValue,pool:h},a.memoizedState={baseLanes:r,cachePool:h},n!==null&&Nl(a,null),Vo(),nm(a),n!==null&&ns(n,a,u,!0),null}function Gl(n,a){var r=a.ref;if(r===null)n!==null&&n.ref!==null&&(a.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(n===null||n.ref!==r)&&(a.flags|=4194816)}}function su(n,a,r,u,h){return Na(a),r=qo(n,a,r,u,void 0,h),u=Go(),n!==null&&!lt?(zo(n,a,h),Sn(n,a,h)):(Ie&&u&&So(a),a.flags|=1,ut(n,a,r,h),a.child)}function ym(n,a,r,u,h,y){return Na(a),a.updateQueue=null,r=gf(a,u,r,h),pf(n),u=Go(),n!==null&&!lt?(zo(n,a,y),Sn(n,a,y)):(Ie&&u&&So(a),a.flags|=1,ut(n,a,r,y),a.child)}function xm(n,a,r,u,h){if(Na(a),a.stateNode===null){var y=Wa,T=r.contextType;typeof T=="object"&&T!==null&&(y=mt(T)),y=new r(u,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=au,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=u,y.state=a.memoizedState,y.refs={},ko(a),T=r.contextType,y.context=typeof T=="object"&&T!==null?mt(T):Wa,y.state=a.memoizedState,T=r.getDerivedStateFromProps,typeof T=="function"&&(nu(a,r,T,u),y.state=a.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&au.enqueueReplaceState(y,y.state,null),us(a,u,y,h),os(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(n===null){y=a.stateNode;var C=a.memoizedProps,A=wa(r,C);y.props=A;var L=y.context,B=r.contextType;T=Wa,typeof B=="object"&&B!==null&&(T=mt(B));var H=r.getDerivedStateFromProps;B=typeof H=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=a.pendingProps!==C,B||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||L!==T)&&im(a,y,u,T),Vn=!1;var P=a.memoizedState;y.state=P,us(a,u,y,h),os(),L=a.memoizedState,C||P!==L||Vn?(typeof H=="function"&&(nu(a,r,H,u),L=a.memoizedState),(A=Vn||am(a,r,A,u,P,L,T))?(B||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=L),y.props=u,y.state=L,y.context=T,u=A):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{y=a.stateNode,Lo(n,a),T=a.memoizedProps,B=wa(r,T),y.props=B,H=a.pendingProps,P=y.context,L=r.contextType,A=Wa,typeof L=="object"&&L!==null&&(A=mt(L)),C=r.getDerivedStateFromProps,(L=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==H||P!==A)&&im(a,y,u,A),Vn=!1,P=a.memoizedState,y.state=P,us(a,u,y,h),os();var j=a.memoizedState;T!==H||P!==j||Vn||n!==null&&n.dependencies!==null&&Cl(n.dependencies)?(typeof C=="function"&&(nu(a,r,C,u),j=a.memoizedState),(B=Vn||am(a,r,B,u,P,j,A)||n!==null&&n.dependencies!==null&&Cl(n.dependencies))?(L||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,j,A),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,j,A)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===n.memoizedProps&&P===n.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&P===n.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=j),y.props=u,y.state=j,y.context=A,u=B):(typeof y.componentDidUpdate!="function"||T===n.memoizedProps&&P===n.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&P===n.memoizedState||(a.flags|=1024),u=!1)}return y=u,Gl(n,a),u=(a.flags&128)!==0,y||u?(y=a.stateNode,r=u&&typeof r.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,n!==null&&u?(a.child=ui(a,n.child,null,h),a.child=ui(a,null,r,h)):ut(n,a,r,h),a.memoizedState=y.state,n=a.child):n=Sn(n,a,h),n}function vm(n,a,r,u){return es(),a.flags|=256,ut(n,a,r,u),a.child}var lu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ru(n){return{baseLanes:n,cachePool:lf()}}function ou(n,a,r){return n=n!==null?n.childLanes&~r:0,a&&(n|=Ht),n}function bm(n,a,r){var u=a.pendingProps,h=!1,y=(a.flags&128)!==0,T;if((T=y)||(T=n!==null&&n.memoizedState===null?!1:(it.current&2)!==0),T&&(h=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,n===null){if(Ie){if(h?Gn(a):zn(),Ie){var C=Ke,A;if(A=C){e:{for(A=C,C=an;A.nodeType!==8;){if(!C){C=null;break e}if(A=Xt(A.nextSibling),A===null){C=null;break e}}C=A}C!==null?(a.memoizedState={dehydrated:C,treeContext:ba!==null?{id:xn,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},A=wt(18,null,null,0),A.stateNode=C,A.return=a,a.child=A,pt=a,Ke=null,A=!0):A=!1}A||Ca(a)}if(C=a.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return Fu(C)?a.lanes=32:a.lanes=536870912,null;Cn(a)}return C=u.children,u=u.fallback,h?(zn(),h=a.mode,C=zl({mode:"hidden",children:C},h),u=va(u,h,r,null),C.return=a,u.return=a,C.sibling=u,a.child=C,h=a.child,h.memoizedState=ru(r),h.childLanes=ou(n,T,r),a.memoizedState=lu,u):(Gn(a),uu(a,C))}if(A=n.memoizedState,A!==null&&(C=A.dehydrated,C!==null)){if(y)a.flags&256?(Gn(a),a.flags&=-257,a=cu(n,a,r)):a.memoizedState!==null?(zn(),a.child=n.child,a.flags|=128,a=null):(zn(),h=u.fallback,C=a.mode,u=zl({mode:"visible",children:u.children},C),h=va(h,C,r,null),h.flags|=2,u.return=a,h.return=a,u.sibling=h,a.child=u,ui(a,n.child,null,r),u=a.child,u.memoizedState=ru(r),u.childLanes=ou(n,T,r),a.memoizedState=lu,a=h);else if(Gn(a),Fu(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var L=T.dgst;T=L,u=Error(i(419)),u.stack="",u.digest=T,ts({value:u,source:null,stack:null}),a=cu(n,a,r)}else if(lt||ns(n,a,r,!1),T=(r&n.childLanes)!==0,lt||T){if(T=Ge,T!==null&&(u=r&-r,u=(u&42)!==0?1:Fr(u),u=(u&(T.suspendedLanes|r))!==0?0:u,u!==0&&u!==A.retryLane))throw A.retryLane=u,Qa(n,u),Ut(T,n,u),dm;C.data==="$?"||wu(),a=cu(n,a,r)}else C.data==="$?"?(a.flags|=192,a.child=n.child,a=null):(n=A.treeContext,Ke=Xt(C.nextSibling),pt=a,Ie=!0,_a=null,an=!1,n!==null&&(qt[Gt++]=xn,qt[Gt++]=vn,qt[Gt++]=ba,xn=n.id,vn=n.overflow,ba=a),a=uu(a,u.children),a.flags|=4096);return a}return h?(zn(),h=u.fallback,C=a.mode,A=n.child,L=A.sibling,u=yn(A,{mode:"hidden",children:u.children}),u.subtreeFlags=A.subtreeFlags&65011712,L!==null?h=yn(L,h):(h=va(h,C,r,null),h.flags|=2),h.return=a,u.return=a,u.sibling=h,a.child=u,u=h,h=a.child,C=n.child.memoizedState,C===null?C=ru(r):(A=C.cachePool,A!==null?(L=at._currentValue,A=A.parent!==L?{parent:L,pool:L}:A):A=lf(),C={baseLanes:C.baseLanes|r,cachePool:A}),h.memoizedState=C,h.childLanes=ou(n,T,r),a.memoizedState=lu,u):(Gn(a),r=n.child,n=r.sibling,r=yn(r,{mode:"visible",children:u.children}),r.return=a,r.sibling=null,n!==null&&(T=a.deletions,T===null?(a.deletions=[n],a.flags|=16):T.push(n)),a.child=r,a.memoizedState=null,r)}function uu(n,a){return a=zl({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function zl(n,a){return n=wt(22,n,null,a),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function cu(n,a,r){return ui(a,n.child,null,r),n=uu(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function Tm(n,a,r){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a),wo(n.return,a,r)}function du(n,a,r,u,h){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:r,tailMode:h}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=r,y.tailMode=h)}function _m(n,a,r){var u=a.pendingProps,h=u.revealOrder,y=u.tail;if(ut(n,a,u.children,r),u=it.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Tm(n,r,a);else if(n.tag===19)Tm(n,r,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(X(it,u),h){case"forwards":for(r=a.child,h=null;r!==null;)n=r.alternate,n!==null&&Ol(n)===null&&(h=r),r=r.sibling;r=h,r===null?(h=a.child,a.child=null):(h=r.sibling,r.sibling=null),du(a,!1,h,r,y);break;case"backwards":for(r=null,h=a.child,a.child=null;h!==null;){if(n=h.alternate,n!==null&&Ol(n)===null){a.child=h;break}n=h.sibling,h.sibling=r,r=h,h=n}du(a,!0,r,null,y);break;case"together":du(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Sn(n,a,r){if(n!==null&&(a.dependencies=n.dependencies),Zn|=a.lanes,(r&a.childLanes)===0)if(n!==null){if(ns(n,a,r,!1),(r&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(i(153));if(a.child!==null){for(n=a.child,r=yn(n,n.pendingProps),a.child=r,r.return=a;n.sibling!==null;)n=n.sibling,r=r.sibling=yn(n,n.pendingProps),r.return=a;r.sibling=null}return a.child}function fu(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&Cl(n)))}function nv(n,a,r){switch(a.tag){case 3:Fe(a,a.stateNode.containerInfo),jn(a,at,n.memoizedState.cache),es();break;case 27:case 5:Br(a);break;case 4:Fe(a,a.stateNode.containerInfo);break;case 10:jn(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Gn(a),a.flags|=128,null):(r&a.child.childLanes)!==0?bm(n,a,r):(Gn(a),n=Sn(n,a,r),n!==null?n.sibling:null);Gn(a);break;case 19:var h=(n.flags&128)!==0;if(u=(r&a.childLanes)!==0,u||(ns(n,a,r,!1),u=(r&a.childLanes)!==0),h){if(u)return _m(n,a,r);a.flags|=128}if(h=a.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),X(it,it.current),u)break;return null;case 22:case 23:return a.lanes=0,pm(n,a,r);case 24:jn(a,at,n.memoizedState.cache)}return Sn(n,a,r)}function Cm(n,a,r){if(n!==null)if(n.memoizedProps!==a.pendingProps)lt=!0;else{if(!fu(n,r)&&(a.flags&128)===0)return lt=!1,nv(n,a,r);lt=(n.flags&131072)!==0}else lt=!1,Ie&&(a.flags&1048576)!==0&&Qd(a,_l,a.index);switch(a.lanes=0,a.tag){case 16:e:{n=a.pendingProps;var u=a.elementType,h=u._init;if(u=h(u._payload),a.type=u,typeof u=="function")To(u)?(n=wa(u,n),a.tag=1,a=xm(null,a,u,n,r)):(a.tag=0,a=su(null,a,u,n,r));else{if(u!=null){if(h=u.$$typeof,h===Z){a.tag=11,a=fm(null,a,u,n,r);break e}else if(h===z){a.tag=14,a=mm(null,a,u,n,r);break e}}throw a=K(u)||u,Error(i(306,a,""))}}return a;case 0:return su(n,a,a.type,a.pendingProps,r);case 1:return u=a.type,h=wa(u,a.pendingProps),xm(n,a,u,h,r);case 3:e:{if(Fe(a,a.stateNode.containerInfo),n===null)throw Error(i(387));u=a.pendingProps;var y=a.memoizedState;h=y.element,Lo(n,a),us(a,u,null,r);var T=a.memoizedState;if(u=T.cache,jn(a,at,u),u!==y.cache&&Mo(a,[at],r,!0),os(),u=T.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=vm(n,a,u,r);break e}else if(u!==h){h=Ot(Error(i(424)),a),ts(h),a=vm(n,a,u,r);break e}else{switch(n=a.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ke=Xt(n.firstChild),pt=a,Ie=!0,_a=null,an=!0,r=tm(a,null,u,r),a.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(es(),u===h){a=Sn(n,a,r);break e}ut(n,a,u,r)}a=a.child}return a;case 26:return Gl(n,a),n===null?(r=Ah(a.type,null,a.pendingProps,null))?a.memoizedState=r:Ie||(r=a.type,n=a.pendingProps,u=ar(xe.current).createElement(r),u[ft]=a,u[vt]=n,dt(u,r,n),st(u),a.stateNode=u):a.memoizedState=Ah(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return Br(a),n===null&&Ie&&(u=a.stateNode=Sh(a.type,a.pendingProps,xe.current),pt=a,an=!0,h=Ke,Qn(a.type)?(Yu=h,Ke=Xt(u.firstChild)):Ke=h),ut(n,a,a.pendingProps.children,r),Gl(n,a),n===null&&(a.flags|=4194304),a.child;case 5:return n===null&&Ie&&((h=u=Ke)&&(u=Rv(u,a.type,a.pendingProps,an),u!==null?(a.stateNode=u,pt=a,Ke=Xt(u.firstChild),an=!1,h=!0):h=!1),h||Ca(a)),Br(a),h=a.type,y=a.pendingProps,T=n!==null?n.memoizedProps:null,u=y.children,Gu(h,y)?u=null:T!==null&&Gu(h,T)&&(a.flags|=32),a.memoizedState!==null&&(h=qo(n,a,Zx,null,null,r),Ds._currentValue=h),Gl(n,a),ut(n,a,u,r),a.child;case 6:return n===null&&Ie&&((n=r=Ke)&&(r=Dv(r,a.pendingProps,an),r!==null?(a.stateNode=r,pt=a,Ke=null,n=!0):n=!1),n||Ca(a)),null;case 13:return bm(n,a,r);case 4:return Fe(a,a.stateNode.containerInfo),u=a.pendingProps,n===null?a.child=ui(a,null,u,r):ut(n,a,u,r),a.child;case 11:return fm(n,a,a.type,a.pendingProps,r);case 7:return ut(n,a,a.pendingProps,r),a.child;case 8:return ut(n,a,a.pendingProps.children,r),a.child;case 12:return ut(n,a,a.pendingProps.children,r),a.child;case 10:return u=a.pendingProps,jn(a,a.type,u.value),ut(n,a,u.children,r),a.child;case 9:return h=a.type._context,u=a.pendingProps.children,Na(a),h=mt(h),u=u(h),a.flags|=1,ut(n,a,u,r),a.child;case 14:return mm(n,a,a.type,a.pendingProps,r);case 15:return hm(n,a,a.type,a.pendingProps,r);case 19:return _m(n,a,r);case 31:return u=a.pendingProps,r=a.mode,u={mode:u.mode,children:u.children},n===null?(r=zl(u,r),r.ref=a.ref,a.child=r,r.return=a,a=r):(r=yn(n.child,u),r.ref=a.ref,a.child=r,r.return=a,a=r),a;case 22:return pm(n,a,r);case 24:return Na(a),u=mt(at),n===null?(h=Io(),h===null&&(h=Ge,y=Ro(),h.pooledCache=y,y.refCount++,y!==null&&(h.pooledCacheLanes|=r),h=y),a.memoizedState={parent:u,cache:h},ko(a),jn(a,at,h)):((n.lanes&r)!==0&&(Lo(n,a),us(a,null,null,r),os()),h=n.memoizedState,y=a.memoizedState,h.parent!==u?(h={parent:u,cache:u},a.memoizedState=h,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=h),jn(a,at,u)):(u=y.cache,jn(a,at,u),u!==h.cache&&Mo(a,[at],r,!0))),ut(n,a,a.pendingProps.children,r),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Nn(n){n.flags|=4}function Sm(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Ih(a)){if(a=zt.current,a!==null&&((Ae&4194048)===Ae?sn!==null:(Ae&62914560)!==Ae&&(Ae&536870912)===0||a!==sn))throw ls=Uo,rf;n.flags|=8192}}function Hl(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?td():536870912,n.lanes|=a,mi|=a)}function gs(n,a){if(!Ie)switch(n.tailMode){case"hidden":a=n.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function $e(n){var a=n.alternate!==null&&n.alternate.child===n.child,r=0,u=0;if(a)for(var h=n.child;h!==null;)r|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)r|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=u,n.childLanes=r,a}function av(n,a,r){var u=a.pendingProps;switch(No(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(a),null;case 1:return $e(a),null;case 3:return r=a.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Tn(at),Un(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Wi(a)?Nn(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,tf())),$e(a),null;case 26:return r=a.memoizedState,n===null?(Nn(a),r!==null?($e(a),Sm(a,r)):($e(a),a.flags&=-16777217)):r?r!==n.memoizedState?(Nn(a),$e(a),Sm(a,r)):($e(a),a.flags&=-16777217):(n.memoizedProps!==u&&Nn(a),$e(a),a.flags&=-16777217),null;case 27:tl(a),r=xe.current;var h=a.type;if(n!==null&&a.stateNode!=null)n.memoizedProps!==u&&Nn(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return $e(a),null}n=ce.current,Wi(a)?Wd(a):(n=Sh(h,u,r),a.stateNode=n,Nn(a))}return $e(a),null;case 5:if(tl(a),r=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==u&&Nn(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return $e(a),null}if(n=ce.current,Wi(a))Wd(a);else{switch(h=ar(xe.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?h.createElement(r,{is:u.is}):h.createElement(r)}}n[ft]=a,n[vt]=u;e:for(h=a.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break e;for(;h.sibling===null;){if(h.return===null||h.return===a)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}a.stateNode=n;e:switch(dt(n,r,u),r){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Nn(a)}}return $e(a),a.flags&=-16777217,null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==u&&Nn(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(n=xe.current,Wi(a)){if(n=a.stateNode,r=a.memoizedProps,u=null,h=pt,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}n[ft]=a,n=!!(n.nodeValue===r||u!==null&&u.suppressHydrationWarning===!0||yh(n.nodeValue,r)),n||Ca(a)}else n=ar(n).createTextNode(u),n[ft]=a,a.stateNode=n}return $e(a),null;case 13:if(u=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=Wi(a),u!==null&&u.dehydrated!==null){if(n===null){if(!h)throw Error(i(318));if(h=a.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[ft]=a}else es(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;$e(a),h=!1}else h=tf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return a.flags&256?(Cn(a),a):(Cn(a),null)}if(Cn(a),(a.flags&128)!==0)return a.lanes=r,a;if(r=u!==null,n=n!==null&&n.memoizedState!==null,r){u=a.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==h&&(u.flags|=2048)}return r!==n&&r&&(a.child.flags|=8192),Hl(a,a.updateQueue),$e(a),null;case 4:return Un(),n===null&&ju(a.stateNode.containerInfo),$e(a),null;case 10:return Tn(a.type),$e(a),null;case 19:if(ne(it),h=a.memoizedState,h===null)return $e(a),null;if(u=(a.flags&128)!==0,y=h.rendering,y===null)if(u)gs(h,!1);else{if(Je!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(y=Ol(n),y!==null){for(a.flags|=128,gs(h,!1),n=y.updateQueue,a.updateQueue=n,Hl(a,n),a.subtreeFlags=0,n=r,r=a.child;r!==null;)Xd(r,n),r=r.sibling;return X(it,it.current&1|2),a.child}n=n.sibling}h.tail!==null&&nn()>$l&&(a.flags|=128,u=!0,gs(h,!1),a.lanes=4194304)}else{if(!u)if(n=Ol(y),n!==null){if(a.flags|=128,u=!0,n=n.updateQueue,a.updateQueue=n,Hl(a,n),gs(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!Ie)return $e(a),null}else 2*nn()-h.renderingStartTime>$l&&r!==536870912&&(a.flags|=128,u=!0,gs(h,!1),a.lanes=4194304);h.isBackwards?(y.sibling=a.child,a.child=y):(n=h.last,n!==null?n.sibling=y:a.child=y,h.last=y)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=nn(),a.sibling=null,n=it.current,X(it,u?n&1|2:n&1),a):($e(a),null);case 22:case 23:return Cn(a),Oo(),u=a.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(r&536870912)!==0&&(a.flags&128)===0&&($e(a),a.subtreeFlags&6&&(a.flags|=8192)):$e(a),r=a.updateQueue,r!==null&&Hl(a,r.retryQueue),r=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==r&&(a.flags|=2048),n!==null&&ne(Ea),null;case 24:return r=null,n!==null&&(r=n.memoizedState.cache),a.memoizedState.cache!==r&&(a.flags|=2048),Tn(at),$e(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function iv(n,a){switch(No(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return Tn(at),Un(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return tl(a),null;case 13:if(Cn(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(i(340));es()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return ne(it),null;case 4:return Un(),null;case 10:return Tn(a.type),null;case 22:case 23:return Cn(a),Oo(),n!==null&&ne(Ea),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return Tn(at),null;case 25:return null;default:return null}}function Nm(n,a){switch(No(a),a.tag){case 3:Tn(at),Un();break;case 26:case 27:case 5:tl(a);break;case 4:Un();break;case 13:Cn(a);break;case 19:ne(it);break;case 10:Tn(a.type);break;case 22:case 23:Cn(a),Oo(),n!==null&&ne(Ea);break;case 24:Tn(at)}}function ys(n,a){try{var r=a.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var h=u.next;r=h;do{if((r.tag&n)===n){u=void 0;var y=r.create,T=r.inst;u=y(),T.destroy=u}r=r.next}while(r!==h)}}catch(C){qe(a,a.return,C)}}function Hn(n,a,r){try{var u=a.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var y=h.next;u=y;do{if((u.tag&n)===n){var T=u.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,h=a;var A=r,L=C;try{L()}catch(B){qe(h,A,B)}}}u=u.next}while(u!==y)}}catch(B){qe(a,a.return,B)}}function Em(n){var a=n.updateQueue;if(a!==null){var r=n.stateNode;try{mf(a,r)}catch(u){qe(n,n.return,u)}}}function Am(n,a,r){r.props=wa(n.type,n.memoizedProps),r.state=n.memoizedState;try{r.componentWillUnmount()}catch(u){qe(n,a,u)}}function xs(n,a){try{var r=n.ref;if(r!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof r=="function"?n.refCleanup=r(u):r.current=u}}catch(h){qe(n,a,h)}}function ln(n,a){var r=n.ref,u=n.refCleanup;if(r!==null)if(typeof u=="function")try{u()}catch(h){qe(n,a,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){qe(n,a,h)}else r.current=null}function wm(n){var a=n.type,r=n.memoizedProps,u=n.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":r.autoFocus&&u.focus();break e;case"img":r.src?u.src=r.src:r.srcSet&&(u.srcset=r.srcSet)}}catch(h){qe(n,n.return,h)}}function mu(n,a,r){try{var u=n.stateNode;Nv(u,n.type,r,a),u[vt]=a}catch(h){qe(n,n.return,h)}}function Mm(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Qn(n.type)||n.tag===4}function hu(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Mm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Qn(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function pu(n,a,r){var u=n.tag;if(u===5||u===6)n=n.stateNode,a?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(n,a):(a=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.appendChild(n),r=r._reactRootContainer,r!=null||a.onclick!==null||(a.onclick=nr));else if(u!==4&&(u===27&&Qn(n.type)&&(r=n.stateNode,a=null),n=n.child,n!==null))for(pu(n,a,r),n=n.sibling;n!==null;)pu(n,a,r),n=n.sibling}function Fl(n,a,r){var u=n.tag;if(u===5||u===6)n=n.stateNode,a?r.insertBefore(n,a):r.appendChild(n);else if(u!==4&&(u===27&&Qn(n.type)&&(r=n.stateNode),n=n.child,n!==null))for(Fl(n,a,r),n=n.sibling;n!==null;)Fl(n,a,r),n=n.sibling}function Rm(n){var a=n.stateNode,r=n.memoizedProps;try{for(var u=n.type,h=a.attributes;h.length;)a.removeAttributeNode(h[0]);dt(a,u,r),a[ft]=n,a[vt]=r}catch(y){qe(n,n.return,y)}}var En=!1,Qe=!1,gu=!1,Dm=typeof WeakSet=="function"?WeakSet:Set,rt=null;function sv(n,a){if(n=n.containerInfo,Bu=ur,n=qd(n),ho(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else e:{r=(r=n.ownerDocument)&&r.defaultView||window;var u=r.getSelection&&r.getSelection();if(u&&u.rangeCount!==0){r=u.anchorNode;var h=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{r.nodeType,y.nodeType}catch{r=null;break e}var T=0,C=-1,A=-1,L=0,B=0,H=n,P=null;t:for(;;){for(var j;H!==r||h!==0&&H.nodeType!==3||(C=T+h),H!==y||u!==0&&H.nodeType!==3||(A=T+u),H.nodeType===3&&(T+=H.nodeValue.length),(j=H.firstChild)!==null;)P=H,H=j;for(;;){if(H===n)break t;if(P===r&&++L===h&&(C=T),P===y&&++B===u&&(A=T),(j=H.nextSibling)!==null)break;H=P,P=H.parentNode}H=j}r=C===-1||A===-1?null:{start:C,end:A}}else r=null}r=r||{start:0,end:0}}else r=null;for(qu={focusedElem:n,selectionRange:r},ur=!1,rt=a;rt!==null;)if(a=rt,n=a.child,(a.subtreeFlags&1024)!==0&&n!==null)n.return=a,rt=n;else for(;rt!==null;){switch(a=rt,y=a.alternate,n=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,r=a,h=y.memoizedProps,y=y.memoizedState,u=r.stateNode;try{var he=wa(r.type,h,r.elementType===r.type);n=u.getSnapshotBeforeUpdate(he,y),u.__reactInternalSnapshotBeforeUpdate=n}catch(de){qe(r,r.return,de)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,r=n.nodeType,r===9)Hu(n);else if(r===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Hu(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=a.sibling,n!==null){n.return=a.return,rt=n;break}rt=a.return}}function Im(n,a,r){var u=r.flags;switch(r.tag){case 0:case 11:case 15:Fn(n,r),u&4&&ys(5,r);break;case 1:if(Fn(n,r),u&4)if(n=r.stateNode,a===null)try{n.componentDidMount()}catch(T){qe(r,r.return,T)}else{var h=wa(r.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(h,a,n.__reactInternalSnapshotBeforeUpdate)}catch(T){qe(r,r.return,T)}}u&64&&Em(r),u&512&&xs(r,r.return);break;case 3:if(Fn(n,r),u&64&&(n=r.updateQueue,n!==null)){if(a=null,r.child!==null)switch(r.child.tag){case 27:case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}try{mf(n,a)}catch(T){qe(r,r.return,T)}}break;case 27:a===null&&u&4&&Rm(r);case 26:case 5:Fn(n,r),a===null&&u&4&&wm(r),u&512&&xs(r,r.return);break;case 12:Fn(n,r);break;case 13:Fn(n,r),u&4&&Lm(n,r),u&64&&(n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(r=hv.bind(null,r),Iv(n,r))));break;case 22:if(u=r.memoizedState!==null||En,!u){a=a!==null&&a.memoizedState!==null||Qe,h=En;var y=Qe;En=u,(Qe=a)&&!y?Yn(n,r,(r.subtreeFlags&8772)!==0):Fn(n,r),En=h,Qe=y}break;case 30:break;default:Fn(n,r)}}function Um(n){var a=n.alternate;a!==null&&(n.alternate=null,Um(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&Zr(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ye=null,_t=!1;function An(n,a,r){for(r=r.child;r!==null;)km(n,a,r),r=r.sibling}function km(n,a,r){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Oi,r)}catch{}switch(r.tag){case 26:Qe||ln(r,a),An(n,a,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Qe||ln(r,a);var u=Ye,h=_t;Qn(r.type)&&(Ye=r.stateNode,_t=!1),An(n,a,r),As(r.stateNode),Ye=u,_t=h;break;case 5:Qe||ln(r,a);case 6:if(u=Ye,h=_t,Ye=null,An(n,a,r),Ye=u,_t=h,Ye!==null)if(_t)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(r.stateNode)}catch(y){qe(r,a,y)}else try{Ye.removeChild(r.stateNode)}catch(y){qe(r,a,y)}break;case 18:Ye!==null&&(_t?(n=Ye,_h(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,r.stateNode),Ls(n)):_h(Ye,r.stateNode));break;case 4:u=Ye,h=_t,Ye=r.stateNode.containerInfo,_t=!0,An(n,a,r),Ye=u,_t=h;break;case 0:case 11:case 14:case 15:Qe||Hn(2,r,a),Qe||Hn(4,r,a),An(n,a,r);break;case 1:Qe||(ln(r,a),u=r.stateNode,typeof u.componentWillUnmount=="function"&&Am(r,a,u)),An(n,a,r);break;case 21:An(n,a,r);break;case 22:Qe=(u=Qe)||r.memoizedState!==null,An(n,a,r),Qe=u;break;default:An(n,a,r)}}function Lm(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ls(n)}catch(r){qe(a,a.return,r)}}function lv(n){switch(n.tag){case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new Dm),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new Dm),a;default:throw Error(i(435,n.tag))}}function yu(n,a){var r=lv(n);a.forEach(function(u){var h=pv.bind(null,n,u);r.has(u)||(r.add(u),u.then(h,h))})}function Mt(n,a){var r=a.deletions;if(r!==null)for(var u=0;u<r.length;u++){var h=r[u],y=n,T=a,C=T;e:for(;C!==null;){switch(C.tag){case 27:if(Qn(C.type)){Ye=C.stateNode,_t=!1;break e}break;case 5:Ye=C.stateNode,_t=!1;break e;case 3:case 4:Ye=C.stateNode.containerInfo,_t=!0;break e}C=C.return}if(Ye===null)throw Error(i(160));km(y,T,h),Ye=null,_t=!1,y=h.alternate,y!==null&&(y.return=null),h.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Pm(a,n),a=a.sibling}var Jt=null;function Pm(n,a){var r=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Mt(a,n),Rt(n),u&4&&(Hn(3,n,n.return),ys(3,n),Hn(5,n,n.return));break;case 1:Mt(a,n),Rt(n),u&512&&(Qe||r===null||ln(r,r.return)),u&64&&En&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(r=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=r===null?u:r.concat(u))));break;case 26:var h=Jt;if(Mt(a,n),Rt(n),u&512&&(Qe||r===null||ln(r,r.return)),u&4){var y=r!==null?r.memoizedState:null;if(u=n.memoizedState,r===null)if(u===null)if(n.stateNode===null){e:{u=n.type,r=n.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":y=h.getElementsByTagName("title")[0],(!y||y[Gi]||y[ft]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=h.createElement(u),h.head.insertBefore(y,h.querySelector("head > title"))),dt(y,u,r),y[ft]=n,st(y),u=y;break e;case"link":var T=Rh("link","href",h).get(u+(r.href||""));if(T){for(var C=0;C<T.length;C++)if(y=T[C],y.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&y.getAttribute("rel")===(r.rel==null?null:r.rel)&&y.getAttribute("title")===(r.title==null?null:r.title)&&y.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){T.splice(C,1);break t}}y=h.createElement(u),dt(y,u,r),h.head.appendChild(y);break;case"meta":if(T=Rh("meta","content",h).get(u+(r.content||""))){for(C=0;C<T.length;C++)if(y=T[C],y.getAttribute("content")===(r.content==null?null:""+r.content)&&y.getAttribute("name")===(r.name==null?null:r.name)&&y.getAttribute("property")===(r.property==null?null:r.property)&&y.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&y.getAttribute("charset")===(r.charSet==null?null:r.charSet)){T.splice(C,1);break t}}y=h.createElement(u),dt(y,u,r),h.head.appendChild(y);break;default:throw Error(i(468,u))}y[ft]=n,st(y),u=y}n.stateNode=u}else Dh(h,n.type,n.stateNode);else n.stateNode=Mh(h,u,n.memoizedProps);else y!==u?(y===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):y.count--,u===null?Dh(h,n.type,n.stateNode):Mh(h,u,n.memoizedProps)):u===null&&n.stateNode!==null&&mu(n,n.memoizedProps,r.memoizedProps)}break;case 27:Mt(a,n),Rt(n),u&512&&(Qe||r===null||ln(r,r.return)),r!==null&&u&4&&mu(n,n.memoizedProps,r.memoizedProps);break;case 5:if(Mt(a,n),Rt(n),u&512&&(Qe||r===null||ln(r,r.return)),n.flags&32){h=n.stateNode;try{Fa(h,"")}catch(j){qe(n,n.return,j)}}u&4&&n.stateNode!=null&&(h=n.memoizedProps,mu(n,h,r!==null?r.memoizedProps:h)),u&1024&&(gu=!0);break;case 6:if(Mt(a,n),Rt(n),u&4){if(n.stateNode===null)throw Error(i(162));u=n.memoizedProps,r=n.stateNode;try{r.nodeValue=u}catch(j){qe(n,n.return,j)}}break;case 3:if(lr=null,h=Jt,Jt=ir(a.containerInfo),Mt(a,n),Jt=h,Rt(n),u&4&&r!==null&&r.memoizedState.isDehydrated)try{Ls(a.containerInfo)}catch(j){qe(n,n.return,j)}gu&&(gu=!1,jm(n));break;case 4:u=Jt,Jt=ir(n.stateNode.containerInfo),Mt(a,n),Rt(n),Jt=u;break;case 12:Mt(a,n),Rt(n);break;case 13:Mt(a,n),Rt(n),n.child.flags&8192&&n.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Cu=nn()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,yu(n,u)));break;case 22:h=n.memoizedState!==null;var A=r!==null&&r.memoizedState!==null,L=En,B=Qe;if(En=L||h,Qe=B||A,Mt(a,n),Qe=B,En=L,Rt(n),u&8192)e:for(a=n.stateNode,a._visibility=h?a._visibility&-2:a._visibility|1,h&&(r===null||A||En||Qe||Ma(n)),r=null,a=n;;){if(a.tag===5||a.tag===26){if(r===null){A=r=a;try{if(y=A.stateNode,h)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=A.stateNode;var H=A.memoizedProps.style,P=H!=null&&H.hasOwnProperty("display")?H.display:null;C.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(j){qe(A,A.return,j)}}}else if(a.tag===6){if(r===null){A=a;try{A.stateNode.nodeValue=h?"":A.memoizedProps}catch(j){qe(A,A.return,j)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;r===a&&(r=null),a=a.return}r===a&&(r=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=n.updateQueue,u!==null&&(r=u.retryQueue,r!==null&&(u.retryQueue=null,yu(n,r))));break;case 19:Mt(a,n),Rt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,yu(n,u)));break;case 30:break;case 21:break;default:Mt(a,n),Rt(n)}}function Rt(n){var a=n.flags;if(a&2){try{for(var r,u=n.return;u!==null;){if(Mm(u)){r=u;break}u=u.return}if(r==null)throw Error(i(160));switch(r.tag){case 27:var h=r.stateNode,y=hu(n);Fl(n,y,h);break;case 5:var T=r.stateNode;r.flags&32&&(Fa(T,""),r.flags&=-33);var C=hu(n);Fl(n,C,T);break;case 3:case 4:var A=r.stateNode.containerInfo,L=hu(n);pu(n,L,A);break;default:throw Error(i(161))}}catch(B){qe(n,n.return,B)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function jm(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;jm(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function Fn(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Im(n,a.alternate,a),a=a.sibling}function Ma(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:Hn(4,a,a.return),Ma(a);break;case 1:ln(a,a.return);var r=a.stateNode;typeof r.componentWillUnmount=="function"&&Am(a,a.return,r),Ma(a);break;case 27:As(a.stateNode);case 26:case 5:ln(a,a.return),Ma(a);break;case 22:a.memoizedState===null&&Ma(a);break;case 30:Ma(a);break;default:Ma(a)}n=n.sibling}}function Yn(n,a,r){for(r=r&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,h=n,y=a,T=y.flags;switch(y.tag){case 0:case 11:case 15:Yn(h,y,r),ys(4,y);break;case 1:if(Yn(h,y,r),u=y,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){qe(u,u.return,L)}if(u=y,h=u.updateQueue,h!==null){var C=u.stateNode;try{var A=h.shared.hiddenCallbacks;if(A!==null)for(h.shared.hiddenCallbacks=null,h=0;h<A.length;h++)ff(A[h],C)}catch(L){qe(u,u.return,L)}}r&&T&64&&Em(y),xs(y,y.return);break;case 27:Rm(y);case 26:case 5:Yn(h,y,r),r&&u===null&&T&4&&wm(y),xs(y,y.return);break;case 12:Yn(h,y,r);break;case 13:Yn(h,y,r),r&&T&4&&Lm(h,y);break;case 22:y.memoizedState===null&&Yn(h,y,r),xs(y,y.return);break;case 30:break;default:Yn(h,y,r)}a=a.sibling}}function xu(n,a){var r=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==r&&(n!=null&&n.refCount++,r!=null&&as(r))}function vu(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&as(n))}function rn(n,a,r,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Vm(n,a,r,u),a=a.sibling}function Vm(n,a,r,u){var h=a.flags;switch(a.tag){case 0:case 11:case 15:rn(n,a,r,u),h&2048&&ys(9,a);break;case 1:rn(n,a,r,u);break;case 3:rn(n,a,r,u),h&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&as(n)));break;case 12:if(h&2048){rn(n,a,r,u),n=a.stateNode;try{var y=a.memoizedProps,T=y.id,C=y.onPostCommit;typeof C=="function"&&C(T,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(A){qe(a,a.return,A)}}else rn(n,a,r,u);break;case 13:rn(n,a,r,u);break;case 23:break;case 22:y=a.stateNode,T=a.alternate,a.memoizedState!==null?y._visibility&2?rn(n,a,r,u):vs(n,a):y._visibility&2?rn(n,a,r,u):(y._visibility|=2,ci(n,a,r,u,(a.subtreeFlags&10256)!==0)),h&2048&&xu(T,a);break;case 24:rn(n,a,r,u),h&2048&&vu(a.alternate,a);break;default:rn(n,a,r,u)}}function ci(n,a,r,u,h){for(h=h&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=n,T=a,C=r,A=u,L=T.flags;switch(T.tag){case 0:case 11:case 15:ci(y,T,C,A,h),ys(8,T);break;case 23:break;case 22:var B=T.stateNode;T.memoizedState!==null?B._visibility&2?ci(y,T,C,A,h):vs(y,T):(B._visibility|=2,ci(y,T,C,A,h)),h&&L&2048&&xu(T.alternate,T);break;case 24:ci(y,T,C,A,h),h&&L&2048&&vu(T.alternate,T);break;default:ci(y,T,C,A,h)}a=a.sibling}}function vs(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var r=n,u=a,h=u.flags;switch(u.tag){case 22:vs(r,u),h&2048&&xu(u.alternate,u);break;case 24:vs(r,u),h&2048&&vu(u.alternate,u);break;default:vs(r,u)}a=a.sibling}}var bs=8192;function di(n){if(n.subtreeFlags&bs)for(n=n.child;n!==null;)Om(n),n=n.sibling}function Om(n){switch(n.tag){case 26:di(n),n.flags&bs&&n.memoizedState!==null&&Fv(Jt,n.memoizedState,n.memoizedProps);break;case 5:di(n);break;case 3:case 4:var a=Jt;Jt=ir(n.stateNode.containerInfo),di(n),Jt=a;break;case 22:n.memoizedState===null&&(a=n.alternate,a!==null&&a.memoizedState!==null?(a=bs,bs=16777216,di(n),bs=a):di(n));break;default:di(n)}}function Bm(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function Ts(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var u=a[r];rt=u,Gm(u,n)}Bm(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)qm(n),n=n.sibling}function qm(n){switch(n.tag){case 0:case 11:case 15:Ts(n),n.flags&2048&&Hn(9,n,n.return);break;case 3:Ts(n);break;case 12:Ts(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&2&&(n.return===null||n.return.tag!==13)?(a._visibility&=-3,Yl(n)):Ts(n);break;default:Ts(n)}}function Yl(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var u=a[r];rt=u,Gm(u,n)}Bm(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:Hn(8,a,a.return),Yl(a);break;case 22:r=a.stateNode,r._visibility&2&&(r._visibility&=-3,Yl(a));break;default:Yl(a)}n=n.sibling}}function Gm(n,a){for(;rt!==null;){var r=rt;switch(r.tag){case 0:case 11:case 15:Hn(8,r,a);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var u=r.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:as(r.memoizedState.cache)}if(u=r.child,u!==null)u.return=r,rt=u;else e:for(r=n;rt!==null;){u=rt;var h=u.sibling,y=u.return;if(Um(u),u===r){rt=null;break e}if(h!==null){h.return=y,rt=h;break e}rt=y}}}var rv={getCacheForType:function(n){var a=mt(at),r=a.data.get(n);return r===void 0&&(r=n(),a.data.set(n,r)),r}},ov=typeof WeakMap=="function"?WeakMap:Map,ke=0,Ge=null,Ce=null,Ae=0,Le=0,Dt=null,$n=!1,fi=!1,bu=!1,wn=0,Je=0,Zn=0,Ra=0,Tu=0,Ht=0,mi=0,_s=null,Ct=null,_u=!1,Cu=0,$l=1/0,Zl=null,Kn=null,ct=0,Jn=null,hi=null,pi=0,Su=0,Nu=null,zm=null,Cs=0,Eu=null;function It(){if((ke&2)!==0&&Ae!==0)return Ae&-Ae;if(O.T!==null){var n=ni;return n!==0?n:Uu()}return id()}function Hm(){Ht===0&&(Ht=(Ae&536870912)===0||Ie?ed():536870912);var n=zt.current;return n!==null&&(n.flags|=32),Ht}function Ut(n,a,r){(n===Ge&&(Le===2||Le===9)||n.cancelPendingCommit!==null)&&(gi(n,0),Xn(n,Ae,Ht,!1)),qi(n,r),((ke&2)===0||n!==Ge)&&(n===Ge&&((ke&2)===0&&(Ra|=r),Je===4&&Xn(n,Ae,Ht,!1)),on(n))}function Fm(n,a,r){if((ke&6)!==0)throw Error(i(327));var u=!r&&(a&124)===0&&(a&n.expiredLanes)===0||Bi(n,a),h=u?dv(n,a):Mu(n,a,!0),y=u;do{if(h===0){fi&&!u&&Xn(n,a,0,!1);break}else{if(r=n.current.alternate,y&&!uv(r)){h=Mu(n,a,!1),y=!1;continue}if(h===2){if(y=a,n.errorRecoveryDisabledLanes&y)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;e:{var C=n;h=_s;var A=C.current.memoizedState.isDehydrated;if(A&&(gi(C,T).flags|=256),T=Mu(C,T,!1),T!==2){if(bu&&!A){C.errorRecoveryDisabledLanes|=y,Ra|=y,h=4;break e}y=Ct,Ct=h,y!==null&&(Ct===null?Ct=y:Ct.push.apply(Ct,y))}h=T}if(y=!1,h!==2)continue}}if(h===1){gi(n,0),Xn(n,a,0,!0);break}e:{switch(u=n,y=h,y){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Xn(u,a,Ht,!$n);break e;case 2:Ct=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(h=Cu+300-nn(),10<h)){if(Xn(u,a,Ht,!$n),sl(u,0,!0)!==0)break e;u.timeoutHandle=bh(Ym.bind(null,u,r,Ct,Zl,_u,a,Ht,Ra,mi,$n,y,2,-0,0),h);break e}Ym(u,r,Ct,Zl,_u,a,Ht,Ra,mi,$n,y,0,-0,0)}}break}while(!0);on(n)}function Ym(n,a,r,u,h,y,T,C,A,L,B,H,P,j){if(n.timeoutHandle=-1,H=a.subtreeFlags,(H&8192||(H&16785408)===16785408)&&(Rs={stylesheets:null,count:0,unsuspend:Hv},Om(a),H=Yv(),H!==null)){n.cancelPendingCommit=H(Wm.bind(null,n,a,y,r,u,h,T,C,A,B,1,P,j)),Xn(n,y,T,!L);return}Wm(n,a,y,r,u,h,T,C,A)}function uv(n){for(var a=n;;){var r=a.tag;if((r===0||r===11||r===15)&&a.flags&16384&&(r=a.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var u=0;u<r.length;u++){var h=r[u],y=h.getSnapshot;h=h.value;try{if(!At(y(),h))return!1}catch{return!1}}if(r=a.child,a.subtreeFlags&16384&&r!==null)r.return=a,a=r;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Xn(n,a,r,u){a&=~Tu,a&=~Ra,n.suspendedLanes|=a,n.pingedLanes&=~a,u&&(n.warmLanes|=a),u=n.expirationTimes;for(var h=a;0<h;){var y=31-Et(h),T=1<<y;u[y]=-1,h&=~T}r!==0&&nd(n,r,a)}function Kl(){return(ke&6)===0?(Ss(0),!1):!0}function Au(){if(Ce!==null){if(Le===0)var n=Ce.return;else n=Ce,bn=Sa=null,Ho(n),oi=null,hs=0,n=Ce;for(;n!==null;)Nm(n.alternate,n),n=n.return;Ce=null}}function gi(n,a){var r=n.timeoutHandle;r!==-1&&(n.timeoutHandle=-1,Av(r)),r=n.cancelPendingCommit,r!==null&&(n.cancelPendingCommit=null,r()),Au(),Ge=n,Ce=r=yn(n.current,null),Ae=a,Le=0,Dt=null,$n=!1,fi=Bi(n,a),bu=!1,mi=Ht=Tu=Ra=Zn=Je=0,Ct=_s=null,_u=!1,(a&8)!==0&&(a|=a&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=a;0<u;){var h=31-Et(u),y=1<<h;a|=n[h],u&=~y}return wn=a,yl(),r}function $m(n,a){Te=null,O.H=Pl,a===ss||a===El?(a=cf(),Le=3):a===rf?(a=cf(),Le=4):Le=a===dm?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Dt=a,Ce===null&&(Je=1,ql(n,Ot(a,n.current)))}function Zm(){var n=O.H;return O.H=Pl,n===null?Pl:n}function Km(){var n=O.A;return O.A=rv,n}function wu(){Je=4,$n||(Ae&4194048)!==Ae&&zt.current!==null||(fi=!0),(Zn&134217727)===0&&(Ra&134217727)===0||Ge===null||Xn(Ge,Ae,Ht,!1)}function Mu(n,a,r){var u=ke;ke|=2;var h=Zm(),y=Km();(Ge!==n||Ae!==a)&&(Zl=null,gi(n,a)),a=!1;var T=Je;e:do try{if(Le!==0&&Ce!==null){var C=Ce,A=Dt;switch(Le){case 8:Au(),T=6;break e;case 3:case 2:case 9:case 6:zt.current===null&&(a=!0);var L=Le;if(Le=0,Dt=null,yi(n,C,A,L),r&&fi){T=0;break e}break;default:L=Le,Le=0,Dt=null,yi(n,C,A,L)}}cv(),T=Je;break}catch(B){$m(n,B)}while(!0);return a&&n.shellSuspendCounter++,bn=Sa=null,ke=u,O.H=h,O.A=y,Ce===null&&(Ge=null,Ae=0,yl()),T}function cv(){for(;Ce!==null;)Jm(Ce)}function dv(n,a){var r=ke;ke|=2;var u=Zm(),h=Km();Ge!==n||Ae!==a?(Zl=null,$l=nn()+500,gi(n,a)):fi=Bi(n,a);e:do try{if(Le!==0&&Ce!==null){a=Ce;var y=Dt;t:switch(Le){case 1:Le=0,Dt=null,yi(n,a,y,1);break;case 2:case 9:if(of(y)){Le=0,Dt=null,Xm(a);break}a=function(){Le!==2&&Le!==9||Ge!==n||(Le=7),on(n)},y.then(a,a);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:of(y)?(Le=0,Dt=null,Xm(a)):(Le=0,Dt=null,yi(n,a,y,7));break;case 5:var T=null;switch(Ce.tag){case 26:T=Ce.memoizedState;case 5:case 27:var C=Ce;if(!T||Ih(T)){Le=0,Dt=null;var A=C.sibling;if(A!==null)Ce=A;else{var L=C.return;L!==null?(Ce=L,Jl(L)):Ce=null}break t}}Le=0,Dt=null,yi(n,a,y,5);break;case 6:Le=0,Dt=null,yi(n,a,y,6);break;case 8:Au(),Je=6;break e;default:throw Error(i(462))}}fv();break}catch(B){$m(n,B)}while(!0);return bn=Sa=null,O.H=u,O.A=h,ke=r,Ce!==null?0:(Ge=null,Ae=0,yl(),Je)}function fv(){for(;Ce!==null&&!ky();)Jm(Ce)}function Jm(n){var a=Cm(n.alternate,n,wn);n.memoizedProps=n.pendingProps,a===null?Jl(n):Ce=a}function Xm(n){var a=n,r=a.alternate;switch(a.tag){case 15:case 0:a=ym(r,a,a.pendingProps,a.type,void 0,Ae);break;case 11:a=ym(r,a,a.pendingProps,a.type.render,a.ref,Ae);break;case 5:Ho(a);default:Nm(r,a),a=Ce=Xd(a,wn),a=Cm(r,a,wn)}n.memoizedProps=n.pendingProps,a===null?Jl(n):Ce=a}function yi(n,a,r,u){bn=Sa=null,Ho(a),oi=null,hs=0;var h=a.return;try{if(tv(n,h,a,r,Ae)){Je=1,ql(n,Ot(r,n.current)),Ce=null;return}}catch(y){if(h!==null)throw Ce=h,y;Je=1,ql(n,Ot(r,n.current)),Ce=null;return}a.flags&32768?(Ie||u===1?n=!0:fi||(Ae&536870912)!==0?n=!1:($n=n=!0,(u===2||u===9||u===3||u===6)&&(u=zt.current,u!==null&&u.tag===13&&(u.flags|=16384))),Qm(a,n)):Jl(a)}function Jl(n){var a=n;do{if((a.flags&32768)!==0){Qm(a,$n);return}n=a.return;var r=av(a.alternate,a,wn);if(r!==null){Ce=r;return}if(a=a.sibling,a!==null){Ce=a;return}Ce=a=n}while(a!==null);Je===0&&(Je=5)}function Qm(n,a){do{var r=iv(n.alternate,n);if(r!==null){r.flags&=32767,Ce=r;return}if(r=n.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!a&&(n=n.sibling,n!==null)){Ce=n;return}Ce=n=r}while(n!==null);Je=6,Ce=null}function Wm(n,a,r,u,h,y,T,C,A){n.cancelPendingCommit=null;do Xl();while(ct!==0);if((ke&6)!==0)throw Error(i(327));if(a!==null){if(a===n.current)throw Error(i(177));if(y=a.lanes|a.childLanes,y|=vo,Hy(n,r,y,T,C,A),n===Ge&&(Ce=Ge=null,Ae=0),hi=a,Jn=n,pi=r,Su=y,Nu=h,zm=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,gv(nl,function(){return ih(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=O.T,O.T=null,h=Q.p,Q.p=2,T=ke,ke|=4;try{sv(n,a,r)}finally{ke=T,Q.p=h,O.T=u}}ct=1,eh(),th(),nh()}}function eh(){if(ct===1){ct=0;var n=Jn,a=hi,r=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||r){r=O.T,O.T=null;var u=Q.p;Q.p=2;var h=ke;ke|=4;try{Pm(a,n);var y=qu,T=qd(n.containerInfo),C=y.focusedElem,A=y.selectionRange;if(T!==C&&C&&C.ownerDocument&&Bd(C.ownerDocument.documentElement,C)){if(A!==null&&ho(C)){var L=A.start,B=A.end;if(B===void 0&&(B=L),"selectionStart"in C)C.selectionStart=L,C.selectionEnd=Math.min(B,C.value.length);else{var H=C.ownerDocument||document,P=H&&H.defaultView||window;if(P.getSelection){var j=P.getSelection(),he=C.textContent.length,de=Math.min(A.start,he),Oe=A.end===void 0?de:Math.min(A.end,he);!j.extend&&de>Oe&&(T=Oe,Oe=de,de=T);var U=Od(C,de),R=Od(C,Oe);if(U&&R&&(j.rangeCount!==1||j.anchorNode!==U.node||j.anchorOffset!==U.offset||j.focusNode!==R.node||j.focusOffset!==R.offset)){var k=H.createRange();k.setStart(U.node,U.offset),j.removeAllRanges(),de>Oe?(j.addRange(k),j.extend(R.node,R.offset)):(k.setEnd(R.node,R.offset),j.addRange(k))}}}}for(H=[],j=C;j=j.parentNode;)j.nodeType===1&&H.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<H.length;C++){var G=H[C];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}ur=!!Bu,qu=Bu=null}finally{ke=h,Q.p=u,O.T=r}}n.current=a,ct=2}}function th(){if(ct===2){ct=0;var n=Jn,a=hi,r=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||r){r=O.T,O.T=null;var u=Q.p;Q.p=2;var h=ke;ke|=4;try{Im(n,a.alternate,a)}finally{ke=h,Q.p=u,O.T=r}}ct=3}}function nh(){if(ct===4||ct===3){ct=0,Ly();var n=Jn,a=hi,r=pi,u=zm;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?ct=5:(ct=0,hi=Jn=null,ah(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(Kn=null),Yr(r),a=a.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Oi,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=O.T,h=Q.p,Q.p=2,O.T=null;try{for(var y=n.onRecoverableError,T=0;T<u.length;T++){var C=u[T];y(C.value,{componentStack:C.stack})}}finally{O.T=a,Q.p=h}}(pi&3)!==0&&Xl(),on(n),h=n.pendingLanes,(r&4194090)!==0&&(h&42)!==0?n===Eu?Cs++:(Cs=0,Eu=n):Cs=0,Ss(0)}}function ah(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,as(a)))}function Xl(n){return eh(),th(),nh(),ih()}function ih(){if(ct!==5)return!1;var n=Jn,a=Su;Su=0;var r=Yr(pi),u=O.T,h=Q.p;try{Q.p=32>r?32:r,O.T=null,r=Nu,Nu=null;var y=Jn,T=pi;if(ct=0,hi=Jn=null,pi=0,(ke&6)!==0)throw Error(i(331));var C=ke;if(ke|=4,qm(y.current),Vm(y,y.current,T,r),ke=C,Ss(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Oi,y)}catch{}return!0}finally{Q.p=h,O.T=u,ah(n,a)}}function sh(n,a,r){a=Ot(r,a),a=iu(n.stateNode,a,2),n=Bn(n,a,2),n!==null&&(qi(n,2),on(n))}function qe(n,a,r){if(n.tag===3)sh(n,n,r);else for(;a!==null;){if(a.tag===3){sh(a,n,r);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Kn===null||!Kn.has(u))){n=Ot(r,n),r=um(2),u=Bn(a,r,2),u!==null&&(cm(r,u,a,n),qi(u,2),on(u));break}}a=a.return}}function Ru(n,a,r){var u=n.pingCache;if(u===null){u=n.pingCache=new ov;var h=new Set;u.set(a,h)}else h=u.get(a),h===void 0&&(h=new Set,u.set(a,h));h.has(r)||(bu=!0,h.add(r),n=mv.bind(null,n,a,r),a.then(n,n))}function mv(n,a,r){var u=n.pingCache;u!==null&&u.delete(a),n.pingedLanes|=n.suspendedLanes&r,n.warmLanes&=~r,Ge===n&&(Ae&r)===r&&(Je===4||Je===3&&(Ae&62914560)===Ae&&300>nn()-Cu?(ke&2)===0&&gi(n,0):Tu|=r,mi===Ae&&(mi=0)),on(n)}function lh(n,a){a===0&&(a=td()),n=Qa(n,a),n!==null&&(qi(n,a),on(n))}function hv(n){var a=n.memoizedState,r=0;a!==null&&(r=a.retryLane),lh(n,r)}function pv(n,a){var r=0;switch(n.tag){case 13:var u=n.stateNode,h=n.memoizedState;h!==null&&(r=h.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),lh(n,r)}function gv(n,a){return Gr(n,a)}var Ql=null,xi=null,Du=!1,Wl=!1,Iu=!1,Da=0;function on(n){n!==xi&&n.next===null&&(xi===null?Ql=xi=n:xi=xi.next=n),Wl=!0,Du||(Du=!0,xv())}function Ss(n,a){if(!Iu&&Wl){Iu=!0;do for(var r=!1,u=Ql;u!==null;){if(n!==0){var h=u.pendingLanes;if(h===0)var y=0;else{var T=u.suspendedLanes,C=u.pingedLanes;y=(1<<31-Et(42|n)+1)-1,y&=h&~(T&~C),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(r=!0,ch(u,y))}else y=Ae,y=sl(u,u===Ge?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||Bi(u,y)||(r=!0,ch(u,y));u=u.next}while(r);Iu=!1}}function yv(){rh()}function rh(){Wl=Du=!1;var n=0;Da!==0&&(Ev()&&(n=Da),Da=0);for(var a=nn(),r=null,u=Ql;u!==null;){var h=u.next,y=oh(u,a);y===0?(u.next=null,r===null?Ql=h:r.next=h,h===null&&(xi=r)):(r=u,(n!==0||(y&3)!==0)&&(Wl=!0)),u=h}Ss(n)}function oh(n,a){for(var r=n.suspendedLanes,u=n.pingedLanes,h=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var T=31-Et(y),C=1<<T,A=h[T];A===-1?((C&r)===0||(C&u)!==0)&&(h[T]=zy(C,a)):A<=a&&(n.expiredLanes|=C),y&=~C}if(a=Ge,r=Ae,r=sl(n,n===a?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,r===0||n===a&&(Le===2||Le===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&zr(u),n.callbackNode=null,n.callbackPriority=0;if((r&3)===0||Bi(n,r)){if(a=r&-r,a===n.callbackPriority)return a;switch(u!==null&&zr(u),Yr(r)){case 2:case 8:r=Qc;break;case 32:r=nl;break;case 268435456:r=Wc;break;default:r=nl}return u=uh.bind(null,n),r=Gr(r,u),n.callbackPriority=a,n.callbackNode=r,a}return u!==null&&u!==null&&zr(u),n.callbackPriority=2,n.callbackNode=null,2}function uh(n,a){if(ct!==0&&ct!==5)return n.callbackNode=null,n.callbackPriority=0,null;var r=n.callbackNode;if(Xl()&&n.callbackNode!==r)return null;var u=Ae;return u=sl(n,n===Ge?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Fm(n,u,a),oh(n,nn()),n.callbackNode!=null&&n.callbackNode===r?uh.bind(null,n):null)}function ch(n,a){if(Xl())return null;Fm(n,a,!0)}function xv(){wv(function(){(ke&6)!==0?Gr(Xc,yv):rh()})}function Uu(){return Da===0&&(Da=ed()),Da}function dh(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:cl(""+n)}function fh(n,a){var r=a.ownerDocument.createElement("input");return r.name=a.name,r.value=a.value,n.id&&r.setAttribute("form",n.id),a.parentNode.insertBefore(r,a),n=new FormData(n),r.parentNode.removeChild(r),n}function vv(n,a,r,u,h){if(a==="submit"&&r&&r.stateNode===h){var y=dh((h[vt]||null).action),T=u.submitter;T&&(a=(a=T[vt]||null)?dh(a.formAction):T.getAttribute("formAction"),a!==null&&(y=a,T=null));var C=new hl("action","action",null,u,h);n.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Da!==0){var A=T?fh(h,T):new FormData(h);Wo(r,{pending:!0,data:A,method:h.method,action:y},null,A)}}else typeof y=="function"&&(C.preventDefault(),A=T?fh(h,T):new FormData(h),Wo(r,{pending:!0,data:A,method:h.method,action:y},y,A))},currentTarget:h}]})}}for(var ku=0;ku<xo.length;ku++){var Lu=xo[ku],bv=Lu.toLowerCase(),Tv=Lu[0].toUpperCase()+Lu.slice(1);Kt(bv,"on"+Tv)}Kt(Hd,"onAnimationEnd"),Kt(Fd,"onAnimationIteration"),Kt(Yd,"onAnimationStart"),Kt("dblclick","onDoubleClick"),Kt("focusin","onFocus"),Kt("focusout","onBlur"),Kt(Vx,"onTransitionRun"),Kt(Ox,"onTransitionStart"),Kt(Bx,"onTransitionCancel"),Kt($d,"onTransitionEnd"),Ga("onMouseEnter",["mouseout","mouseover"]),Ga("onMouseLeave",["mouseout","mouseover"]),Ga("onPointerEnter",["pointerout","pointerover"]),Ga("onPointerLeave",["pointerout","pointerover"]),pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pa("onBeforeInput",["compositionend","keypress","textInput","paste"]),pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_v=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ns));function mh(n,a){a=(a&4)!==0;for(var r=0;r<n.length;r++){var u=n[r],h=u.event;u=u.listeners;e:{var y=void 0;if(a)for(var T=u.length-1;0<=T;T--){var C=u[T],A=C.instance,L=C.currentTarget;if(C=C.listener,A!==y&&h.isPropagationStopped())break e;y=C,h.currentTarget=L;try{y(h)}catch(B){Bl(B)}h.currentTarget=null,y=A}else for(T=0;T<u.length;T++){if(C=u[T],A=C.instance,L=C.currentTarget,C=C.listener,A!==y&&h.isPropagationStopped())break e;y=C,h.currentTarget=L;try{y(h)}catch(B){Bl(B)}h.currentTarget=null,y=A}}}}function Se(n,a){var r=a[$r];r===void 0&&(r=a[$r]=new Set);var u=n+"__bubble";r.has(u)||(hh(a,n,2,!1),r.add(u))}function Pu(n,a,r){var u=0;a&&(u|=4),hh(r,n,u,a)}var er="_reactListening"+Math.random().toString(36).slice(2);function ju(n){if(!n[er]){n[er]=!0,ld.forEach(function(r){r!=="selectionchange"&&(_v.has(r)||Pu(r,!1,n),Pu(r,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[er]||(a[er]=!0,Pu("selectionchange",!1,a))}}function hh(n,a,r,u){switch(Vh(a)){case 2:var h=Kv;break;case 8:h=Jv;break;default:h=Xu}r=h.bind(null,a,r,n),h=void 0,!io||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(h=!0),u?h!==void 0?n.addEventListener(a,r,{capture:!0,passive:h}):n.addEventListener(a,r,!0):h!==void 0?n.addEventListener(a,r,{passive:h}):n.addEventListener(a,r,!1)}function Vu(n,a,r,u,h){var y=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var C=u.stateNode.containerInfo;if(C===h)break;if(T===4)for(T=u.return;T!==null;){var A=T.tag;if((A===3||A===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;C!==null;){if(T=Oa(C),T===null)return;if(A=T.tag,A===5||A===6||A===26||A===27){u=y=T;continue e}C=C.parentNode}}u=u.return}bd(function(){var L=y,B=no(r),H=[];e:{var P=Zd.get(n);if(P!==void 0){var j=hl,he=n;switch(n){case"keypress":if(fl(r)===0)break e;case"keydown":case"keyup":j=gx;break;case"focusin":he="focus",j=oo;break;case"focusout":he="blur",j=oo;break;case"beforeblur":case"afterblur":j=oo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Cd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=ix;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=vx;break;case Hd:case Fd:case Yd:j=rx;break;case $d:j=Tx;break;case"scroll":case"scrollend":j=nx;break;case"wheel":j=Cx;break;case"copy":case"cut":case"paste":j=ux;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Nd;break;case"toggle":case"beforetoggle":j=Nx}var de=(a&4)!==0,Oe=!de&&(n==="scroll"||n==="scrollend"),U=de?P!==null?P+"Capture":null:P;de=[];for(var R=L,k;R!==null;){var G=R;if(k=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||k===null||U===null||(G=Hi(R,U),G!=null&&de.push(Es(R,G,k))),Oe)break;R=R.return}0<de.length&&(P=new j(P,he,null,r,B),H.push({event:P,listeners:de}))}}if((a&7)===0){e:{if(P=n==="mouseover"||n==="pointerover",j=n==="mouseout"||n==="pointerout",P&&r!==to&&(he=r.relatedTarget||r.fromElement)&&(Oa(he)||he[Va]))break e;if((j||P)&&(P=B.window===B?B:(P=B.ownerDocument)?P.defaultView||P.parentWindow:window,j?(he=r.relatedTarget||r.toElement,j=L,he=he?Oa(he):null,he!==null&&(Oe=o(he),de=he.tag,he!==Oe||de!==5&&de!==27&&de!==6)&&(he=null)):(j=null,he=L),j!==he)){if(de=Cd,G="onMouseLeave",U="onMouseEnter",R="mouse",(n==="pointerout"||n==="pointerover")&&(de=Nd,G="onPointerLeave",U="onPointerEnter",R="pointer"),Oe=j==null?P:zi(j),k=he==null?P:zi(he),P=new de(G,R+"leave",j,r,B),P.target=Oe,P.relatedTarget=k,G=null,Oa(B)===L&&(de=new de(U,R+"enter",he,r,B),de.target=k,de.relatedTarget=Oe,G=de),Oe=G,j&&he)t:{for(de=j,U=he,R=0,k=de;k;k=vi(k))R++;for(k=0,G=U;G;G=vi(G))k++;for(;0<R-k;)de=vi(de),R--;for(;0<k-R;)U=vi(U),k--;for(;R--;){if(de===U||U!==null&&de===U.alternate)break t;de=vi(de),U=vi(U)}de=null}else de=null;j!==null&&ph(H,P,j,de,!1),he!==null&&Oe!==null&&ph(H,Oe,he,de,!0)}}e:{if(P=L?zi(L):window,j=P.nodeName&&P.nodeName.toLowerCase(),j==="select"||j==="input"&&P.type==="file")var ie=Ud;else if(Dd(P))if(kd)ie=Lx;else{ie=Ux;var _e=Ix}else j=P.nodeName,!j||j.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?L&&eo(L.elementType)&&(ie=Ud):ie=kx;if(ie&&(ie=ie(n,L))){Id(H,ie,r,B);break e}_e&&_e(n,P,L),n==="focusout"&&L&&P.type==="number"&&L.memoizedProps.value!=null&&Wr(P,"number",P.value)}switch(_e=L?zi(L):window,n){case"focusin":(Dd(_e)||_e.contentEditable==="true")&&(Ka=_e,po=L,Qi=null);break;case"focusout":Qi=po=Ka=null;break;case"mousedown":go=!0;break;case"contextmenu":case"mouseup":case"dragend":go=!1,Gd(H,r,B);break;case"selectionchange":if(jx)break;case"keydown":case"keyup":Gd(H,r,B)}var re;if(co)e:{switch(n){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else Za?Md(n,r)&&(fe="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(fe="onCompositionStart");fe&&(Ed&&r.locale!=="ko"&&(Za||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&Za&&(re=Td()):(Pn=B,so="value"in Pn?Pn.value:Pn.textContent,Za=!0)),_e=tr(L,fe),0<_e.length&&(fe=new Sd(fe,n,null,r,B),H.push({event:fe,listeners:_e}),re?fe.data=re:(re=Rd(r),re!==null&&(fe.data=re)))),(re=Ax?wx(n,r):Mx(n,r))&&(fe=tr(L,"onBeforeInput"),0<fe.length&&(_e=new Sd("onBeforeInput","beforeinput",null,r,B),H.push({event:_e,listeners:fe}),_e.data=re)),vv(H,n,L,r,B)}mh(H,a)})}function Es(n,a,r){return{instance:n,listener:a,currentTarget:r}}function tr(n,a){for(var r=a+"Capture",u=[];n!==null;){var h=n,y=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||y===null||(h=Hi(n,r),h!=null&&u.unshift(Es(n,h,y)),h=Hi(n,a),h!=null&&u.push(Es(n,h,y))),n.tag===3)return u;n=n.return}return[]}function vi(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function ph(n,a,r,u,h){for(var y=a._reactName,T=[];r!==null&&r!==u;){var C=r,A=C.alternate,L=C.stateNode;if(C=C.tag,A!==null&&A===u)break;C!==5&&C!==26&&C!==27||L===null||(A=L,h?(L=Hi(r,y),L!=null&&T.unshift(Es(r,L,A))):h||(L=Hi(r,y),L!=null&&T.push(Es(r,L,A)))),r=r.return}T.length!==0&&n.push({event:a,listeners:T})}var Cv=/\r\n?/g,Sv=/\u0000|\uFFFD/g;function gh(n){return(typeof n=="string"?n:""+n).replace(Cv,`
`).replace(Sv,"")}function yh(n,a){return a=gh(a),gh(n)===a}function nr(){}function Ve(n,a,r,u,h,y){switch(r){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Fa(n,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Fa(n,""+u);break;case"className":rl(n,"class",u);break;case"tabIndex":rl(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":rl(n,r,u);break;case"style":xd(n,u,y);break;case"data":if(a!=="object"){rl(n,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||r!=="href")){n.removeAttribute(r);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(r);break}u=cl(""+u),n.setAttribute(r,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(r==="formAction"?(a!=="input"&&Ve(n,a,"name",h.name,h,null),Ve(n,a,"formEncType",h.formEncType,h,null),Ve(n,a,"formMethod",h.formMethod,h,null),Ve(n,a,"formTarget",h.formTarget,h,null)):(Ve(n,a,"encType",h.encType,h,null),Ve(n,a,"method",h.method,h,null),Ve(n,a,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(r);break}u=cl(""+u),n.setAttribute(r,u);break;case"onClick":u!=null&&(n.onclick=nr);break;case"onScroll":u!=null&&Se("scroll",n);break;case"onScrollEnd":u!=null&&Se("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(r=u.__html,r!=null){if(h.children!=null)throw Error(i(60));n.innerHTML=r}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}r=cl(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(r,""+u):n.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(r,""):n.removeAttribute(r);break;case"capture":case"download":u===!0?n.setAttribute(r,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(r,u):n.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(r,u):n.removeAttribute(r);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(r):n.setAttribute(r,u);break;case"popover":Se("beforetoggle",n),Se("toggle",n),ll(n,"popover",u);break;case"xlinkActuate":pn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":pn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":pn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":pn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":pn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":pn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":pn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":pn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":pn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ll(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=ex.get(r)||r,ll(n,r,u))}}function Ou(n,a,r,u,h,y){switch(r){case"style":xd(n,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(r=u.__html,r!=null){if(h.children!=null)throw Error(i(60));n.innerHTML=r}}break;case"children":typeof u=="string"?Fa(n,u):(typeof u=="number"||typeof u=="bigint")&&Fa(n,""+u);break;case"onScroll":u!=null&&Se("scroll",n);break;case"onScrollEnd":u!=null&&Se("scrollend",n);break;case"onClick":u!=null&&(n.onclick=nr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rd.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),a=r.slice(2,h?r.length-7:void 0),y=n[vt]||null,y=y!=null?y[r]:null,typeof y=="function"&&n.removeEventListener(a,y,h),typeof u=="function")){typeof y!="function"&&y!==null&&(r in n?n[r]=null:n.hasAttribute(r)&&n.removeAttribute(r)),n.addEventListener(a,u,h);break e}r in n?n[r]=u:u===!0?n.setAttribute(r,""):ll(n,r,u)}}}function dt(n,a,r){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",n),Se("load",n);var u=!1,h=!1,y;for(y in r)if(r.hasOwnProperty(y)){var T=r[y];if(T!=null)switch(y){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ve(n,a,y,T,r,null)}}h&&Ve(n,a,"srcSet",r.srcSet,r,null),u&&Ve(n,a,"src",r.src,r,null);return;case"input":Se("invalid",n);var C=y=T=h=null,A=null,L=null;for(u in r)if(r.hasOwnProperty(u)){var B=r[u];if(B!=null)switch(u){case"name":h=B;break;case"type":T=B;break;case"checked":A=B;break;case"defaultChecked":L=B;break;case"value":y=B;break;case"defaultValue":C=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(137,a));break;default:Ve(n,a,u,B,r,null)}}hd(n,y,C,A,L,T,h,!1),ol(n);return;case"select":Se("invalid",n),u=T=y=null;for(h in r)if(r.hasOwnProperty(h)&&(C=r[h],C!=null))switch(h){case"value":y=C;break;case"defaultValue":T=C;break;case"multiple":u=C;default:Ve(n,a,h,C,r,null)}a=y,r=T,n.multiple=!!u,a!=null?Ha(n,!!u,a,!1):r!=null&&Ha(n,!!u,r,!0);return;case"textarea":Se("invalid",n),y=h=u=null;for(T in r)if(r.hasOwnProperty(T)&&(C=r[T],C!=null))switch(T){case"value":u=C;break;case"defaultValue":h=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:Ve(n,a,T,C,r,null)}gd(n,u,h,y),ol(n);return;case"option":for(A in r)if(r.hasOwnProperty(A)&&(u=r[A],u!=null))switch(A){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ve(n,a,A,u,r,null)}return;case"dialog":Se("beforetoggle",n),Se("toggle",n),Se("cancel",n),Se("close",n);break;case"iframe":case"object":Se("load",n);break;case"video":case"audio":for(u=0;u<Ns.length;u++)Se(Ns[u],n);break;case"image":Se("error",n),Se("load",n);break;case"details":Se("toggle",n);break;case"embed":case"source":case"link":Se("error",n),Se("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in r)if(r.hasOwnProperty(L)&&(u=r[L],u!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ve(n,a,L,u,r,null)}return;default:if(eo(a)){for(B in r)r.hasOwnProperty(B)&&(u=r[B],u!==void 0&&Ou(n,a,B,u,r,void 0));return}}for(C in r)r.hasOwnProperty(C)&&(u=r[C],u!=null&&Ve(n,a,C,u,r,null))}function Nv(n,a,r,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,y=null,T=null,C=null,A=null,L=null,B=null;for(j in r){var H=r[j];if(r.hasOwnProperty(j)&&H!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":A=H;default:u.hasOwnProperty(j)||Ve(n,a,j,null,u,H)}}for(var P in u){var j=u[P];if(H=r[P],u.hasOwnProperty(P)&&(j!=null||H!=null))switch(P){case"type":y=j;break;case"name":h=j;break;case"checked":L=j;break;case"defaultChecked":B=j;break;case"value":T=j;break;case"defaultValue":C=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(i(137,a));break;default:j!==H&&Ve(n,a,P,j,u,H)}}Qr(n,T,C,A,L,B,y,h);return;case"select":j=T=C=P=null;for(y in r)if(A=r[y],r.hasOwnProperty(y)&&A!=null)switch(y){case"value":break;case"multiple":j=A;default:u.hasOwnProperty(y)||Ve(n,a,y,null,u,A)}for(h in u)if(y=u[h],A=r[h],u.hasOwnProperty(h)&&(y!=null||A!=null))switch(h){case"value":P=y;break;case"defaultValue":C=y;break;case"multiple":T=y;default:y!==A&&Ve(n,a,h,y,u,A)}a=C,r=T,u=j,P!=null?Ha(n,!!r,P,!1):!!u!=!!r&&(a!=null?Ha(n,!!r,a,!0):Ha(n,!!r,r?[]:"",!1));return;case"textarea":j=P=null;for(C in r)if(h=r[C],r.hasOwnProperty(C)&&h!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Ve(n,a,C,null,u,h)}for(T in u)if(h=u[T],y=r[T],u.hasOwnProperty(T)&&(h!=null||y!=null))switch(T){case"value":P=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==y&&Ve(n,a,T,h,u,y)}pd(n,P,j);return;case"option":for(var he in r)if(P=r[he],r.hasOwnProperty(he)&&P!=null&&!u.hasOwnProperty(he))switch(he){case"selected":n.selected=!1;break;default:Ve(n,a,he,null,u,P)}for(A in u)if(P=u[A],j=r[A],u.hasOwnProperty(A)&&P!==j&&(P!=null||j!=null))switch(A){case"selected":n.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Ve(n,a,A,P,u,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in r)P=r[de],r.hasOwnProperty(de)&&P!=null&&!u.hasOwnProperty(de)&&Ve(n,a,de,null,u,P);for(L in u)if(P=u[L],j=r[L],u.hasOwnProperty(L)&&P!==j&&(P!=null||j!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(i(137,a));break;default:Ve(n,a,L,P,u,j)}return;default:if(eo(a)){for(var Oe in r)P=r[Oe],r.hasOwnProperty(Oe)&&P!==void 0&&!u.hasOwnProperty(Oe)&&Ou(n,a,Oe,void 0,u,P);for(B in u)P=u[B],j=r[B],!u.hasOwnProperty(B)||P===j||P===void 0&&j===void 0||Ou(n,a,B,P,u,j);return}}for(var U in r)P=r[U],r.hasOwnProperty(U)&&P!=null&&!u.hasOwnProperty(U)&&Ve(n,a,U,null,u,P);for(H in u)P=u[H],j=r[H],!u.hasOwnProperty(H)||P===j||P==null&&j==null||Ve(n,a,H,P,u,j)}var Bu=null,qu=null;function ar(n){return n.nodeType===9?n:n.ownerDocument}function xh(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vh(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function Gu(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var zu=null;function Ev(){var n=window.event;return n&&n.type==="popstate"?n===zu?!1:(zu=n,!0):(zu=null,!1)}var bh=typeof setTimeout=="function"?setTimeout:void 0,Av=typeof clearTimeout=="function"?clearTimeout:void 0,Th=typeof Promise=="function"?Promise:void 0,wv=typeof queueMicrotask=="function"?queueMicrotask:typeof Th<"u"?function(n){return Th.resolve(null).then(n).catch(Mv)}:bh;function Mv(n){setTimeout(function(){throw n})}function Qn(n){return n==="head"}function _h(n,a){var r=a,u=0,h=0;do{var y=r.nextSibling;if(n.removeChild(r),y&&y.nodeType===8)if(r=y.data,r==="/$"){if(0<u&&8>u){r=u;var T=n.ownerDocument;if(r&1&&As(T.documentElement),r&2&&As(T.body),r&4)for(r=T.head,As(r),T=r.firstChild;T;){var C=T.nextSibling,A=T.nodeName;T[Gi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&T.rel.toLowerCase()==="stylesheet"||r.removeChild(T),T=C}}if(h===0){n.removeChild(y),Ls(a);return}h--}else r==="$"||r==="$?"||r==="$!"?h++:u=r.charCodeAt(0)-48;else u=0;r=y}while(r);Ls(a)}function Hu(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var r=a;switch(a=a.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Hu(r),Zr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}n.removeChild(r)}}function Rv(n,a,r,u){for(;n.nodeType===1;){var h=r;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Gi])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var y=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=Xt(n.nextSibling),n===null)break}return null}function Dv(n,a,r){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=Xt(n.nextSibling),n===null))return null;return n}function Fu(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function Iv(n,a){var r=n.ownerDocument;if(n.data!=="$?"||r.readyState==="complete")a();else{var u=function(){a(),r.removeEventListener("DOMContentLoaded",u)};r.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Xt(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return n}var Yu=null;function Ch(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"){if(a===0)return n;a--}else r==="/$"&&a++}n=n.previousSibling}return null}function Sh(n,a,r){switch(a=ar(r),n){case"html":if(n=a.documentElement,!n)throw Error(i(452));return n;case"head":if(n=a.head,!n)throw Error(i(453));return n;case"body":if(n=a.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function As(n){for(var a=n.attributes;a.length;)n.removeAttributeNode(a[0]);Zr(n)}var Ft=new Map,Nh=new Set;function ir(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Mn=Q.d;Q.d={f:Uv,r:kv,D:Lv,C:Pv,L:jv,m:Vv,X:Bv,S:Ov,M:qv};function Uv(){var n=Mn.f(),a=Kl();return n||a}function kv(n){var a=Ba(n);a!==null&&a.tag===5&&a.type==="form"?Ff(a):Mn.r(n)}var bi=typeof document>"u"?null:document;function Eh(n,a,r){var u=bi;if(u&&typeof a=="string"&&a){var h=Vt(a);h='link[rel="'+n+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),Nh.has(h)||(Nh.add(h),n={rel:n,crossOrigin:r,href:a},u.querySelector(h)===null&&(a=u.createElement("link"),dt(a,"link",n),st(a),u.head.appendChild(a)))}}function Lv(n){Mn.D(n),Eh("dns-prefetch",n,null)}function Pv(n,a){Mn.C(n,a),Eh("preconnect",n,a)}function jv(n,a,r){Mn.L(n,a,r);var u=bi;if(u&&n&&a){var h='link[rel="preload"][as="'+Vt(a)+'"]';a==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+Vt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+Vt(r.imageSizes)+'"]')):h+='[href="'+Vt(n)+'"]';var y=h;switch(a){case"style":y=Ti(n);break;case"script":y=_i(n)}Ft.has(y)||(n=v({rel:"preload",href:a==="image"&&r&&r.imageSrcSet?void 0:n,as:a},r),Ft.set(y,n),u.querySelector(h)!==null||a==="style"&&u.querySelector(ws(y))||a==="script"&&u.querySelector(Ms(y))||(a=u.createElement("link"),dt(a,"link",n),st(a),u.head.appendChild(a)))}}function Vv(n,a){Mn.m(n,a);var r=bi;if(r&&n){var u=a&&typeof a.as=="string"?a.as:"script",h='link[rel="modulepreload"][as="'+Vt(u)+'"][href="'+Vt(n)+'"]',y=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=_i(n)}if(!Ft.has(y)&&(n=v({rel:"modulepreload",href:n},a),Ft.set(y,n),r.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ms(y)))return}u=r.createElement("link"),dt(u,"link",n),st(u),r.head.appendChild(u)}}}function Ov(n,a,r){Mn.S(n,a,r);var u=bi;if(u&&n){var h=qa(u).hoistableStyles,y=Ti(n);a=a||"default";var T=h.get(y);if(!T){var C={loading:0,preload:null};if(T=u.querySelector(ws(y)))C.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":a},r),(r=Ft.get(y))&&$u(n,r);var A=T=u.createElement("link");st(A),dt(A,"link",n),A._p=new Promise(function(L,B){A.onload=L,A.onerror=B}),A.addEventListener("load",function(){C.loading|=1}),A.addEventListener("error",function(){C.loading|=2}),C.loading|=4,sr(T,a,u)}T={type:"stylesheet",instance:T,count:1,state:C},h.set(y,T)}}}function Bv(n,a){Mn.X(n,a);var r=bi;if(r&&n){var u=qa(r).hoistableScripts,h=_i(n),y=u.get(h);y||(y=r.querySelector(Ms(h)),y||(n=v({src:n,async:!0},a),(a=Ft.get(h))&&Zu(n,a),y=r.createElement("script"),st(y),dt(y,"link",n),r.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(h,y))}}function qv(n,a){Mn.M(n,a);var r=bi;if(r&&n){var u=qa(r).hoistableScripts,h=_i(n),y=u.get(h);y||(y=r.querySelector(Ms(h)),y||(n=v({src:n,async:!0,type:"module"},a),(a=Ft.get(h))&&Zu(n,a),y=r.createElement("script"),st(y),dt(y,"link",n),r.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(h,y))}}function Ah(n,a,r,u){var h=(h=xe.current)?ir(h):null;if(!h)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(a=Ti(r.href),r=qa(h).hoistableStyles,u=r.get(a),u||(u={type:"style",instance:null,count:0,state:null},r.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){n=Ti(r.href);var y=qa(h).hoistableStyles,T=y.get(n);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,T),(y=h.querySelector(ws(n)))&&!y._p&&(T.instance=y,T.state.loading=5),Ft.has(n)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Ft.set(n,r),y||Gv(h,n,r,T.state))),a&&u===null)throw Error(i(528,""));return T}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=r.async,r=r.src,typeof r=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=_i(r),r=qa(h).hoistableScripts,u=r.get(a),u||(u={type:"script",instance:null,count:0,state:null},r.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Ti(n){return'href="'+Vt(n)+'"'}function ws(n){return'link[rel="stylesheet"]['+n+"]"}function wh(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function Gv(n,a,r,u){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=n.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),dt(a,"link",r),st(a),n.head.appendChild(a))}function _i(n){return'[src="'+Vt(n)+'"]'}function Ms(n){return"script[async]"+n}function Mh(n,a,r){if(a.count++,a.instance===null)switch(a.type){case"style":var u=n.querySelector('style[data-href~="'+Vt(r.href)+'"]');if(u)return a.instance=u,st(u),u;var h=v({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),st(u),dt(u,"style",h),sr(u,r.precedence,n),a.instance=u;case"stylesheet":h=Ti(r.href);var y=n.querySelector(ws(h));if(y)return a.state.loading|=4,a.instance=y,st(y),y;u=wh(r),(h=Ft.get(h))&&$u(u,h),y=(n.ownerDocument||n).createElement("link"),st(y);var T=y;return T._p=new Promise(function(C,A){T.onload=C,T.onerror=A}),dt(y,"link",u),a.state.loading|=4,sr(y,r.precedence,n),a.instance=y;case"script":return y=_i(r.src),(h=n.querySelector(Ms(y)))?(a.instance=h,st(h),h):(u=r,(h=Ft.get(y))&&(u=v({},r),Zu(u,h)),n=n.ownerDocument||n,h=n.createElement("script"),st(h),dt(h,"link",u),n.head.appendChild(h),a.instance=h);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,sr(u,r.precedence,n));return a.instance}function sr(n,a,r){for(var u=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,y=h,T=0;T<u.length;T++){var C=u[T];if(C.dataset.precedence===a)y=C;else if(y!==h)break}y?y.parentNode.insertBefore(n,y.nextSibling):(a=r.nodeType===9?r.head:r,a.insertBefore(n,a.firstChild))}function $u(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function Zu(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var lr=null;function Rh(n,a,r){if(lr===null){var u=new Map,h=lr=new Map;h.set(r,u)}else h=lr,u=h.get(r),u||(u=new Map,h.set(r,u));if(u.has(n))return u;for(u.set(n,null),r=r.getElementsByTagName(n),h=0;h<r.length;h++){var y=r[h];if(!(y[Gi]||y[ft]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(a)||"";T=n+T;var C=u.get(T);C?C.push(y):u.set(T,[y])}}return u}function Dh(n,a,r){n=n.ownerDocument||n,n.head.insertBefore(r,a==="title"?n.querySelector("head > title"):null)}function zv(n,a,r){if(r===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return n=a.disabled,typeof a.precedence=="string"&&n==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Ih(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Rs=null;function Hv(){}function Fv(n,a,r){if(Rs===null)throw Error(i(475));var u=Rs;if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ti(r.href),y=n.querySelector(ws(h));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=rr.bind(u),n.then(u,u)),a.state.loading|=4,a.instance=y,st(y);return}y=n.ownerDocument||n,r=wh(r),(h=Ft.get(h))&&$u(r,h),y=y.createElement("link"),st(y);var T=y;T._p=new Promise(function(C,A){T.onload=C,T.onerror=A}),dt(y,"link",r),a.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=rr.bind(u),n.addEventListener("load",a),n.addEventListener("error",a))}}function Yv(){if(Rs===null)throw Error(i(475));var n=Rs;return n.stylesheets&&n.count===0&&Ku(n,n.stylesheets),0<n.count?function(a){var r=setTimeout(function(){if(n.stylesheets&&Ku(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(r)}}:null}function rr(){if(this.count--,this.count===0){if(this.stylesheets)Ku(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var or=null;function Ku(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,or=new Map,a.forEach($v,n),or=null,rr.call(n))}function $v(n,a){if(!(a.state.loading&4)){var r=or.get(n);if(r)var u=r.get(null);else{r=new Map,or.set(n,r);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<h.length;y++){var T=h[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(r.set(T.dataset.precedence,T),u=T)}u&&r.set(null,u)}h=a.instance,T=h.getAttribute("data-precedence"),y=r.get(T)||u,y===u&&r.set(null,h),r.set(T,h),this.count++,u=rr.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),y?y.parentNode.insertBefore(h,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),a.state.loading|=4}}var Ds={$$typeof:q,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function Zv(n,a,r,u,h,y,T,C){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hr(0),this.hiddenUpdates=Hr(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Uh(n,a,r,u,h,y,T,C,A,L,B,H){return n=new Zv(n,a,r,T,C,A,L,H),a=1,y===!0&&(a|=24),y=wt(3,null,null,a),n.current=y,y.stateNode=n,a=Ro(),a.refCount++,n.pooledCache=a,a.refCount++,y.memoizedState={element:u,isDehydrated:r,cache:a},ko(y),n}function kh(n){return n?(n=Wa,n):Wa}function Lh(n,a,r,u,h,y){h=kh(h),u.context===null?u.context=h:u.pendingContext=h,u=On(a),u.payload={element:r},y=y===void 0?null:y,y!==null&&(u.callback=y),r=Bn(n,u,a),r!==null&&(Ut(r,n,a),rs(r,n,a))}function Ph(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<a?r:a}}function Ju(n,a){Ph(n,a),(n=n.alternate)&&Ph(n,a)}function jh(n){if(n.tag===13){var a=Qa(n,67108864);a!==null&&Ut(a,n,67108864),Ju(n,67108864)}}var ur=!0;function Kv(n,a,r,u){var h=O.T;O.T=null;var y=Q.p;try{Q.p=2,Xu(n,a,r,u)}finally{Q.p=y,O.T=h}}function Jv(n,a,r,u){var h=O.T;O.T=null;var y=Q.p;try{Q.p=8,Xu(n,a,r,u)}finally{Q.p=y,O.T=h}}function Xu(n,a,r,u){if(ur){var h=Qu(u);if(h===null)Vu(n,a,u,cr,r),Oh(n,u);else if(Qv(h,n,a,r,u))u.stopPropagation();else if(Oh(n,u),a&4&&-1<Xv.indexOf(n)){for(;h!==null;){var y=Ba(h);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=ha(y.pendingLanes);if(T!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var A=1<<31-Et(T);C.entanglements[1]|=A,T&=~A}on(y),(ke&6)===0&&($l=nn()+500,Ss(0))}}break;case 13:C=Qa(y,2),C!==null&&Ut(C,y,2),Kl(),Ju(y,2)}if(y=Qu(u),y===null&&Vu(n,a,u,cr,r),y===h)break;h=y}h!==null&&u.stopPropagation()}else Vu(n,a,u,null,r)}}function Qu(n){return n=no(n),Wu(n)}var cr=null;function Wu(n){if(cr=null,n=Oa(n),n!==null){var a=o(n);if(a===null)n=null;else{var r=a.tag;if(r===13){if(n=m(a),n!==null)return n;n=null}else if(r===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return cr=n,null}function Vh(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Py()){case Xc:return 2;case Qc:return 8;case nl:case jy:return 32;case Wc:return 268435456;default:return 32}default:return 32}}var ec=!1,Wn=null,ea=null,ta=null,Is=new Map,Us=new Map,na=[],Xv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Oh(n,a){switch(n){case"focusin":case"focusout":Wn=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":Is.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Us.delete(a.pointerId)}}function ks(n,a,r,u,h,y){return n===null||n.nativeEvent!==y?(n={blockedOn:a,domEventName:r,eventSystemFlags:u,nativeEvent:y,targetContainers:[h]},a!==null&&(a=Ba(a),a!==null&&jh(a)),n):(n.eventSystemFlags|=u,a=n.targetContainers,h!==null&&a.indexOf(h)===-1&&a.push(h),n)}function Qv(n,a,r,u,h){switch(a){case"focusin":return Wn=ks(Wn,n,a,r,u,h),!0;case"dragenter":return ea=ks(ea,n,a,r,u,h),!0;case"mouseover":return ta=ks(ta,n,a,r,u,h),!0;case"pointerover":var y=h.pointerId;return Is.set(y,ks(Is.get(y)||null,n,a,r,u,h)),!0;case"gotpointercapture":return y=h.pointerId,Us.set(y,ks(Us.get(y)||null,n,a,r,u,h)),!0}return!1}function Bh(n){var a=Oa(n.target);if(a!==null){var r=o(a);if(r!==null){if(a=r.tag,a===13){if(a=m(r),a!==null){n.blockedOn=a,Fy(n.priority,function(){if(r.tag===13){var u=It();u=Fr(u);var h=Qa(r,u);h!==null&&Ut(h,r,u),Ju(r,u)}});return}}else if(a===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function dr(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var r=Qu(n.nativeEvent);if(r===null){r=n.nativeEvent;var u=new r.constructor(r.type,r);to=u,r.target.dispatchEvent(u),to=null}else return a=Ba(r),a!==null&&jh(a),n.blockedOn=r,!1;a.shift()}return!0}function qh(n,a,r){dr(n)&&r.delete(a)}function Wv(){ec=!1,Wn!==null&&dr(Wn)&&(Wn=null),ea!==null&&dr(ea)&&(ea=null),ta!==null&&dr(ta)&&(ta=null),Is.forEach(qh),Us.forEach(qh)}function fr(n,a){n.blockedOn===a&&(n.blockedOn=null,ec||(ec=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Wv)))}var mr=null;function Gh(n){mr!==n&&(mr=n,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){mr===n&&(mr=null);for(var a=0;a<n.length;a+=3){var r=n[a],u=n[a+1],h=n[a+2];if(typeof u!="function"){if(Wu(u||r)===null)continue;break}var y=Ba(r);y!==null&&(n.splice(a,3),a-=3,Wo(y,{pending:!0,data:h,method:r.method,action:u},u,h))}}))}function Ls(n){function a(A){return fr(A,n)}Wn!==null&&fr(Wn,n),ea!==null&&fr(ea,n),ta!==null&&fr(ta,n),Is.forEach(a),Us.forEach(a);for(var r=0;r<na.length;r++){var u=na[r];u.blockedOn===n&&(u.blockedOn=null)}for(;0<na.length&&(r=na[0],r.blockedOn===null);)Bh(r),r.blockedOn===null&&na.shift();if(r=(n.ownerDocument||n).$$reactFormReplay,r!=null)for(u=0;u<r.length;u+=3){var h=r[u],y=r[u+1],T=h[vt]||null;if(typeof y=="function")T||Gh(r);else if(T){var C=null;if(y&&y.hasAttribute("formAction")){if(h=y,T=y[vt]||null)C=T.formAction;else if(Wu(h)!==null)continue}else C=T.action;typeof C=="function"?r[u+1]=C:(r.splice(u,3),u-=3),Gh(r)}}}function tc(n){this._internalRoot=n}hr.prototype.render=tc.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(i(409));var r=a.current,u=It();Lh(r,u,n,a,null,null)},hr.prototype.unmount=tc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;Lh(n.current,2,null,n,null,null),Kl(),a[Va]=null}};function hr(n){this._internalRoot=n}hr.prototype.unstable_scheduleHydration=function(n){if(n){var a=id();n={blockedOn:null,target:n,priority:a};for(var r=0;r<na.length&&a!==0&&a<na[r].priority;r++);na.splice(r,0,n),r===0&&Bh(n)}};var zh=e.version;if(zh!=="19.1.0")throw Error(i(527,zh,"19.1.0"));Q.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=x(a),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var e0={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pr.isDisabled&&pr.supportsFiber)try{Oi=pr.inject(e0),Nt=pr}catch{}}return js.createRoot=function(n,a){if(!l(n))throw Error(i(299));var r=!1,u="",h=sm,y=lm,T=rm,C=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks)),a=Uh(n,1,!1,null,null,r,u,h,y,T,C,null),n[Va]=a.current,ju(n),new tc(a)},js.hydrateRoot=function(n,a,r){if(!l(n))throw Error(i(299));var u=!1,h="",y=sm,T=lm,C=rm,A=null,L=null;return r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(y=r.onUncaughtError),r.onCaughtError!==void 0&&(T=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(A=r.unstable_transitionCallbacks),r.formState!==void 0&&(L=r.formState)),a=Uh(n,1,!0,a,r??null,u,h,y,T,C,A,L),a.context=kh(null),r=a.current,u=It(),u=Fr(u),h=On(u),h.callback=null,Bn(r,h,u),r=u,a.current.lanes=r,qi(a,r),on(a),n[Va]=a.current,ju(n),new hr(a)},js.version="19.1.0",js}var Wh;function d0(){if(Wh)return ic.exports;Wh=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),ic.exports=c0(),ic.exports}var f0=d0();const m0=Vg(f0);var Vs={},ep;function h0(){if(ep)return Vs;ep=1,Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.parse=m,Vs.serialize=p;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function m(b,S){const N=new o,E=b.length;if(E<2)return N;const D=(S==null?void 0:S.decode)||v;let I=0;do{const V=b.indexOf("=",I);if(V===-1)break;const q=b.indexOf(";",I),Z=q===-1?E:q;if(V>Z){I=b.lastIndexOf(";",V-1)+1;continue}const F=g(b,I,V),ae=x(b,V,F),z=b.slice(F,ae);if(N[z]===void 0){let J=g(b,V+1,Z),te=x(b,Z,J);const ue=D(b.slice(J,te));N[z]=ue}I=Z+1}while(I<E);return N}function g(b,S,N){do{const E=b.charCodeAt(S);if(E!==32&&E!==9)return S}while(++S<N);return N}function x(b,S,N){for(;S>N;){const E=b.charCodeAt(--S);if(E!==32&&E!==9)return S+1}return N}function p(b,S,N){const E=(N==null?void 0:N.encode)||encodeURIComponent;if(!s.test(b))throw new TypeError(`argument name is invalid: ${b}`);const D=E(S);if(!e.test(D))throw new TypeError(`argument val is invalid: ${S}`);let I=b+"="+D;if(!N)return I;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);I+="; Max-Age="+N.maxAge}if(N.domain){if(!t.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);I+="; Domain="+N.domain}if(N.path){if(!i.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);I+="; Path="+N.path}if(N.expires){if(!_(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);I+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(I+="; HttpOnly"),N.secure&&(I+="; Secure"),N.partitioned&&(I+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":I+="; Priority=Low";break;case"medium":I+="; Priority=Medium";break;case"high":I+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":I+="; SameSite=Strict";break;case"lax":I+="; SameSite=Lax";break;case"none":I+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return I}function v(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function _(b){return l.call(b)==="[object Date]"}return Vs}h0();var tp="popstate";function p0(s={}){function e(l,o){let{pathname:m="/",search:g="",hash:x=""}=ja(l.location.hash.substring(1));return!m.startsWith("/")&&!m.startsWith(".")&&(m="/"+m),mc("",{pathname:m,search:g,hash:x},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(l,o){let m=l.document.querySelector("base"),g="";if(m&&m.getAttribute("href")){let x=l.location.href,p=x.indexOf("#");g=p===-1?x:x.slice(0,p)}return g+"#"+(typeof o=="string"?o:$s(o))}function i(l,o){$t(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return y0(e,t,i,s)}function Ze(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function $t(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function g0(){return Math.random().toString(36).substring(2,10)}function np(s,e){return{usr:s.state,key:s.key,idx:e}}function mc(s,e,t=null,i){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?ja(e):e,state:t,key:e&&e.key||i||g0()}}function $s({pathname:s="/",search:e="",hash:t=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(s+=t.charAt(0)==="#"?t:"#"+t),s}function ja(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substring(t),s=s.substring(0,t));let i=s.indexOf("?");i>=0&&(e.search=s.substring(i),s=s.substring(0,i)),s&&(e.pathname=s)}return e}function y0(s,e,t,i={}){let{window:l=document.defaultView,v5Compat:o=!1}=i,m=l.history,g="POP",x=null,p=v();p==null&&(p=0,m.replaceState({...m.state,idx:p},""));function v(){return(m.state||{idx:null}).idx}function _(){g="POP";let D=v(),I=D==null?null:D-p;p=D,x&&x({action:g,location:E.location,delta:I})}function b(D,I){g="PUSH";let V=mc(E.location,D,I);t&&t(V,D),p=v()+1;let q=np(V,p),Z=E.createHref(V);try{m.pushState(q,"",Z)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;l.location.assign(Z)}o&&x&&x({action:g,location:E.location,delta:1})}function S(D,I){g="REPLACE";let V=mc(E.location,D,I);t&&t(V,D),p=v();let q=np(V,p),Z=E.createHref(V);m.replaceState(q,"",Z),o&&x&&x({action:g,location:E.location,delta:0})}function N(D){return x0(D)}let E={get action(){return g},get location(){return s(l,m)},listen(D){if(x)throw new Error("A history only accepts one active listener");return l.addEventListener(tp,_),x=D,()=>{l.removeEventListener(tp,_),x=null}},createHref(D){return e(l,D)},createURL:N,encodeLocation(D){let I=N(D);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:b,replace:S,go(D){return m.go(D)}};return E}function x0(s,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ze(t,"No window.location.(origin|href) available to create URL");let i=typeof s=="string"?s:$s(s);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function Og(s,e,t="/"){return v0(s,e,t,!1)}function v0(s,e,t,i){let l=typeof e=="string"?ja(e):e,o=Dn(l.pathname||"/",t);if(o==null)return null;let m=Bg(s);b0(m);let g=null;for(let x=0;g==null&&x<m.length;++x){let p=D0(o);g=M0(m[x],p,i)}return g}function Bg(s,e=[],t=[],i=""){let l=(o,m,g)=>{let x={relativePath:g===void 0?o.path||"":g,caseSensitive:o.caseSensitive===!0,childrenIndex:m,route:o};x.relativePath.startsWith("/")&&(Ze(x.relativePath.startsWith(i),`Absolute route path "${x.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(i.length));let p=Rn([i,x.relativePath]),v=t.concat(x);o.children&&o.children.length>0&&(Ze(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Bg(o.children,e,v,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:A0(p,o.index),routesMeta:v})};return s.forEach((o,m)=>{var g;if(o.path===""||!((g=o.path)!=null&&g.includes("?")))l(o,m);else for(let x of qg(o.path))l(o,m,x)}),e}function qg(s){let e=s.split("/");if(e.length===0)return[];let[t,...i]=e,l=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return l?[o,""]:[o];let m=qg(i.join("/")),g=[];return g.push(...m.map(x=>x===""?o:[o,x].join("/"))),l&&g.push(...m),g.map(x=>s.startsWith("/")&&x===""?"/":x)}function b0(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:w0(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var T0=/^:[\w-]+$/,_0=3,C0=2,S0=1,N0=10,E0=-2,ap=s=>s==="*";function A0(s,e){let t=s.split("/"),i=t.length;return t.some(ap)&&(i+=E0),e&&(i+=C0),t.filter(l=>!ap(l)).reduce((l,o)=>l+(T0.test(o)?_0:o===""?S0:N0),i)}function w0(s,e){return s.length===e.length&&s.slice(0,-1).every((i,l)=>i===e[l])?s[s.length-1]-e[e.length-1]:0}function M0(s,e,t=!1){let{routesMeta:i}=s,l={},o="/",m=[];for(let g=0;g<i.length;++g){let x=i[g],p=g===i.length-1,v=o==="/"?e:e.slice(o.length)||"/",_=Sr({path:x.relativePath,caseSensitive:x.caseSensitive,end:p},v),b=x.route;if(!_&&p&&t&&!i[i.length-1].route.index&&(_=Sr({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},v)),!_)return null;Object.assign(l,_.params),m.push({params:l,pathname:Rn([o,_.pathname]),pathnameBase:L0(Rn([o,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(o=Rn([o,_.pathnameBase]))}return m}function Sr(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,i]=R0(s.path,s.caseSensitive,s.end),l=e.match(t);if(!l)return null;let o=l[0],m=o.replace(/(.)\/+$/,"$1"),g=l.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:_},b)=>{if(v==="*"){let N=g[b]||"";m=o.slice(0,o.length-N.length).replace(/(.)\/+$/,"$1")}const S=g[b];return _&&!S?p[v]=void 0:p[v]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:m,pattern:s}}function R0(s,e=!1,t=!0){$t(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let i=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,g,x)=>(i.push({paramName:g,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(i.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),i]}function D0(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $t(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Dn(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=s.charAt(t);return i&&i!=="/"?null:s.slice(t)||"/"}function I0(s,e="/"){let{pathname:t,search:i="",hash:l=""}=typeof s=="string"?ja(s):s;return{pathname:t?t.startsWith("/")?t:U0(t,e):e,search:P0(i),hash:j0(l)}}function U0(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?t.length>1&&t.pop():l!=="."&&t.push(l)}),t.length>1?t.join("/"):"/"}function oc(s,e,t,i){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function k0(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Gg(s){let e=k0(s);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function zg(s,e,t,i=!1){let l;typeof s=="string"?l=ja(s):(l={...s},Ze(!l.pathname||!l.pathname.includes("?"),oc("?","pathname","search",l)),Ze(!l.pathname||!l.pathname.includes("#"),oc("#","pathname","hash",l)),Ze(!l.search||!l.search.includes("#"),oc("#","search","hash",l)));let o=s===""||l.pathname==="",m=o?"/":l.pathname,g;if(m==null)g=t;else{let _=e.length-1;if(!i&&m.startsWith("..")){let b=m.split("/");for(;b[0]==="..";)b.shift(),_-=1;l.pathname=b.join("/")}g=_>=0?e[_]:"/"}let x=I0(l,g),p=m&&m!=="/"&&m.endsWith("/"),v=(o||m===".")&&t.endsWith("/");return!x.pathname.endsWith("/")&&(p||v)&&(x.pathname+="/"),x}var Rn=s=>s.join("/").replace(/\/\/+/g,"/"),L0=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),P0=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,j0=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function V0(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var Hg=["POST","PUT","PATCH","DELETE"];new Set(Hg);var O0=["GET",...Hg];new Set(O0);var Li=M.createContext(null);Li.displayName="DataRouter";var Lr=M.createContext(null);Lr.displayName="DataRouterState";var Fg=M.createContext({isTransitioning:!1});Fg.displayName="ViewTransition";var B0=M.createContext(new Map);B0.displayName="Fetchers";var q0=M.createContext(null);q0.displayName="Await";var mn=M.createContext(null);mn.displayName="Navigation";var Js=M.createContext(null);Js.displayName="Location";var hn=M.createContext({outlet:null,matches:[],isDataRoute:!1});hn.displayName="Route";var Vc=M.createContext(null);Vc.displayName="RouteError";function G0(s,{relative:e}={}){Ze(Xs(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=M.useContext(mn),{hash:l,pathname:o,search:m}=Qs(s,{relative:e}),g=o;return t!=="/"&&(g=o==="/"?t:Rn([t,o])),i.createHref({pathname:g,search:m,hash:l})}function Xs(){return M.useContext(Js)!=null}function tn(){return Ze(Xs(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Js).location}var Yg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $g(s){M.useContext(mn).static||M.useLayoutEffect(s)}function ca(){let{isDataRoute:s}=M.useContext(hn);return s?tb():z0()}function z0(){Ze(Xs(),"useNavigate() may be used only in the context of a <Router> component.");let s=M.useContext(Li),{basename:e,navigator:t}=M.useContext(mn),{matches:i}=M.useContext(hn),{pathname:l}=tn(),o=JSON.stringify(Gg(i)),m=M.useRef(!1);return $g(()=>{m.current=!0}),M.useCallback((x,p={})=>{if($t(m.current,Yg),!m.current)return;if(typeof x=="number"){t.go(x);return}let v=zg(x,JSON.parse(o),l,p.relative==="path");s==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Rn([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,o,l,s])}M.createContext(null);function Oc(){let{matches:s}=M.useContext(hn),e=s[s.length-1];return e?e.params:{}}function Qs(s,{relative:e}={}){let{matches:t}=M.useContext(hn),{pathname:i}=tn(),l=JSON.stringify(Gg(t));return M.useMemo(()=>zg(s,JSON.parse(l),i,e==="path"),[s,l,i,e])}function H0(s,e){return Zg(s,e)}function Zg(s,e,t,i){var I;Ze(Xs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=M.useContext(mn),{matches:o}=M.useContext(hn),m=o[o.length-1],g=m?m.params:{},x=m?m.pathname:"/",p=m?m.pathnameBase:"/",v=m&&m.route;{let V=v&&v.path||"";Kg(x,!v||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let _=tn(),b;if(e){let V=typeof e=="string"?ja(e):e;Ze(p==="/"||((I=V.pathname)==null?void 0:I.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${V.pathname}" was given in the \`location\` prop.`),b=V}else b=_;let S=b.pathname||"/",N=S;if(p!=="/"){let V=p.replace(/^\//,"").split("/");N="/"+S.replace(/^\//,"").split("/").slice(V.length).join("/")}let E=Og(s,{pathname:N});$t(v||E!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),$t(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=K0(E&&E.map(V=>Object.assign({},V,{params:Object.assign({},g,V.params),pathname:Rn([p,l.encodeLocation?l.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?p:Rn([p,l.encodeLocation?l.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),o,t,i);return e&&D?M.createElement(Js.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},D):D}function F0(){let s=eb(),e=V0(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},m=null;return console.error("Error handled by React Router default ErrorBoundary:",s),m=M.createElement(M.Fragment,null,M.createElement("p",null,"💿 Hey developer 👋"),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:o},"ErrorBoundary")," or"," ",M.createElement("code",{style:o},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),t?M.createElement("pre",{style:l},t):null,m)}var Y0=M.createElement(F0,null),$0=class extends M.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?M.createElement(hn.Provider,{value:this.props.routeContext},M.createElement(Vc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Z0({routeContext:s,match:e,children:t}){let i=M.useContext(Li);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(hn.Provider,{value:s},t)}function K0(s,e=[],t=null,i=null){if(s==null){if(!t)return null;if(t.errors)s=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let l=s,o=t==null?void 0:t.errors;if(o!=null){let x=l.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);Ze(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),l=l.slice(0,Math.min(l.length,x+1))}let m=!1,g=-1;if(t)for(let x=0;x<l.length;x++){let p=l[x];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(g=x),p.route.id){let{loaderData:v,errors:_}=t,b=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||b){m=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}return l.reduceRight((x,p,v)=>{let _,b=!1,S=null,N=null;t&&(_=o&&p.route.id?o[p.route.id]:void 0,S=p.route.errorElement||Y0,m&&(g<0&&v===0?(Kg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,N=null):g===v&&(b=!0,N=p.route.hydrateFallbackElement||null)));let E=e.concat(l.slice(0,v+1)),D=()=>{let I;return _?I=S:b?I=N:p.route.Component?I=M.createElement(p.route.Component,null):p.route.element?I=p.route.element:I=x,M.createElement(Z0,{match:p,routeContext:{outlet:x,matches:E,isDataRoute:t!=null},children:I})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?M.createElement($0,{location:t.location,revalidation:t.revalidation,component:S,error:_,children:D(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):D()},null)}function Bc(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function J0(s){let e=M.useContext(Li);return Ze(e,Bc(s)),e}function X0(s){let e=M.useContext(Lr);return Ze(e,Bc(s)),e}function Q0(s){let e=M.useContext(hn);return Ze(e,Bc(s)),e}function qc(s){let e=Q0(s),t=e.matches[e.matches.length-1];return Ze(t.route.id,`${s} can only be used on routes that contain a unique "id"`),t.route.id}function W0(){return qc("useRouteId")}function eb(){var i;let s=M.useContext(Vc),e=X0("useRouteError"),t=qc("useRouteError");return s!==void 0?s:(i=e.errors)==null?void 0:i[t]}function tb(){let{router:s}=J0("useNavigate"),e=qc("useNavigate"),t=M.useRef(!1);return $g(()=>{t.current=!0}),M.useCallback(async(l,o={})=>{$t(t.current,Yg),t.current&&(typeof l=="number"?s.navigate(l):await s.navigate(l,{fromRouteId:e,...o}))},[s,e])}var ip={};function Kg(s,e,t){!e&&!ip[s]&&(ip[s]=!0,$t(!1,t))}M.memo(nb);function nb({routes:s,future:e,state:t}){return Zg(s,void 0,t,e)}function gt(s){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ab({basename:s="/",children:e=null,location:t,navigationType:i="POP",navigator:l,static:o=!1}){Ze(!Xs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=s.replace(/^\/*/,"/"),g=M.useMemo(()=>({basename:m,navigator:l,static:o,future:{}}),[m,l,o]);typeof t=="string"&&(t=ja(t));let{pathname:x="/",search:p="",hash:v="",state:_=null,key:b="default"}=t,S=M.useMemo(()=>{let N=Dn(x,m);return N==null?null:{location:{pathname:N,search:p,hash:v,state:_,key:b},navigationType:i}},[m,x,p,v,_,b,i]);return $t(S!=null,`<Router basename="${m}"> is not able to match the URL "${x}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:M.createElement(mn.Provider,{value:g},M.createElement(Js.Provider,{children:e,value:S}))}function ib({children:s,location:e}){return H0(hc(s),e)}function hc(s,e=[]){let t=[];return M.Children.forEach(s,(i,l)=>{if(!M.isValidElement(i))return;let o=[...e,l];if(i.type===M.Fragment){t.push.apply(t,hc(i.props.children,o));return}Ze(i.type===gt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!i.props.index||!i.props.children,"An index route cannot have child routes.");let m={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(m.children=hc(i.props.children,o)),t.push(m)}),t}var vr="get",br="application/x-www-form-urlencoded";function Pr(s){return s!=null&&typeof s.tagName=="string"}function sb(s){return Pr(s)&&s.tagName.toLowerCase()==="button"}function lb(s){return Pr(s)&&s.tagName.toLowerCase()==="form"}function rb(s){return Pr(s)&&s.tagName.toLowerCase()==="input"}function ob(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function ub(s,e){return s.button===0&&(!e||e==="_self")&&!ob(s)}function pc(s=""){return new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((e,t)=>{let i=s[t];return e.concat(Array.isArray(i)?i.map(l=>[t,l]):[[t,i]])},[]))}function cb(s,e){let t=pc(s);return e&&e.forEach((i,l)=>{t.has(l)||e.getAll(l).forEach(o=>{t.append(l,o)})}),t}var gr=null;function db(){if(gr===null)try{new FormData(document.createElement("form"),0),gr=!1}catch{gr=!0}return gr}var fb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function uc(s){return s!=null&&!fb.has(s)?($t(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${br}"`),null):s}function mb(s,e){let t,i,l,o,m;if(lb(s)){let g=s.getAttribute("action");i=g?Dn(g,e):null,t=s.getAttribute("method")||vr,l=uc(s.getAttribute("enctype"))||br,o=new FormData(s)}else if(sb(s)||rb(s)&&(s.type==="submit"||s.type==="image")){let g=s.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=s.getAttribute("formaction")||g.getAttribute("action");if(i=x?Dn(x,e):null,t=s.getAttribute("formmethod")||g.getAttribute("method")||vr,l=uc(s.getAttribute("formenctype"))||uc(g.getAttribute("enctype"))||br,o=new FormData(g,s),!db()){let{name:p,type:v,value:_}=s;if(v==="image"){let b=p?`${p}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else p&&o.append(p,_)}}else{if(Pr(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=vr,i=null,l=br,m=s}return o&&l==="text/plain"&&(m=o,o=void 0),{action:i,method:t.toLowerCase(),encType:l,formData:o,body:m}}function Gc(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function hb(s,e){if(s.id in e)return e[s.id];try{let t=await import(s.module);return e[s.id]=t,t}catch(t){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pb(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function gb(s,e,t){let i=await Promise.all(s.map(async l=>{let o=e.routes[l.route.id];if(o){let m=await hb(o,t);return m.links?m.links():[]}return[]}));return bb(i.flat(1).filter(pb).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function sp(s,e,t,i,l,o){let m=(x,p)=>t[p]?x.route.id!==t[p].route.id:!0,g=(x,p)=>{var v;return t[p].pathname!==x.pathname||((v=t[p].route.path)==null?void 0:v.endsWith("*"))&&t[p].params["*"]!==x.params["*"]};return o==="assets"?e.filter((x,p)=>m(x,p)||g(x,p)):o==="data"?e.filter((x,p)=>{var _;let v=i.routes[x.route.id];if(!v||!v.hasLoader)return!1;if(m(x,p)||g(x,p))return!0;if(x.route.shouldRevalidate){let b=x.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(s,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function yb(s,e,{includeHydrateFallback:t}={}){return xb(s.map(i=>{let l=e.routes[i.route.id];if(!l)return[];let o=[l.module];return l.clientActionModule&&(o=o.concat(l.clientActionModule)),l.clientLoaderModule&&(o=o.concat(l.clientLoaderModule)),t&&l.hydrateFallbackModule&&(o=o.concat(l.hydrateFallbackModule)),l.imports&&(o=o.concat(l.imports)),o}).flat(1))}function xb(s){return[...new Set(s)]}function vb(s){let e={},t=Object.keys(s).sort();for(let i of t)e[i]=s[i];return e}function bb(s,e){let t=new Set;return new Set(e),s.reduce((i,l)=>{let o=JSON.stringify(vb(l));return t.has(o)||(t.add(o),i.push({key:o,link:l})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Tb=new Set([100,101,204,205]);function _b(s,e){let t=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return t.pathname==="/"?t.pathname="_root.data":e&&Dn(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Jg(){let s=M.useContext(Li);return Gc(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Cb(){let s=M.useContext(Lr);return Gc(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var zc=M.createContext(void 0);zc.displayName="FrameworkContext";function Xg(){let s=M.useContext(zc);return Gc(s,"You must render this element inside a <HydratedRouter> element"),s}function Sb(s,e){let t=M.useContext(zc),[i,l]=M.useState(!1),[o,m]=M.useState(!1),{onFocus:g,onBlur:x,onMouseEnter:p,onMouseLeave:v,onTouchStart:_}=e,b=M.useRef(null);M.useEffect(()=>{if(s==="render"&&m(!0),s==="viewport"){let E=I=>{I.forEach(V=>{m(V.isIntersecting)})},D=new IntersectionObserver(E,{threshold:.5});return b.current&&D.observe(b.current),()=>{D.disconnect()}}},[s]),M.useEffect(()=>{if(i){let E=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(E)}}},[i]);let S=()=>{l(!0)},N=()=>{l(!1),m(!1)};return t?s!=="intent"?[o,b,{}]:[o,b,{onFocus:Os(g,S),onBlur:Os(x,N),onMouseEnter:Os(p,S),onMouseLeave:Os(v,N),onTouchStart:Os(_,S)}]:[!1,b,{}]}function Os(s,e){return t=>{s&&s(t),t.defaultPrevented||e(t)}}function Nb({page:s,...e}){let{router:t}=Jg(),i=M.useMemo(()=>Og(t.routes,s,t.basename),[t.routes,s,t.basename]);return i?M.createElement(Ab,{page:s,matches:i,...e}):null}function Eb(s){let{manifest:e,routeModules:t}=Xg(),[i,l]=M.useState([]);return M.useEffect(()=>{let o=!1;return gb(s,e,t).then(m=>{o||l(m)}),()=>{o=!0}},[s,e,t]),i}function Ab({page:s,matches:e,...t}){let i=tn(),{manifest:l,routeModules:o}=Xg(),{basename:m}=Jg(),{loaderData:g,matches:x}=Cb(),p=M.useMemo(()=>sp(s,e,x,l,i,"data"),[s,e,x,l,i]),v=M.useMemo(()=>sp(s,e,x,l,i,"assets"),[s,e,x,l,i]),_=M.useMemo(()=>{if(s===i.pathname+i.search+i.hash)return[];let N=new Set,E=!1;if(e.forEach(I=>{var q;let V=l.routes[I.route.id];!V||!V.hasLoader||(!p.some(Z=>Z.route.id===I.route.id)&&I.route.id in g&&((q=o[I.route.id])!=null&&q.shouldRevalidate)||V.hasClientLoader?E=!0:N.add(I.route.id))}),N.size===0)return[];let D=_b(s,m);return E&&N.size>0&&D.searchParams.set("_routes",e.filter(I=>N.has(I.route.id)).map(I=>I.route.id).join(",")),[D.pathname+D.search]},[m,g,i,l,p,e,s,o]),b=M.useMemo(()=>yb(v,l),[v,l]),S=Eb(v);return M.createElement(M.Fragment,null,_.map(N=>M.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),b.map(N=>M.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),S.map(({key:N,link:E})=>M.createElement("link",{key:N,...E})))}function wb(...s){return e=>{s.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Qg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Qg&&(window.__reactRouterVersion="7.6.2")}catch{}function Mb({basename:s,children:e,window:t}){let i=M.useRef();i.current==null&&(i.current=p0({window:t,v5Compat:!0}));let l=i.current,[o,m]=M.useState({action:l.action,location:l.location}),g=M.useCallback(x=>{M.startTransition(()=>m(x))},[m]);return M.useLayoutEffect(()=>l.listen(g),[l,g]),M.createElement(ab,{basename:s,children:e,location:o.location,navigationType:o.action,navigator:l})}var Wg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oe=M.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:l,reloadDocument:o,replace:m,state:g,target:x,to:p,preventScrollReset:v,viewTransition:_,...b},S){let{basename:N}=M.useContext(mn),E=typeof p=="string"&&Wg.test(p),D,I=!1;if(typeof p=="string"&&E&&(D=p,Qg))try{let te=new URL(window.location.href),ue=p.startsWith("//")?new URL(te.protocol+p):new URL(p),Ue=Dn(ue.pathname,N);ue.origin===te.origin&&Ue!=null?p=Ue+ue.search+ue.hash:I=!0}catch{$t(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=G0(p,{relative:l}),[q,Z,F]=Sb(i,b),ae=Ib(p,{replace:m,state:g,target:x,preventScrollReset:v,relative:l,viewTransition:_});function z(te){e&&e(te),te.defaultPrevented||ae(te)}let J=M.createElement("a",{...b,...F,href:D||V,onClick:I||o?e:z,ref:wb(S,Z),target:x,"data-discover":!E&&t==="render"?"true":void 0});return q&&!E?M.createElement(M.Fragment,null,J,M.createElement(Nb,{page:V})):J});oe.displayName="Link";var gc=M.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:l=!1,style:o,to:m,viewTransition:g,children:x,...p},v){let _=Qs(m,{relative:p.relative}),b=tn(),S=M.useContext(Lr),{navigator:N,basename:E}=M.useContext(mn),D=S!=null&&Vb(_)&&g===!0,I=N.encodeLocation?N.encodeLocation(_).pathname:_.pathname,V=b.pathname,q=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(V=V.toLowerCase(),q=q?q.toLowerCase():null,I=I.toLowerCase()),q&&E&&(q=Dn(q,E)||q);const Z=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let F=V===I||!l&&V.startsWith(I)&&V.charAt(Z)==="/",ae=q!=null&&(q===I||!l&&q.startsWith(I)&&q.charAt(I.length)==="/"),z={isActive:F,isPending:ae,isTransitioning:D},J=F?e:void 0,te;typeof i=="function"?te=i(z):te=[i,F?"active":null,ae?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let ue=typeof o=="function"?o(z):o;return M.createElement(oe,{...p,"aria-current":J,className:te,ref:v,style:ue,to:m,viewTransition:g},typeof x=="function"?x(z):x)});gc.displayName="NavLink";var Rb=M.forwardRef(({discover:s="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:l,state:o,method:m=vr,action:g,onSubmit:x,relative:p,preventScrollReset:v,viewTransition:_,...b},S)=>{let N=Pb(),E=jb(g,{relative:p}),D=m.toLowerCase()==="get"?"get":"post",I=typeof g=="string"&&Wg.test(g),V=q=>{if(x&&x(q),q.defaultPrevented)return;q.preventDefault();let Z=q.nativeEvent.submitter,F=(Z==null?void 0:Z.getAttribute("formmethod"))||m;N(Z||q.currentTarget,{fetcherKey:e,method:F,navigate:t,replace:l,state:o,relative:p,preventScrollReset:v,viewTransition:_})};return M.createElement("form",{ref:S,method:D,action:E,onSubmit:i?x:V,...b,"data-discover":!I&&s==="render"?"true":void 0})});Rb.displayName="Form";function Db(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ey(s){let e=M.useContext(Li);return Ze(e,Db(s)),e}function Ib(s,{target:e,replace:t,state:i,preventScrollReset:l,relative:o,viewTransition:m}={}){let g=ca(),x=tn(),p=Qs(s,{relative:o});return M.useCallback(v=>{if(ub(v,e)){v.preventDefault();let _=t!==void 0?t:$s(x)===$s(p);g(s,{replace:_,state:i,preventScrollReset:l,relative:o,viewTransition:m})}},[x,g,p,t,i,e,s,l,o,m])}function Ub(s){$t(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=M.useRef(pc(s)),t=M.useRef(!1),i=tn(),l=M.useMemo(()=>cb(i.search,t.current?null:e.current),[i.search]),o=ca(),m=M.useCallback((g,x)=>{const p=pc(typeof g=="function"?g(l):g);t.current=!0,o("?"+p,x)},[o,l]);return[l,m]}var kb=0,Lb=()=>`__${String(++kb)}__`;function Pb(){let{router:s}=ey("useSubmit"),{basename:e}=M.useContext(mn),t=W0();return M.useCallback(async(i,l={})=>{let{action:o,method:m,encType:g,formData:x,body:p}=mb(i,e);if(l.navigate===!1){let v=l.fetcherKey||Lb();await s.fetch(v,t,l.action||o,{preventScrollReset:l.preventScrollReset,formData:x,body:p,formMethod:l.method||m,formEncType:l.encType||g,flushSync:l.flushSync})}else await s.navigate(l.action||o,{preventScrollReset:l.preventScrollReset,formData:x,body:p,formMethod:l.method||m,formEncType:l.encType||g,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[s,e,t])}function jb(s,{relative:e}={}){let{basename:t}=M.useContext(mn),i=M.useContext(hn);Ze(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),o={...Qs(s||".",{relative:e})},m=tn();if(s==null){o.search=m.search;let g=new URLSearchParams(o.search),x=g.getAll("index");if(x.some(v=>v==="")){g.delete("index"),x.filter(_=>_).forEach(_=>g.append("index",_));let v=g.toString();o.search=v?`?${v}`:""}}return(!s||s===".")&&l.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Rn([t,o.pathname])),$s(o)}function Vb(s,e={}){let t=M.useContext(Fg);Ze(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ey("useViewTransitionState"),l=Qs(s,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Dn(t.currentLocation.pathname,i)||t.currentLocation.pathname,m=Dn(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Sr(l.pathname,m)!=null||Sr(l.pathname,o)!=null}[...Tb];const Ob=[{table:"users",fields:["email"],unique:!0,name:"idx_users_email"},{table:"users",fields:["status"],name:"idx_users_status"},{table:"products",fields:["category_id"],name:"idx_products_category"},{table:"products",fields:["status"],name:"idx_products_status"},{table:"products",fields:["sku"],unique:!0,name:"idx_products_sku"},{table:"products",fields:["is_featured"],name:"idx_products_featured"},{table:"orders",fields:["user_id"],name:"idx_orders_user"},{table:"orders",fields:["status"],name:"idx_orders_status"},{table:"orders",fields:["order_number"],unique:!0,name:"idx_orders_number"},{table:"orders",fields:["ordered_at"],name:"idx_orders_date"},{table:"order_items",fields:["order_id"],name:"idx_order_items_order"},{table:"order_items",fields:["product_id"],name:"idx_order_items_product"},{table:"cart_items",fields:["user_id"],name:"idx_cart_user"},{table:"cart_items",fields:["session_id"],name:"idx_cart_session"},{table:"payments",fields:["order_id"],name:"idx_payments_order"},{table:"payments",fields:["status"],name:"idx_payments_status"},{table:"reviews",fields:["product_id"],name:"idx_reviews_product"},{table:"reviews",fields:["user_id"],name:"idx_reviews_user"},{table:"coupons",fields:["code"],unique:!0,name:"idx_coupons_code"},{table:"coupons",fields:["status"],name:"idx_coupons_status"}];class Bb{constructor(e){this.isConnected=!1,this.indexes=new Map,this.config=e,this.storageKey=e.storageKey,this.initializeEmptySchema()}initializeEmptySchema(){this.schema={users:[],products:[],categories:[],orders:[],order_items:[],cart_items:[],addresses:[],payments:[],reviews:[],coupons:[],settings:[],logs:[]}}async connect(){var e;try{const t=this.loadFromStorage();t?this.schema=t:await this.saveToStorage(),this.buildIndexes(),this.isConnected=!0,(e=this.config.options)!=null&&e.enableLogging&&console.log("浏览器数据库连接成功")}catch(t){throw new Error(`Failed to connect to browser database: ${t}`)}}async disconnect(){this.isConnected&&(await this.saveToStorage(),this.isConnected=!1)}async insert(e,t){const i={...t,id:t.id||this.generateId()};return("created_at"in t||e!=="cart_items")&&(i.created_at=t.created_at||this.timestamp()),("updated_at"in t||e!=="cart_items")&&(i.updated_at=this.timestamp()),e==="cart_items"&&(i.added_at||(i.added_at=this.timestamp()),i.updated_at=this.timestamp()),this.schema[e].push(i),await this.saveToStorage(),i}async update(e,t,i){const l=this.schema[e];let o=0;for(let m=0;m<l.length;m++)this.matchesConditions(l[m],t)&&(l[m]={...l[m],...i,updated_at:this.timestamp()},o++);return o>0&&await this.saveToStorage(),o}async updateById(e,t,i){return this.update(e,[{field:"id",operator:"=",value:t}],i)}async delete(e,t){const i=this.schema[e],l=i.length;this.schema[e]=i.filter(m=>!this.matchesConditions(m,t));const o=l-this.schema[e].length;return o>0&&await this.saveToStorage(),o}async deleteById(e,t){return this.delete(e,[{field:"id",operator:"=",value:t}])}async find(e,t){let i=[...this.schema[e]];if(t!=null&&t.where&&(i=i.filter(l=>this.matchesConditions(l,t.where))),t!=null&&t.orderBy&&i.sort((l,o)=>{for(const m of t.orderBy){const g=l[m.field],x=o[m.field],p=g<x?-1:g>x?1:0;if(p!==0)return m.direction==="desc"?-p:p}return 0}),t!=null&&t.offset||t!=null&&t.limit){const l=t.offset||0,o=t.limit?l+t.limit:void 0;i=i.slice(l,o)}return t!=null&&t.select&&(i=i.map(l=>{const o={};return t.select.forEach(m=>{o[m]=l[m]}),o})),i}async findById(e,t){const i=await this.find(e,{where:[{field:"id",operator:"=",value:t}],limit:1});return i.length>0?i[0]:null}async findOne(e,t){const i=await this.find(e,{where:t,limit:1});return i.length>0?i[0]:null}async count(e,t){return t?this.schema[e].filter(l=>this.matchesConditions(l,t)).length:this.schema[e].length}matchesConditions(e,t){return t.every(i=>{const l=e[i.field];switch(i.operator){case"=":return l===i.value;case"!=":return l!==i.value;case">":return l>i.value;case"<":return l<i.value;case">=":return l>=i.value;case"<=":return l<=i.value;case"like":return String(l).toLowerCase().includes(String(i.value).toLowerCase());case"in":return Array.isArray(i.value)&&i.value.includes(l);case"not_in":return Array.isArray(i.value)&&!i.value.includes(l);default:return!1}})}buildIndexes(){var e;(e=this.config.options)!=null&&e.enableLogging&&console.log("Building database indexes..."),Ob.forEach(t=>{this.buildIndex(t)})}buildIndex(e){const t=`${e.table}_${e.name}`,i=new Map;this.schema[e.table].forEach(o=>{const m=e.fields.map(g=>o[g]).join("|");if(e.unique&&i.has(m)){console.warn(`Unique constraint violation for index ${e.name}, skipping duplicate key: ${m}`);return}i.set(m,o.id)}),this.indexes.set(t,i)}async backup(){var l;const e=new Date().toISOString().replace(/[:.]/g,"-"),t=`${this.storageKey}_backup_${e}`,i=JSON.stringify(this.schema);return localStorage.setItem(t,i),(l=this.config.options)!=null&&l.maxBackups&&this.cleanupOldBackups(),t}async restore(e){const t=localStorage.getItem(e);if(!t)throw new Error(`Backup not found: ${e}`);this.schema=JSON.parse(t),await this.saveToStorage(),this.buildIndexes()}async saveToStorage(){const e=JSON.stringify(this.schema,null,2);localStorage.setItem(this.storageKey,e)}loadFromStorage(){try{const e=localStorage.getItem(this.storageKey);return e?JSON.parse(e):null}catch(e){return console.error("Failed to load data from storage:",e),null}}cleanupOldBackups(){var l;const e=((l=this.config.options)==null?void 0:l.maxBackups)||10,i=Object.keys(localStorage).filter(o=>o.startsWith(`${this.storageKey}_backup_`)).sort((o,m)=>{const g=o.substring(o.lastIndexOf("_")+1),x=m.substring(m.lastIndexOf("_")+1);return g.localeCompare(x)});i.length>e&&i.slice(0,i.length-e).forEach(m=>localStorage.removeItem(m))}generateId(){return`${Date.now()}_${Math.random().toString(36).substr(2,9)}`}timestamp(){return new Date().toISOString()}exportData(){return JSON.stringify(this.schema,null,2)}async importData(e){try{const t=JSON.parse(e);this.schema=t,await this.saveToStorage(),this.buildIndexes()}catch(t){throw new Error(`Failed to import data: ${t}`)}}getStorageInfo(){let e=0;for(let l in localStorage)localStorage.hasOwnProperty(l)&&(e+=localStorage[l].length+l.length);const t=5*1024*1024,i=e/t*100;return{used:e,total:t,percentage:i}}}class Qt{constructor(){this.config={storageKey:"seagull-watch-db",options:{autoBackup:!0,maxBackups:24,enableLogging:!0}},this.engine=new Bb(this.config)}static getInstance(){return Qt.instance||(Qt.instance=new Qt),Qt.instance}async initialize(){try{console.log("🔄 正在连接数据库引擎..."),await this.engine.connect(),console.log("📊 正在初始化基础数据..."),await this.initializeBaseData(),console.log("✅ 数据库初始化成功")}catch(e){throw console.error("❌ 数据库初始化失败:",e),e}}async close(){console.log("🔒 正在关闭数据库连接..."),await this.engine.disconnect()}getEngine(){return this.engine}async createUser(e){return this.engine.insert("users",{...e,email_verified:!1,status:"active"})}async findUserByEmail(e){return this.engine.findOne("users",[{field:"email",operator:"=",value:e}])}async findUserById(e){return this.engine.findById("users",e)}async updateUser(e,t){return this.engine.updateById("users",e,t)}async deleteUser(e){return this.engine.deleteById("users",e)}async createProduct(e){return this.engine.insert("products",{...e,status:"active",is_featured:!1,tags:e.tags||[]})}async findProducts(e){return this.engine.find("products",e)}async findProductById(e){return this.engine.findById("products",e)}async findProductsBySku(e){return this.engine.findOne("products",[{field:"sku",operator:"=",value:e}])}async findProductsByCategory(e,t){const i=[{field:"category_id",operator:"=",value:e}];return this.engine.find("products",{...t,where:[...(t==null?void 0:t.where)||[],...i]})}async updateProduct(e,t){return this.engine.updateById("products",e,t)}async deleteProduct(e){return this.engine.deleteById("products",e)}async updateProductStock(e,t){return this.engine.updateById("products",e,{stock_quantity:t,status:t>0?"active":"out_of_stock"})}async createOrder(e){return this.engine.insert("orders",{...e,status:"pending",payment_status:"pending"})}async findOrders(e){return this.engine.find("orders",{...e,orderBy:[{field:"ordered_at",direction:"desc"},...(e==null?void 0:e.orderBy)||[]]})}async findOrdersByUser(e,t){const i=[{field:"user_id",operator:"=",value:e}];return this.engine.find("orders",{...t,where:[...(t==null?void 0:t.where)||[],...i],orderBy:[{field:"ordered_at",direction:"desc"},...(t==null?void 0:t.orderBy)||[]]})}async findOrderByNumber(e){return this.engine.findOne("orders",[{field:"order_number",operator:"=",value:e}])}async getOrderById(e){return this.engine.findById("orders",e)}async getUserOrders(e){return e?this.findOrdersByUser(e):[]}async updateOrder(e,t){return this.engine.updateById("orders",e,t)}async updateOrderStatus(e,t,i){const l={status:t};switch(t){case"paid":l.paid_at=i||new Date().toISOString(),l.payment_status="paid";break;case"shipped":l.shipped_at=i||new Date().toISOString();break;case"delivered":l.delivered_at=i||new Date().toISOString();break;case"cancelled":l.cancelled_at=i||new Date().toISOString();break}return this.engine.updateById("orders",e,l)}async createCategory(e){return this.engine.insert("categories",{...e,status:"active",sort_order:e.sort_order||0})}async findCategories(e){return this.engine.find("categories",{...e,orderBy:[{field:"sort_order",direction:"asc"},...(e==null?void 0:e.orderBy)||[]]})}async findCategoryById(e){return this.engine.findById("categories",e)}async findCategoryBySlug(e){return this.engine.findOne("categories",[{field:"slug",operator:"=",value:e}])}async addToCart(e,t,i,l){const o=await this.engine.findOne("cart_items",[{field:"product_id",operator:"=",value:i},...e?[{field:"user_id",operator:"=",value:e}]:[],...t?[{field:"session_id",operator:"=",value:t}]:[]]);return o?this.engine.updateById("cart_items",o.id,{quantity:o.quantity+l,updated_at:new Date().toISOString()}):this.engine.insert("cart_items",{user_id:e||void 0,session_id:t||void 0,product_id:i,quantity:l,added_at:new Date().toISOString(),updated_at:new Date().toISOString()})}async getCartItems(e,t){const i=[];return e&&i.push({field:"user_id",operator:"=",value:e}),t&&i.push({field:"session_id",operator:"=",value:t}),this.engine.find("cart_items",{where:i})}async clearCart(e,t){const i=[];return e&&i.push({field:"user_id",operator:"=",value:e}),t&&i.push({field:"session_id",operator:"=",value:t}),this.engine.delete("cart_items",i)}async searchProducts(e,t){const i=[{field:"name",operator:"like",value:e}];return this.engine.find("products",{...t,where:[...(t==null?void 0:t.where)||[],...i]})}async backup(){return this.engine.backup()}async restore(e){return this.engine.restore(e)}async initializeBaseData(){const e=await this.engine.count("users"),t=await this.engine.count("categories"),i=await this.engine.count("products");if(e===0&&t===0&&i===0)try{const l=await fetch("./database/seagull-watch-db.json");if(!l.ok)throw new Error(`无法加载数据文件: ${l.statusText}`);const o=await l.json();console.log("成功加载数据文件");for(const m of o.categories)await this.engine.insert("categories",m);console.log("产品分类导入完成:",o.categories.length);for(const m of o.products)await this.engine.insert("products",m);console.log("产品导入完成:",o.products.length);for(const m of o.users)await this.findUserByEmail(m.email)?console.log("用户已存在，跳过:",m.email):await this.engine.insert("users",m);console.log("用户导入完成:",o.users.length),console.log("基础数据初始化完成（从JSON文件）")}catch(l){throw console.error("JSON数据加载失败:",l),new Error(`数据库初始化失败: ${l instanceof Error?l.message:"未知错误"}`)}else console.log("数据库已有数据，跳过初始化")}}const kt=Qt.getInstance(),Lt=Qt.getInstance();let ia=null;const yc=s=>btoa(s+"seagull_salt_2024"),lp=(s,e)=>yc(s)===e;class Ia{static async register(e){try{if(await Lt.findUserByEmail(e.email))return{success:!1,message:"该邮箱已被注册"};if(e.password!==e.confirmPassword)return{success:!1,message:"两次输入的密码不一致"};if(e.password.length<6)return{success:!1,message:"密码长度至少6位"};if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email))return{success:!1,message:"邮箱格式不正确"};if(e.phone&&!/^1[3-9]\d{9}$/.test(e.phone))return{success:!1,message:"手机号格式不正确"};const l=await Lt.createUser({email:e.email,password_hash:yc(e.password),name:e.name,phone:e.phone,status:"active",email_verified:!1});return{success:!0,message:"注册成功！",user:{id:l.id,email:l.email,name:l.name,phone:l.phone,createdAt:l.created_at,isActive:l.status==="active"}}}catch(t){return console.error("注册失败:",t),{success:!1,message:"注册失败，请重试"}}}static async login(e){try{const t=await Lt.findUserByEmail(e.email);if(!t)return{success:!1,message:"邮箱或密码错误"};if(!lp(e.password,t.password_hash))return{success:!1,message:"邮箱或密码错误"};if(t.status!=="active")return{success:!1,message:"账户已被禁用"};await Lt.updateUser(t.id,{last_login_at:new Date().toISOString()});const i={id:t.id,email:t.email,name:t.name,phone:t.phone,avatar:t.avatar,createdAt:t.created_at,lastLoginAt:new Date().toISOString(),isActive:t.status==="active"};return ia=i,e.rememberMe?localStorage.setItem("seagullAuthToken",t.id):sessionStorage.setItem("seagullAuthToken",t.id),{success:!0,message:"登录成功！",user:i}}catch(t){return console.error("登录失败:",t),{success:!1,message:"登录失败，请重试"}}}static async logout(){ia=null,localStorage.removeItem("seagullAuthToken"),sessionStorage.removeItem("seagullAuthToken")}static getCurrentUser(){return ia}static async checkAuthStatus(){try{const e=localStorage.getItem("seagullAuthToken")||sessionStorage.getItem("seagullAuthToken");if(!e)return null;const t=await Lt.findUserById(e);return!t||t.status!=="active"?(this.logout(),null):(ia={id:t.id,email:t.email,name:t.name,phone:t.phone,avatar:t.avatar,createdAt:t.created_at,lastLoginAt:t.last_login_at,isActive:t.status==="active"},ia)}catch(e){return console.error("检查登录状态失败:",e),null}}static async updateProfile(e,t){try{if(t.email){if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email))return{success:!1,message:"邮箱格式不正确"};const g=await Lt.findUserByEmail(t.email);if(g&&g.id!==e)return{success:!1,message:"该邮箱已被其他用户使用"}}if(t.phone&&!/^1[3-9]\d{9}$/.test(t.phone))return{success:!1,message:"手机号格式不正确"};const i={};t.email&&(i.email=t.email),t.name&&(i.name=t.name),t.phone&&(i.phone=t.phone),t.avatar&&(i.avatar=t.avatar),await Lt.updateUser(e,i);const l=await Lt.findUserById(e);if(!l)return{success:!1,message:"用户不存在"};const o={id:l.id,email:l.email,name:l.name,phone:l.phone,avatar:l.avatar,createdAt:l.created_at,lastLoginAt:l.last_login_at,isActive:l.status==="active"};return ia&&ia.id===e&&(ia=o),{success:!0,message:"信息更新成功！",user:o}}catch(i){return console.error("更新用户信息失败:",i),{success:!1,message:"更新失败，请重试"}}}static async changePassword(e,t,i){try{if(i.length<6)return{success:!1,message:"新密码长度至少6位"};const l=await Lt.findUserById(e);return l?lp(t,l.password_hash)?(await Lt.updateUser(e,{password_hash:yc(i)}),{success:!0,message:"密码修改成功！"}):{success:!1,message:"原密码错误"}:{success:!1,message:"用户不存在"}}catch(l){return console.error("修改密码失败:",l),{success:!1,message:"修改密码失败，请重试"}}}static async getUserStats(e){try{const t=await Lt.findUserById(e),i=await Lt.findOrdersByUser(e),l=i.filter(o=>o.status==="delivered").reduce((o,m)=>o+m.total_amount,0);return{totalOrders:i.length,totalSpent:l,memberSince:(t==null?void 0:t.created_at)||new Date().toISOString()}}catch(t){return console.error("获取用户统计失败:",t),{totalOrders:0,totalSpent:0,memberSince:new Date().toISOString()}}}static async requestPasswordReset(e){try{return await Lt.findUserByEmail(e)?(console.log(`密码重置请求: ${e}`),{success:!0,message:"如果该邮箱已注册，您将收到重置密码的邮件"}):{success:!0,message:"如果该邮箱已注册，您将收到重置密码的邮件"}}catch(t){return console.error("密码重置请求失败:",t),{success:!1,message:"请求失败，请重试"}}}}const ty=M.createContext(void 0),qb=({children:s})=>{const[e,t]=M.useState({isAuthenticated:!1,user:null,loading:!0,error:null});M.useEffect(()=>{i()},[]);const i=async()=>{try{t(_=>({..._,loading:!0}));const v=await Ia.checkAuthStatus();t({isAuthenticated:!!v,user:v,loading:!1,error:null})}catch(v){console.error("检查登录状态失败:",v),t({isAuthenticated:!1,user:null,loading:!1,error:"检查登录状态失败"})}},l=async v=>{try{t(b=>({...b,loading:!0,error:null}));const _=await Ia.login(v);return _.success&&_.user?t({isAuthenticated:!0,user:_.user,loading:!1,error:null}):t(b=>({...b,loading:!1,error:_.message})),_}catch{const b="登录失败，请重试";return t(S=>({...S,loading:!1,error:b})),{success:!1,message:b}}},o=async v=>{try{t(b=>({...b,loading:!0,error:null}));const _=await Ia.register(v);if(_.success&&_.user){const b=await Ia.login({email:v.email,password:v.password});b.success&&b.user&&t({isAuthenticated:!0,user:b.user||null,loading:!1,error:null})}else t(b=>({...b,loading:!1,error:_.message}));return _}catch{const b="注册失败，请重试";return t(S=>({...S,loading:!1,error:b})),{success:!1,message:b}}},m=async()=>{try{await Ia.logout(),t({isAuthenticated:!1,user:null,loading:!1,error:null})}catch(v){console.error("登出失败:",v)}},g=async v=>{if(!e.user)return{success:!1,message:"用户未登录"};try{t(b=>({...b,loading:!0,error:null}));const _=await Ia.updateProfile(e.user.id,v);return _.success&&_.user?t(b=>({...b,user:_.user||null,loading:!1,error:null})):t(b=>({...b,loading:!1,error:_.message})),_}catch{const b="更新失败，请重试";return t(S=>({...S,loading:!1,error:b})),{success:!1,message:b}}},x=async(v,_)=>{if(!e.user)return{success:!1,message:"用户未登录"};try{t(S=>({...S,loading:!0,error:null}));const b=await Ia.changePassword(e.user.id,v,_);return t(S=>({...S,loading:!1,error:b.success?null:b.message})),b}catch{const S="修改密码失败，请重试";return t(N=>({...N,loading:!1,error:S})),{success:!1,message:S}}},p=async()=>{await i()};return f.jsx(ty.Provider,{value:{...e,login:l,register:o,logout:m,updateProfile:g,changePassword:x,refreshUser:p},children:s})},da=()=>{const s=M.useContext(ty);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s},ny={cart:[]},ay=M.createContext({state:ny,dispatch:()=>null,addItem:()=>{},removeItem:()=>{},updateQuantity:()=>{},clearCart:()=>{},cart:[],totalItems:0,totalPrice:0}),Gb=(s,e)=>{switch(e.type){case"LOAD_CART":return{...s,cart:e.payload};case"ADD_ITEM":return s.cart.find(i=>i.id===e.payload.id)?{...s,cart:s.cart.map(i=>i.id===e.payload.id?{...i,quantity:i.quantity+1}:i)}:{...s,cart:[...s.cart,{...e.payload,quantity:1}]};case"REMOVE_ITEM":return{...s,cart:s.cart.filter(i=>i.id!==e.payload)};case"UPDATE_QUANTITY":return e.payload.quantity<=0?{...s,cart:s.cart.filter(i=>i.id!==e.payload.productId)}:{...s,cart:s.cart.map(i=>i.id===e.payload.productId?{...i,quantity:e.payload.quantity}:i)};case"CLEAR_CART":return{...s,cart:[]};default:return s}},zb=({children:s})=>{const[e,t]=M.useReducer(Gb,ny);M.useEffect(()=>{const p=localStorage.getItem("chronoCraftCart");p&&t({type:"LOAD_CART",payload:JSON.parse(p)})},[]),M.useEffect(()=>{localStorage.setItem("chronoCraftCart",JSON.stringify(e.cart))},[e.cart]);const i=p=>t({type:"ADD_ITEM",payload:p}),l=p=>t({type:"REMOVE_ITEM",payload:p}),o=(p,v)=>t({type:"UPDATE_QUANTITY",payload:{productId:p,quantity:v}}),m=()=>t({type:"CLEAR_CART"}),g=e.cart.reduce((p,v)=>p+v.quantity,0),x=e.cart.reduce((p,v)=>p+v.price*v.quantity,0);return f.jsx(ay.Provider,{value:{state:e,dispatch:t,addItem:i,removeItem:l,updateQuantity:o,clearCart:m,cart:e.cart,totalItems:g,totalPrice:x},children:s})},Pi=()=>{const s=M.useContext(ay);if(s===void 0)throw new Error("useCart must be used within a CartProvider");return s},xc="AIzaSyBga7fAogM-RZlTQ0Kyl6_HxD00qZ0uSQc",nt={name:"SEAGULL",chineseName:"海鸥表",tagline:"中国制表行业的开创者和领先者",logoSvg:f.jsx("img",{src:"./images/seagull-logo.png",alt:"海鸥表 SEAGULL Logo",width:"70",height:"50",className:"object-contain filter invert brightness-200"})},Hb="gemini-2.5-flash-preview-04-17",rp=[{name:"首页",path:"/"},{name:"全部腕表",path:"/products"},{name:"品牌故事",path:"/about"},{name:"个人中心",path:"/user-center"}],cc={company:[{name:"品牌故事",path:"/about"},{name:"制表工艺",path:"#"},{name:"品牌资讯",path:"#"}],support:[{name:"售后服务",path:"#"},{name:"联系我们",path:"#"},{name:"产品保修",path:"#"}],legal:[{name:"隐私政策",path:"#"},{name:"使用条款",path:"#"}]},Hc=({className:s})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s||"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})}),Fb=({className:s})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s||"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),Yb=({className:s})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s||"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),$b=({className:s})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s||"w-6 h-6",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),Zb=({className:s})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s||"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),Kb=({className:s})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s||"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 12h-15"})}),Jb=({className:s})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s||"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12.56 0c1.153 0 2.24.03 3.22.077m3.22-.077L10.879 15.891m7.583-11.113a48.145 48.145 0 0 1-3.478-.397m1.932 0c-.427-.042-.855-.073-1.287-.097M6.375 5.79c-1.256.365-2.313.8-3.218 1.227m13.935 0c.906-.428 1.962-.863 3.218-1.227"})}),Xb=({className:s})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s||"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 14.25l-1.25-2.25L13.5 11l2.25-1.25L17 7.5l1.25 2.25L20.5 11l-2.25 1.25z"})}),Qb=()=>{const{cart:s}=Pi(),{user:e,isAuthenticated:t}=da(),[i,l]=M.useState(!1),o=s.reduce((m,g)=>m+g.quantity,0);return f.jsxs("header",{className:"bg-brand-surface shadow-lg sticky top-0 z-50",children:[f.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[f.jsxs(oe,{to:"/",className:"flex items-center space-x-2",children:[nt.logoSvg,f.jsx("span",{className:"text-2xl font-serif font-bold text-brand-text tracking-tight",children:nt.name})]}),f.jsx("nav",{className:"hidden md:flex space-x-6 items-center",children:rp.map(m=>f.jsx(gc,{to:m.path,className:({isActive:g})=>`text-brand-text-secondary hover:text-brand-primary transition-colors duration-200 ${g?"text-brand-primary font-semibold":""}`,children:m.name},m.name))}),f.jsxs("div",{className:"flex items-center space-x-4",children:[t&&e?f.jsx("div",{className:"flex items-center space-x-3",children:f.jsxs(oe,{to:"/user-center",className:"text-brand-text-secondary hover:text-brand-primary transition-colors duration-200 flex items-center space-x-1",children:[f.jsx("span",{children:"👤"}),f.jsxs("span",{children:["欢迎，",e.name.length>6?e.name.substring(0,6)+"...":e.name]})]})}):f.jsxs("div",{className:"hidden md:flex items-center space-x-3",children:[f.jsx(oe,{to:"/login",className:"text-brand-text-secondary hover:text-brand-primary transition-colors duration-200",children:"登录"}),f.jsx(oe,{to:"/register",className:"bg-brand-primary text-brand-bg px-3 py-1 rounded-md text-sm hover:bg-brand-primary-dark transition-colors",children:"注册"})]}),f.jsxs(oe,{to:"/cart",className:"relative text-brand-text-secondary hover:text-brand-primary transition-colors duration-200",children:[f.jsx(Hc,{className:"w-6 h-6"}),o>0&&f.jsx("span",{className:"absolute -top-2 -right-2 bg-brand-primary text-brand-bg text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold",children:o})]}),f.jsx("div",{className:"md:hidden",children:f.jsx("button",{onClick:()=>l(!i),className:"text-brand-text-secondary hover:text-brand-primary focus:outline-none",children:i?f.jsx(Yb,{className:"w-6 h-6"}):f.jsx(Fb,{className:"w-6 h-6"})})})]})]}),i&&f.jsx("div",{className:"md:hidden bg-brand-surface border-t border-gray-700",children:f.jsxs("nav",{className:"flex flex-col space-y-1 px-4 py-3",children:[rp.map(m=>f.jsx(gc,{to:m.path,onClick:()=>l(!1),className:({isActive:g})=>`block px-3 py-2 rounded-md text-base font-medium ${g?"bg-brand-primary text-brand-bg":"text-brand-text-secondary hover:bg-gray-700 hover:text-brand-primary"}`,children:m.name},m.name)),f.jsx("div",{className:"border-t border-gray-700 pt-3 mt-3",children:t&&e?f.jsx(f.Fragment,{children:f.jsx(oe,{to:"/user-center",onClick:()=>l(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-brand-text-secondary hover:bg-gray-700 hover:text-brand-primary",children:"👤 个人中心"})}):f.jsxs(f.Fragment,{children:[f.jsx(oe,{to:"/login",onClick:()=>l(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-brand-text-secondary hover:bg-gray-700 hover:text-brand-primary",children:"登录"}),f.jsx(oe,{to:"/register",onClick:()=>l(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-brand-text-secondary hover:bg-gray-700 hover:text-brand-primary",children:"注册"})]})})]})})]})},Wb=()=>f.jsx("footer",{className:"bg-brand-surface border-t border-gray-700 text-brand-text-secondary",children:f.jsxs("div",{className:"container mx-auto px-4 py-12",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-8",children:[f.jsxs("div",{className:"col-span-1 md:col-span-2 lg:col-span-1",children:[f.jsxs(oe,{to:"/",className:"flex items-center space-x-2 mb-4",children:[nt.logoSvg,f.jsx("span",{className:"text-xl font-serif font-bold text-brand-text",children:nt.name})]}),f.jsx("p",{className:"text-sm",children:nt.tagline}),f.jsx("p",{className:"text-sm mt-1",children:nt.chineseName})]}),f.jsxs("div",{children:[f.jsx("h5",{className:"font-semibold text-brand-text mb-3",children:"Company"}),f.jsx("ul",{className:"space-y-2",children:cc.company.map(s=>f.jsx("li",{children:f.jsx(oe,{to:s.path,className:"hover:text-brand-primary transition-colors text-sm",children:s.name})},s.name))})]}),f.jsxs("div",{children:[f.jsx("h5",{className:"font-semibold text-brand-text mb-3",children:"Support"}),f.jsx("ul",{className:"space-y-2",children:cc.support.map(s=>f.jsx("li",{children:f.jsx(oe,{to:s.path,className:"hover:text-brand-primary transition-colors text-sm",children:s.name})},s.name))})]}),f.jsxs("div",{children:[f.jsx("h5",{className:"font-semibold text-brand-text mb-3",children:"Legal"}),f.jsx("ul",{className:"space-y-2",children:cc.legal.map(s=>f.jsx("li",{children:f.jsx(oe,{to:s.path,className:"hover:text-brand-primary transition-colors text-sm",children:s.name})},s.name))})]})]}),f.jsxs("div",{className:"border-t border-gray-700 pt-8 text-center",children:[f.jsxs("p",{className:"text-sm",children:["© ",new Date().getFullYear()," ",nt.chineseName,". 版权所有."]}),f.jsx("p",{className:"text-xs mt-1",children:"中国制表行业的开创者和领先者 | 始创于1955年"})]})]})}),eT=()=>f.jsxs("div",{className:"relative bg-brand-surface text-brand-text py-20 md:py-32 rounded-lg shadow-2xl overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-30",style:{backgroundImage:"url('images/seagull_hero_banner_1963pilot_main.jpg')"}}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-brand-bg via-brand-bg/80 to-transparent"}),f.jsxs("div",{className:"container mx-auto px-6 relative z-10 text-center",children:[f.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-serif font-bold text-brand-text mb-6 leading-tight",children:[nt.chineseName,": ",f.jsx("span",{className:"text-brand-primary",children:nt.tagline})]}),f.jsx("p",{className:"text-lg md:text-xl text-brand-text-secondary mb-10 max-w-2xl mx-auto",children:"体验制表技艺的巅峰之作。每一枚海鸥腕表都是精准、艺术与恒久风格的完美见证。始创于1955年，海鸥表70年来一直致力于高品质机芯的研发制造。"}),f.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-6",children:[f.jsx(oe,{to:"/products",className:"bg-brand-primary text-brand-bg font-semibold py-3 px-8 rounded-md text-lg hover:bg-brand-primary-dark transition-colors duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:"探索系列腕表"}),f.jsx(oe,{to:"/about",className:"border-2 border-brand-primary text-brand-primary font-semibold py-3 px-8 rounded-md text-lg hover:bg-brand-primary hover:text-brand-bg transition-colors duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:"制表工艺"})]})]})]}),iy=({product:s,onAddToCart:e})=>f.jsxs("div",{className:"bg-brand-surface rounded-lg shadow-xl overflow-hidden transition-all duration-300 hover:shadow-2xl group flex flex-col",children:[f.jsx(oe,{to:`/products/${s.id}`,className:"block",children:f.jsxs("div",{className:"relative aspect-w-1 aspect-h-1 w-full overflow-hidden",children:[f.jsx("img",{src:s.imageUrl||`https://picsum.photos/seed/${s.id}/400/400`,alt:s.name,className:"w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-300"}),f.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20 group-hover:bg-opacity-10 transition-opacity duration-300 flex items-center justify-center opacity-0 group-hover:opacity-100",children:f.jsx($b,{className:"w-12 h-12 text-white opacity-80"})})]})}),f.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[f.jsx(oe,{to:`/products/${s.id}`,className:"block",children:f.jsx("h3",{className:"text-xl font-serif font-semibold text-brand-text group-hover:text-brand-primary transition-colors duration-200 truncate",title:s.name,children:s.name})}),f.jsx("p",{className:"text-sm text-brand-text-secondary mt-1",children:s.category}),f.jsxs("p",{className:"text-2xl font-semibold text-brand-primary mt-2 flex-grow",children:["¥",s.price.toLocaleString()]}),f.jsx("div",{className:"mt-4",children:f.jsxs("button",{onClick:()=>e(s),className:"w-full bg-brand-primary text-brand-bg font-semibold py-3 px-4 rounded-md hover:bg-brand-primary-dark transition-colors duration-200 flex items-center justify-center space-x-2",children:[f.jsx(Hc,{className:"w-5 h-5"}),f.jsx("span",{children:"加入购物车"})]})})]})]}),Nr=({size:s="md",message:e})=>{const t={sm:"w-6 h-6 border-2",md:"w-10 h-10 border-4",lg:"w-16 h-16 border-4"};return f.jsxs("div",{className:"flex flex-col items-center justify-center p-4",children:[f.jsx("div",{className:`animate-spin rounded-full border-brand-primary border-t-transparent ${t[s]}`}),e&&f.jsx("p",{className:"mt-3 text-brand-text-secondary",children:e})]})};var Wt=(s=>(s.LUXURY="大师海鸥",s.SPORTS="飞行系列",s.CLASSIC="海洋系列",s.MINIMALIST="潮酷品线",s))(Wt||{}),Ne=(s=>(s.ALIPAY="alipay",s.WECHAT="wechat",s.BANK_TRANSFER="bank",s))(Ne||{}),ee=(s=>(s.PENDING="pending",s.PAID="paid",s.PROCESSING="processing",s.SHIPPED="shipped",s.DELIVERED="delivered",s.CANCELLED="cancelled",s))(ee||{});const un=Qt.getInstance(),sy={luxury:Wt.LUXURY,sports:Wt.SPORTS,classic:Wt.CLASSIC,minimalist:Wt.MINIMALIST},tT={[Wt.LUXURY]:"luxury",[Wt.SPORTS]:"sports",[Wt.CLASSIC]:"classic",[Wt.MINIMALIST]:"minimalist"};function Bs(s,e){return{id:s.id,name:s.name,brand:s.brand,price:s.price,imageUrl:s.images[0]||"",galleryImages:s.images,description:s.description,shortDescription:s.short_description||"",features:s.tags,category:sy[e]||Wt.LUXURY,stock:s.stock_quantity,sku:s.sku}}const Zs={getProducts:async s=>{try{console.log("开始获取产品，分类:",s);const e=await un.findCategories();console.log("获取到的分类数量:",e.length);let t=[];if(s){const i=tT[s];console.log("目标分类slug:",i);const l=e.find(o=>o.slug===i);if(console.log("找到目标分类:",l==null?void 0:l.name),l){const o=await un.findProductsByCategory(l.id);console.log("获取到的产品记录数量:",o.length),t=o.filter(m=>m.status==="active").map(m=>Bs(m,l.slug))}}else{const i=await un.findProducts({where:[{field:"status",operator:"=",value:"active"}]});console.log("获取到的所有产品记录数量:",i.length),t=[];for(const l of i){const o=e.find(m=>m.id===l.category_id);o&&t.push(Bs(l,o.slug))}}return console.log("最终返回的产品数量:",t.length),t}catch(e){return console.error("获取产品列表失败:",e),[]}},getProductById:async s=>{try{const e=await un.findProductById(s);if(!e||e.status!=="active")return;const i=(await un.findCategories()).find(l=>l.id===e.category_id);return i?Bs(e,i.slug):void 0}catch(e){console.error("获取产品详情失败:",e);return}},getProductCategories:async()=>{try{return(await un.findCategories({where:[{field:"status",operator:"=",value:"active"}]})).map(t=>sy[t.slug]).filter(t=>t!==void 0)}catch(s){return console.error("获取产品分类失败:",s),[]}},searchProducts:async s=>{try{const e=await un.searchProducts(s,{where:[{field:"status",operator:"=",value:"active"}]}),t=await un.findCategories(),i=[];for(const l of e){const o=t.find(m=>m.id===l.category_id);o&&i.push(Bs(l,o.slug))}return i}catch(e){return console.error("搜索产品失败:",e),[]}},getFeaturedProducts:async()=>{try{const s=await un.findProducts({where:[{field:"status",operator:"=",value:"active"},{field:"is_featured",operator:"=",value:!0}]}),e=await un.findCategories(),t=[];for(const i of s){const l=e.find(o=>o.id===i.category_id);l&&t.push(Bs(i,l.slug))}return t}catch(s){return console.error("获取特色产品失败:",s),[]}}},nT=()=>{const[s,e]=M.useState([]),[t,i]=M.useState(!0),{addItem:l}=Pi();M.useEffect(()=>{(async()=>{i(!0);try{const g=await Zs.getFeaturedProducts();if(g.length===0){const x=await Zs.getProducts();e(x.slice(0,3))}else e(g.slice(0,3))}catch(g){console.error("Failed to fetch featured products:",g)}finally{i(!1)}})()},[]);const o=m=>{l(m)};return f.jsxs("div",{className:"space-y-16",children:[f.jsx(eT,{}),f.jsxs("section",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-8",children:[f.jsx("h2",{className:"text-3xl font-serif font-semibold text-brand-text",children:"精选时计"}),f.jsx(oe,{to:"/products",className:"text-brand-primary hover:text-brand-primary-dark font-medium transition-colors",children:"查看所有系列 →"})]}),t?f.jsx(Nr,{message:"正在加载精选腕表..."}):s.length>0?f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:s.map(m=>f.jsx(iy,{product:m,onAddToCart:o},m.id))}):f.jsx("p",{className:"text-brand-text-secondary text-center",children:"暂无精选产品。"})]}),f.jsx("section",{className:"bg-brand-surface p-10 rounded-lg shadow-xl",children:f.jsxs("div",{className:"grid md:grid-cols-2 gap-10 items-center",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-3xl font-serif font-semibold text-brand-text mb-4",children:[nt.chineseName,"的承诺"]}),f.jsxs("p",{className:"text-brand-text-secondary mb-4 leading-relaxed",children:["在",nt.chineseName,"，我们专注于钟表艺术。每一枚时计都由制表大师精心组装，将数百年的传统工艺与尖端技术完美融合。我们只选用最优质的材料，确保每一块手表不仅仅是计时工具，更是值得珍藏的传世之作。"]}),f.jsx("p",{className:"text-brand-text-secondary mb-6 leading-relaxed",children:"我们对卓越的承诺不止于制表工坊。我们致力于提供无与伦比的客户体验，引导您找到最能表达个人品味的时计杰作。70年来，海鸥表始终是中国制表行业的开创者和领先者。"}),f.jsx(oe,{to:"/about",className:"inline-block bg-brand-primary text-brand-bg font-semibold py-3 px-6 rounded-md hover:bg-brand-primary-dark transition-colors duration-300",children:"了解我们的故事"})]}),f.jsx("div",{className:"aspect-w-16 aspect-h-9 rounded-lg overflow-hidden",children:f.jsx("img",{src:"./images/seagull_team_main.jpg",alt:"海鸥表制表工艺",className:"object-cover w-full h-full"})})]})}),f.jsxs("section",{children:[f.jsx("h2",{className:"text-3xl font-serif font-semibold text-brand-text text-center mb-8",children:"按系列探索"}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:Object.values(Wt).map(m=>f.jsxs(oe,{to:`/products?category=${encodeURIComponent(m)}`,className:"block p-8 bg-brand-surface rounded-lg shadow-lg hover:shadow-xl hover:bg-gray-700 transition-all duration-300 text-center group",children:[f.jsx("h3",{className:"text-xl font-semibold text-brand-text group-hover:text-brand-primary transition-colors",children:m}),f.jsxs("p",{className:"text-sm text-brand-text-secondary mt-2",children:["探索我们的",m,"系列。"]})]},m))})]})]})},aT=()=>{const[s,e]=M.useState([]),[t,i]=M.useState(!0),[l,o]=Ub(),[m,g]=M.useState([]),[x,p]=M.useState(Date.now()),v=l.get("category"),{addItem:_}=Pi();M.useEffect(()=>{(async()=>{try{const D=await Zs.getProductCategories(),I=Array.from(new Set(D));g(I)}catch(D){console.error("获取分类失败:",D)}})()},[]);const b=M.useCallback(async()=>{i(!0);try{console.log("正在获取产品，分类:",v);const E=await Zs.getProducts(v||void 0);console.log("获取到的产品数量:",E.length),e([]),setTimeout(()=>{e(E),p(Date.now())},0)}catch(E){console.error("获取产品失败:",E),e([])}finally{i(!1)}},[v]);M.useEffect(()=>{console.log("分类变化，触发刷新"),b()},[v,b]),M.useEffect(()=>{console.log("产品列表已更新，时间戳:",x)},[x]);const S=E=>{console.log("切换分类:",E),o(E?{category:E}:{})},N=E=>{_(E)};return f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-4xl font-serif font-bold text-brand-text mb-2",children:v||"全部腕表"}),f.jsx("p",{className:"text-brand-text-secondary max-w-xl mx-auto",children:"探索我们精心策划的高端腕表收藏，每一枚都以精湛工艺和满怀激情制作。"})]}),f.jsxs("div",{className:"flex flex-wrap justify-center gap-3 mb-8 p-4 bg-brand-surface rounded-lg shadow-md",children:[f.jsx("button",{onClick:()=>S(null),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200 ${v?"bg-gray-600 text-brand-text-secondary hover:bg-gray-500":"bg-brand-primary text-brand-bg"}`,children:"全部腕表"}),m.map(E=>f.jsx("button",{onClick:()=>S(E),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200 ${v===E?"bg-brand-primary text-brand-bg":"bg-gray-600 text-brand-text-secondary hover:bg-gray-500"}`,children:E},E))]}),t?f.jsx("div",{className:"flex justify-center items-center py-12",children:f.jsx(Nr,{})}):s.length>0?f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:s.map(E=>f.jsx(iy,{product:E,onAddToCart:()=>N(E)},E.id))},x):f.jsx("div",{className:"text-center py-12",children:f.jsx("p",{className:"text-brand-text-secondary",children:"暂无相关产品"})})]})};var De;(function(s){s.assertEqual=l=>{};function e(l){}s.assertIs=e;function t(l){throw new Error}s.assertNever=t,s.arrayToEnum=l=>{const o={};for(const m of l)o[m]=m;return o},s.getValidEnumValues=l=>{const o=s.objectKeys(l).filter(g=>typeof l[l[g]]!="number"),m={};for(const g of o)m[g]=l[g];return s.objectValues(m)},s.objectValues=l=>s.objectKeys(l).map(function(o){return l[o]}),s.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const o=[];for(const m in l)Object.prototype.hasOwnProperty.call(l,m)&&o.push(m);return o},s.find=(l,o)=>{for(const m of l)if(o(m))return m},s.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&Number.isFinite(l)&&Math.floor(l)===l;function i(l,o=" | "){return l.map(m=>typeof m=="string"?`'${m}'`:m).join(o)}s.joinValues=i,s.jsonStringifyReplacer=(l,o)=>typeof o=="bigint"?o.toString():o})(De||(De={}));var op;(function(s){s.mergeShapes=(e,t)=>({...e,...t})})(op||(op={}));const se=De.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ra=s=>{switch(typeof s){case"undefined":return se.undefined;case"string":return se.string;case"number":return Number.isNaN(s)?se.nan:se.number;case"boolean":return se.boolean;case"function":return se.function;case"bigint":return se.bigint;case"symbol":return se.symbol;case"object":return Array.isArray(s)?se.array:s===null?se.null:s.then&&typeof s.then=="function"&&s.catch&&typeof s.catch=="function"?se.promise:typeof Map<"u"&&s instanceof Map?se.map:typeof Set<"u"&&s instanceof Set?se.set:typeof Date<"u"&&s instanceof Date?se.date:se.object;default:return se.unknown}},$=De.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class In extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(o){return o.message},i={_errors:[]},l=o=>{for(const m of o.issues)if(m.code==="invalid_union")m.unionErrors.map(l);else if(m.code==="invalid_return_type")l(m.returnTypeError);else if(m.code==="invalid_arguments")l(m.argumentsError);else if(m.path.length===0)i._errors.push(t(m));else{let g=i,x=0;for(;x<m.path.length;){const p=m.path[x];x===m.path.length-1?(g[p]=g[p]||{_errors:[]},g[p]._errors.push(t(m))):g[p]=g[p]||{_errors:[]},g=g[p],x++}}};return l(this),i}static assert(e){if(!(e instanceof In))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,De.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},i=[];for(const l of this.issues)l.path.length>0?(t[l.path[0]]=t[l.path[0]]||[],t[l.path[0]].push(e(l))):i.push(e(l));return{formErrors:i,fieldErrors:t}}get formErrors(){return this.flatten()}}In.create=s=>new In(s);const vc=(s,e)=>{let t;switch(s.code){case $.invalid_type:s.received===se.undefined?t="Required":t=`Expected ${s.expected}, received ${s.received}`;break;case $.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(s.expected,De.jsonStringifyReplacer)}`;break;case $.unrecognized_keys:t=`Unrecognized key(s) in object: ${De.joinValues(s.keys,", ")}`;break;case $.invalid_union:t="Invalid input";break;case $.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${De.joinValues(s.options)}`;break;case $.invalid_enum_value:t=`Invalid enum value. Expected ${De.joinValues(s.options)}, received '${s.received}'`;break;case $.invalid_arguments:t="Invalid function arguments";break;case $.invalid_return_type:t="Invalid function return type";break;case $.invalid_date:t="Invalid date";break;case $.invalid_string:typeof s.validation=="object"?"includes"in s.validation?(t=`Invalid input: must include "${s.validation.includes}"`,typeof s.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${s.validation.position}`)):"startsWith"in s.validation?t=`Invalid input: must start with "${s.validation.startsWith}"`:"endsWith"in s.validation?t=`Invalid input: must end with "${s.validation.endsWith}"`:De.assertNever(s.validation):s.validation!=="regex"?t=`Invalid ${s.validation}`:t="Invalid";break;case $.too_small:s.type==="array"?t=`Array must contain ${s.exact?"exactly":s.inclusive?"at least":"more than"} ${s.minimum} element(s)`:s.type==="string"?t=`String must contain ${s.exact?"exactly":s.inclusive?"at least":"over"} ${s.minimum} character(s)`:s.type==="number"?t=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="date"?t=`Date must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(s.minimum))}`:t="Invalid input";break;case $.too_big:s.type==="array"?t=`Array must contain ${s.exact?"exactly":s.inclusive?"at most":"less than"} ${s.maximum} element(s)`:s.type==="string"?t=`String must contain ${s.exact?"exactly":s.inclusive?"at most":"under"} ${s.maximum} character(s)`:s.type==="number"?t=`Number must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="bigint"?t=`BigInt must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="date"?t=`Date must be ${s.exact?"exactly":s.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(s.maximum))}`:t="Invalid input";break;case $.custom:t="Invalid input";break;case $.invalid_intersection_types:t="Intersection results could not be merged";break;case $.not_multiple_of:t=`Number must be a multiple of ${s.multipleOf}`;break;case $.not_finite:t="Number must be finite";break;default:t=e.defaultError,De.assertNever(s)}return{message:t}};let iT=vc;function sT(){return iT}const lT=s=>{const{data:e,path:t,errorMaps:i,issueData:l}=s,o=[...t,...l.path||[]],m={...l,path:o};if(l.message!==void 0)return{...l,path:o,message:l.message};let g="";const x=i.filter(p=>!!p).slice().reverse();for(const p of x)g=p(m,{data:e,defaultError:g}).message;return{...l,path:o,message:g}};function W(s,e){const t=sT(),i=lT({issueData:e,data:s.data,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,t,t===vc?void 0:vc].filter(l=>!!l)});s.common.issues.push(i)}class xt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const i=[];for(const l of t){if(l.status==="aborted")return ye;l.status==="dirty"&&e.dirty(),i.push(l.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,t){const i=[];for(const l of t){const o=await l.key,m=await l.value;i.push({key:o,value:m})}return xt.mergeObjectSync(e,i)}static mergeObjectSync(e,t){const i={};for(const l of t){const{key:o,value:m}=l;if(o.status==="aborted"||m.status==="aborted")return ye;o.status==="dirty"&&e.dirty(),m.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof m.value<"u"||l.alwaysSet)&&(i[o.value]=m.value)}return{status:e.value,value:i}}}const ye=Object.freeze({status:"aborted"}),zs=s=>({status:"dirty",value:s}),Zt=s=>({status:"valid",value:s}),up=s=>s.status==="aborted",cp=s=>s.status==="dirty",Mi=s=>s.status==="valid",Er=s=>typeof Promise<"u"&&s instanceof Promise;var le;(function(s){s.errToObj=e=>typeof e=="string"?{message:e}:e||{},s.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(le||(le={}));class fn{constructor(e,t,i,l){this._cachedPath=[],this.parent=e,this.data=t,this._path=i,this._key=l}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const dp=(s,e)=>{if(Mi(e))return{success:!0,data:e.value};if(!s.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new In(s.common.issues);return this._error=t,this._error}}};function be(s){if(!s)return{};const{errorMap:e,invalid_type_error:t,required_error:i,description:l}=s;if(e&&(t||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:l}:{errorMap:(m,g)=>{const{message:x}=s;return m.code==="invalid_enum_value"?{message:x??g.defaultError}:typeof g.data>"u"?{message:x??i??g.defaultError}:m.code!=="invalid_type"?{message:g.defaultError}:{message:x??t??g.defaultError}},description:l}}class Ee{get description(){return this._def.description}_getType(e){return ra(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:ra(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new xt,ctx:{common:e.parent.common,data:e.data,parsedType:ra(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Er(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const i=this.safeParse(e,t);if(i.success)return i.data;throw i.error}safeParse(e,t){const i={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ra(e)},l=this._parseSync({data:e,path:i.path,parent:i});return dp(i,l)}"~validate"(e){var i,l;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ra(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:t});return Mi(o)?{value:o.value}:{issues:t.common.issues}}catch(o){(l=(i=o==null?void 0:o.message)==null?void 0:i.toLowerCase())!=null&&l.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(o=>Mi(o)?{value:o.value}:{issues:t.common.issues})}async parseAsync(e,t){const i=await this.safeParseAsync(e,t);if(i.success)return i.data;throw i.error}async safeParseAsync(e,t){const i={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ra(e)},l=this._parse({data:e,path:i.path,parent:i}),o=await(Er(l)?l:Promise.resolve(l));return dp(i,o)}refine(e,t){const i=l=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(l):t;return this._refinement((l,o)=>{const m=e(l),g=()=>o.addIssue({code:$.custom,...i(l)});return typeof Promise<"u"&&m instanceof Promise?m.then(x=>x?!0:(g(),!1)):m?!0:(g(),!1)})}refinement(e,t){return this._refinement((i,l)=>e(i)?!0:(l.addIssue(typeof t=="function"?t(i,l):t),!1))}_refinement(e){return new Ii({schema:this,typeName:ge.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return oa.create(this,this._def)}nullable(){return Ui.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return dn.create(this)}promise(){return Dr.create(this,this._def)}or(e){return wr.create([this,e],this._def)}and(e){return Mr.create(this,e,this._def)}transform(e){return new Ii({...be(this._def),schema:this,typeName:ge.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Cc({...be(this._def),innerType:this,defaultValue:t,typeName:ge.ZodDefault})}brand(){return new MT({typeName:ge.ZodBranded,type:this,...be(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Sc({...be(this._def),innerType:this,catchValue:t,typeName:ge.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Fc.create(this,e)}readonly(){return Nc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const rT=/^c[^\s-]{8,}$/i,oT=/^[0-9a-z]+$/,uT=/^[0-9A-HJKMNP-TV-Z]{26}$/i,cT=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,dT=/^[a-z0-9_-]{21}$/i,fT=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,mT=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,hT=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,pT="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let dc;const gT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,yT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,xT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,vT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,bT=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,TT=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ly="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",_T=new RegExp(`^${ly}$`);function ry(s){let e="[0-5]\\d";s.precision?e=`${e}\\.\\d{${s.precision}}`:s.precision==null&&(e=`${e}(\\.\\d+)?`);const t=s.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function CT(s){return new RegExp(`^${ry(s)}$`)}function ST(s){let e=`${ly}T${ry(s)}`;const t=[];return t.push(s.local?"Z?":"Z"),s.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function NT(s,e){return!!((e==="v4"||!e)&&gT.test(s)||(e==="v6"||!e)&&xT.test(s))}function ET(s,e){if(!fT.test(s))return!1;try{const[t]=s.split("."),i=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),l=JSON.parse(atob(i));return!(typeof l!="object"||l===null||"typ"in l&&(l==null?void 0:l.typ)!=="JWT"||!l.alg||e&&l.alg!==e)}catch{return!1}}function AT(s,e){return!!((e==="v4"||!e)&&yT.test(s)||(e==="v6"||!e)&&vT.test(s))}class cn extends Ee{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==se.string){const o=this._getOrReturnCtx(e);return W(o,{code:$.invalid_type,expected:se.string,received:o.parsedType}),ye}const i=new xt;let l;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(l=this._getOrReturnCtx(e,l),W(l,{code:$.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="max")e.data.length>o.value&&(l=this._getOrReturnCtx(e,l),W(l,{code:$.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="length"){const m=e.data.length>o.value,g=e.data.length<o.value;(m||g)&&(l=this._getOrReturnCtx(e,l),m?W(l,{code:$.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):g&&W(l,{code:$.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),i.dirty())}else if(o.kind==="email")hT.test(e.data)||(l=this._getOrReturnCtx(e,l),W(l,{validation:"email",code:$.invalid_string,message:o.message}),i.dirty());else if(o.kind==="emoji")dc||(dc=new RegExp(pT,"u")),dc.test(e.data)||(l=this._getOrReturnCtx(e,l),W(l,{validation:"emoji",code:$.invalid_string,message:o.message}),i.dirty());else if(o.kind==="uuid")cT.test(e.data)||(l=this._getOrReturnCtx(e,l),W(l,{validation:"uuid",code:$.invalid_string,message:o.message}),i.dirty());else if(o.kind==="nanoid")dT.test(e.data)||(l=this._getOrReturnCtx(e,l),W(l,{validation:"nanoid",code:$.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid")rT.test(e.data)||(l=this._getOrReturnCtx(e,l),W(l,{validation:"cuid",code:$.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid2")oT.test(e.data)||(l=this._getOrReturnCtx(e,l),W(l,{validation:"cuid2",code:$.invalid_string,message:o.message}),i.dirty());else if(o.kind==="ulid")uT.test(e.data)||(l=this._getOrReturnCtx(e,l),W(l,{validation:"ulid",code:$.invalid_string,message:o.message}),i.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{l=this._getOrReturnCtx(e,l),W(l,{validation:"url",code:$.invalid_string,message:o.message}),i.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(l=this._getOrReturnCtx(e,l),W(l,{validation:"regex",code:$.invalid_string,message:o.message}),i.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(l=this._getOrReturnCtx(e,l),W(l,{code:$.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),i.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(l=this._getOrReturnCtx(e,l),W(l,{code:$.invalid_string,validation:{startsWith:o.value},message:o.message}),i.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(l=this._getOrReturnCtx(e,l),W(l,{code:$.invalid_string,validation:{endsWith:o.value},message:o.message}),i.dirty()):o.kind==="datetime"?ST(o).test(e.data)||(l=this._getOrReturnCtx(e,l),W(l,{code:$.invalid_string,validation:"datetime",message:o.message}),i.dirty()):o.kind==="date"?_T.test(e.data)||(l=this._getOrReturnCtx(e,l),W(l,{code:$.invalid_string,validation:"date",message:o.message}),i.dirty()):o.kind==="time"?CT(o).test(e.data)||(l=this._getOrReturnCtx(e,l),W(l,{code:$.invalid_string,validation:"time",message:o.message}),i.dirty()):o.kind==="duration"?mT.test(e.data)||(l=this._getOrReturnCtx(e,l),W(l,{validation:"duration",code:$.invalid_string,message:o.message}),i.dirty()):o.kind==="ip"?NT(e.data,o.version)||(l=this._getOrReturnCtx(e,l),W(l,{validation:"ip",code:$.invalid_string,message:o.message}),i.dirty()):o.kind==="jwt"?ET(e.data,o.alg)||(l=this._getOrReturnCtx(e,l),W(l,{validation:"jwt",code:$.invalid_string,message:o.message}),i.dirty()):o.kind==="cidr"?AT(e.data,o.version)||(l=this._getOrReturnCtx(e,l),W(l,{validation:"cidr",code:$.invalid_string,message:o.message}),i.dirty()):o.kind==="base64"?bT.test(e.data)||(l=this._getOrReturnCtx(e,l),W(l,{validation:"base64",code:$.invalid_string,message:o.message}),i.dirty()):o.kind==="base64url"?TT.test(e.data)||(l=this._getOrReturnCtx(e,l),W(l,{validation:"base64url",code:$.invalid_string,message:o.message}),i.dirty()):De.assertNever(o);return{status:i.value,value:e.data}}_regex(e,t,i){return this.refinement(l=>e.test(l),{validation:t,code:$.invalid_string,...le.errToObj(i)})}_addCheck(e){return new cn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...le.errToObj(e)})}url(e){return this._addCheck({kind:"url",...le.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...le.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...le.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...le.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...le.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...le.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...le.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...le.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...le.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...le.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...le.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...le.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...le.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...le.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...le.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...le.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...le.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...le.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...le.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...le.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...le.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...le.errToObj(t)})}nonempty(e){return this.min(1,le.errToObj(e))}trim(){return new cn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new cn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new cn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}cn.create=s=>new cn({checks:[],typeName:ge.ZodString,coerce:(s==null?void 0:s.coerce)??!1,...be(s)});function wT(s,e){const t=(s.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,l=t>i?t:i,o=Number.parseInt(s.toFixed(l).replace(".","")),m=Number.parseInt(e.toFixed(l).replace(".",""));return o%m/10**l}class ka extends Ee{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==se.number){const o=this._getOrReturnCtx(e);return W(o,{code:$.invalid_type,expected:se.number,received:o.parsedType}),ye}let i;const l=new xt;for(const o of this._def.checks)o.kind==="int"?De.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),W(i,{code:$.invalid_type,expected:"integer",received:"float",message:o.message}),l.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),W(i,{code:$.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),l.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),W(i,{code:$.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),l.dirty()):o.kind==="multipleOf"?wT(e.data,o.value)!==0&&(i=this._getOrReturnCtx(e,i),W(i,{code:$.not_multiple_of,multipleOf:o.value,message:o.message}),l.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),W(i,{code:$.not_finite,message:o.message}),l.dirty()):De.assertNever(o);return{status:l.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,le.toString(t))}gt(e,t){return this.setLimit("min",e,!1,le.toString(t))}lte(e,t){return this.setLimit("max",e,!0,le.toString(t))}lt(e,t){return this.setLimit("max",e,!1,le.toString(t))}setLimit(e,t,i,l){return new ka({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:le.toString(l)}]})}_addCheck(e){return new ka({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:le.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:le.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:le.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:le.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:le.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:le.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&De.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(t===null||i.value>t)&&(t=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(t)&&Number.isFinite(e)}}ka.create=s=>new ka({checks:[],typeName:ge.ZodNumber,coerce:(s==null?void 0:s.coerce)||!1,...be(s)});class La extends Ee{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==se.bigint)return this._getInvalidInput(e);let i;const l=new xt;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),W(i,{code:$.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),l.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),W(i,{code:$.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),l.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),W(i,{code:$.not_multiple_of,multipleOf:o.value,message:o.message}),l.dirty()):De.assertNever(o);return{status:l.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return W(t,{code:$.invalid_type,expected:se.bigint,received:t.parsedType}),ye}gte(e,t){return this.setLimit("min",e,!0,le.toString(t))}gt(e,t){return this.setLimit("min",e,!1,le.toString(t))}lte(e,t){return this.setLimit("max",e,!0,le.toString(t))}lt(e,t){return this.setLimit("max",e,!1,le.toString(t))}setLimit(e,t,i,l){return new La({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:le.toString(l)}]})}_addCheck(e){return new La({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:le.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:le.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}La.create=s=>new La({checks:[],typeName:ge.ZodBigInt,coerce:(s==null?void 0:s.coerce)??!1,...be(s)});class Ar extends Ee{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==se.boolean){const i=this._getOrReturnCtx(e);return W(i,{code:$.invalid_type,expected:se.boolean,received:i.parsedType}),ye}return Zt(e.data)}}Ar.create=s=>new Ar({typeName:ge.ZodBoolean,coerce:(s==null?void 0:s.coerce)||!1,...be(s)});class Ri extends Ee{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==se.date){const o=this._getOrReturnCtx(e);return W(o,{code:$.invalid_type,expected:se.date,received:o.parsedType}),ye}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return W(o,{code:$.invalid_date}),ye}const i=new xt;let l;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(l=this._getOrReturnCtx(e,l),W(l,{code:$.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),i.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(l=this._getOrReturnCtx(e,l),W(l,{code:$.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),i.dirty()):De.assertNever(o);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ri({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:le.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:le.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Ri.create=s=>new Ri({checks:[],coerce:(s==null?void 0:s.coerce)||!1,typeName:ge.ZodDate,...be(s)});class fp extends Ee{_parse(e){if(this._getType(e)!==se.symbol){const i=this._getOrReturnCtx(e);return W(i,{code:$.invalid_type,expected:se.symbol,received:i.parsedType}),ye}return Zt(e.data)}}fp.create=s=>new fp({typeName:ge.ZodSymbol,...be(s)});class mp extends Ee{_parse(e){if(this._getType(e)!==se.undefined){const i=this._getOrReturnCtx(e);return W(i,{code:$.invalid_type,expected:se.undefined,received:i.parsedType}),ye}return Zt(e.data)}}mp.create=s=>new mp({typeName:ge.ZodUndefined,...be(s)});class hp extends Ee{_parse(e){if(this._getType(e)!==se.null){const i=this._getOrReturnCtx(e);return W(i,{code:$.invalid_type,expected:se.null,received:i.parsedType}),ye}return Zt(e.data)}}hp.create=s=>new hp({typeName:ge.ZodNull,...be(s)});class pp extends Ee{constructor(){super(...arguments),this._any=!0}_parse(e){return Zt(e.data)}}pp.create=s=>new pp({typeName:ge.ZodAny,...be(s)});class bc extends Ee{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Zt(e.data)}}bc.create=s=>new bc({typeName:ge.ZodUnknown,...be(s)});class ua extends Ee{_parse(e){const t=this._getOrReturnCtx(e);return W(t,{code:$.invalid_type,expected:se.never,received:t.parsedType}),ye}}ua.create=s=>new ua({typeName:ge.ZodNever,...be(s)});class gp extends Ee{_parse(e){if(this._getType(e)!==se.undefined){const i=this._getOrReturnCtx(e);return W(i,{code:$.invalid_type,expected:se.void,received:i.parsedType}),ye}return Zt(e.data)}}gp.create=s=>new gp({typeName:ge.ZodVoid,...be(s)});class dn extends Ee{_parse(e){const{ctx:t,status:i}=this._processInputParams(e),l=this._def;if(t.parsedType!==se.array)return W(t,{code:$.invalid_type,expected:se.array,received:t.parsedType}),ye;if(l.exactLength!==null){const m=t.data.length>l.exactLength.value,g=t.data.length<l.exactLength.value;(m||g)&&(W(t,{code:m?$.too_big:$.too_small,minimum:g?l.exactLength.value:void 0,maximum:m?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),i.dirty())}if(l.minLength!==null&&t.data.length<l.minLength.value&&(W(t,{code:$.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),i.dirty()),l.maxLength!==null&&t.data.length>l.maxLength.value&&(W(t,{code:$.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),i.dirty()),t.common.async)return Promise.all([...t.data].map((m,g)=>l.type._parseAsync(new fn(t,m,t.path,g)))).then(m=>xt.mergeArray(i,m));const o=[...t.data].map((m,g)=>l.type._parseSync(new fn(t,m,t.path,g)));return xt.mergeArray(i,o)}get element(){return this._def.type}min(e,t){return new dn({...this._def,minLength:{value:e,message:le.toString(t)}})}max(e,t){return new dn({...this._def,maxLength:{value:e,message:le.toString(t)}})}length(e,t){return new dn({...this._def,exactLength:{value:e,message:le.toString(t)}})}nonempty(e){return this.min(1,e)}}dn.create=(s,e)=>new dn({type:s,minLength:null,maxLength:null,exactLength:null,typeName:ge.ZodArray,...be(e)});function Si(s){if(s instanceof tt){const e={};for(const t in s.shape){const i=s.shape[t];e[t]=oa.create(Si(i))}return new tt({...s._def,shape:()=>e})}else return s instanceof dn?new dn({...s._def,type:Si(s.element)}):s instanceof oa?oa.create(Si(s.unwrap())):s instanceof Ui?Ui.create(Si(s.unwrap())):s instanceof Pa?Pa.create(s.items.map(e=>Si(e))):s}class tt extends Ee{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=De.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==se.object){const p=this._getOrReturnCtx(e);return W(p,{code:$.invalid_type,expected:se.object,received:p.parsedType}),ye}const{status:i,ctx:l}=this._processInputParams(e),{shape:o,keys:m}=this._getCached(),g=[];if(!(this._def.catchall instanceof ua&&this._def.unknownKeys==="strip"))for(const p in l.data)m.includes(p)||g.push(p);const x=[];for(const p of m){const v=o[p],_=l.data[p];x.push({key:{status:"valid",value:p},value:v._parse(new fn(l,_,l.path,p)),alwaysSet:p in l.data})}if(this._def.catchall instanceof ua){const p=this._def.unknownKeys;if(p==="passthrough")for(const v of g)x.push({key:{status:"valid",value:v},value:{status:"valid",value:l.data[v]}});else if(p==="strict")g.length>0&&(W(l,{code:$.unrecognized_keys,keys:g}),i.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const v of g){const _=l.data[v];x.push({key:{status:"valid",value:v},value:p._parse(new fn(l,_,l.path,v)),alwaysSet:v in l.data})}}return l.common.async?Promise.resolve().then(async()=>{const p=[];for(const v of x){const _=await v.key,b=await v.value;p.push({key:_,value:b,alwaysSet:v.alwaysSet})}return p}).then(p=>xt.mergeObjectSync(i,p)):xt.mergeObjectSync(i,x)}get shape(){return this._def.shape()}strict(e){return le.errToObj,new tt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,i)=>{var o,m;const l=((m=(o=this._def).errorMap)==null?void 0:m.call(o,t,i).message)??i.defaultError;return t.code==="unrecognized_keys"?{message:le.errToObj(e).message??l}:{message:l}}}:{}})}strip(){return new tt({...this._def,unknownKeys:"strip"})}passthrough(){return new tt({...this._def,unknownKeys:"passthrough"})}extend(e){return new tt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new tt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ge.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new tt({...this._def,catchall:e})}pick(e){const t={};for(const i of De.objectKeys(e))e[i]&&this.shape[i]&&(t[i]=this.shape[i]);return new tt({...this._def,shape:()=>t})}omit(e){const t={};for(const i of De.objectKeys(this.shape))e[i]||(t[i]=this.shape[i]);return new tt({...this._def,shape:()=>t})}deepPartial(){return Si(this)}partial(e){const t={};for(const i of De.objectKeys(this.shape)){const l=this.shape[i];e&&!e[i]?t[i]=l:t[i]=l.optional()}return new tt({...this._def,shape:()=>t})}required(e){const t={};for(const i of De.objectKeys(this.shape))if(e&&!e[i])t[i]=this.shape[i];else{let o=this.shape[i];for(;o instanceof oa;)o=o._def.innerType;t[i]=o}return new tt({...this._def,shape:()=>t})}keyof(){return oy(De.objectKeys(this.shape))}}tt.create=(s,e)=>new tt({shape:()=>s,unknownKeys:"strip",catchall:ua.create(),typeName:ge.ZodObject,...be(e)});tt.strictCreate=(s,e)=>new tt({shape:()=>s,unknownKeys:"strict",catchall:ua.create(),typeName:ge.ZodObject,...be(e)});tt.lazycreate=(s,e)=>new tt({shape:s,unknownKeys:"strip",catchall:ua.create(),typeName:ge.ZodObject,...be(e)});class wr extends Ee{_parse(e){const{ctx:t}=this._processInputParams(e),i=this._def.options;function l(o){for(const g of o)if(g.result.status==="valid")return g.result;for(const g of o)if(g.result.status==="dirty")return t.common.issues.push(...g.ctx.common.issues),g.result;const m=o.map(g=>new In(g.ctx.common.issues));return W(t,{code:$.invalid_union,unionErrors:m}),ye}if(t.common.async)return Promise.all(i.map(async o=>{const m={...t,common:{...t.common,issues:[]},parent:null};return{result:await o._parseAsync({data:t.data,path:t.path,parent:m}),ctx:m}})).then(l);{let o;const m=[];for(const x of i){const p={...t,common:{...t.common,issues:[]},parent:null},v=x._parseSync({data:t.data,path:t.path,parent:p});if(v.status==="valid")return v;v.status==="dirty"&&!o&&(o={result:v,ctx:p}),p.common.issues.length&&m.push(p.common.issues)}if(o)return t.common.issues.push(...o.ctx.common.issues),o.result;const g=m.map(x=>new In(x));return W(t,{code:$.invalid_union,unionErrors:g}),ye}}get options(){return this._def.options}}wr.create=(s,e)=>new wr({options:s,typeName:ge.ZodUnion,...be(e)});function Tc(s,e){const t=ra(s),i=ra(e);if(s===e)return{valid:!0,data:s};if(t===se.object&&i===se.object){const l=De.objectKeys(e),o=De.objectKeys(s).filter(g=>l.indexOf(g)!==-1),m={...s,...e};for(const g of o){const x=Tc(s[g],e[g]);if(!x.valid)return{valid:!1};m[g]=x.data}return{valid:!0,data:m}}else if(t===se.array&&i===se.array){if(s.length!==e.length)return{valid:!1};const l=[];for(let o=0;o<s.length;o++){const m=s[o],g=e[o],x=Tc(m,g);if(!x.valid)return{valid:!1};l.push(x.data)}return{valid:!0,data:l}}else return t===se.date&&i===se.date&&+s==+e?{valid:!0,data:s}:{valid:!1}}class Mr extends Ee{_parse(e){const{status:t,ctx:i}=this._processInputParams(e),l=(o,m)=>{if(up(o)||up(m))return ye;const g=Tc(o.value,m.value);return g.valid?((cp(o)||cp(m))&&t.dirty(),{status:t.value,value:g.data}):(W(i,{code:$.invalid_intersection_types}),ye)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([o,m])=>l(o,m)):l(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}Mr.create=(s,e,t)=>new Mr({left:s,right:e,typeName:ge.ZodIntersection,...be(t)});class Pa extends Ee{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==se.array)return W(i,{code:$.invalid_type,expected:se.array,received:i.parsedType}),ye;if(i.data.length<this._def.items.length)return W(i,{code:$.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ye;!this._def.rest&&i.data.length>this._def.items.length&&(W(i,{code:$.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const o=[...i.data].map((m,g)=>{const x=this._def.items[g]||this._def.rest;return x?x._parse(new fn(i,m,i.path,g)):null}).filter(m=>!!m);return i.common.async?Promise.all(o).then(m=>xt.mergeArray(t,m)):xt.mergeArray(t,o)}get items(){return this._def.items}rest(e){return new Pa({...this._def,rest:e})}}Pa.create=(s,e)=>{if(!Array.isArray(s))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Pa({items:s,typeName:ge.ZodTuple,rest:null,...be(e)})};class Rr extends Ee{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==se.object)return W(i,{code:$.invalid_type,expected:se.object,received:i.parsedType}),ye;const l=[],o=this._def.keyType,m=this._def.valueType;for(const g in i.data)l.push({key:o._parse(new fn(i,g,i.path,g)),value:m._parse(new fn(i,i.data[g],i.path,g)),alwaysSet:g in i.data});return i.common.async?xt.mergeObjectAsync(t,l):xt.mergeObjectSync(t,l)}get element(){return this._def.valueType}static create(e,t,i){return t instanceof Ee?new Rr({keyType:e,valueType:t,typeName:ge.ZodRecord,...be(i)}):new Rr({keyType:cn.create(),valueType:e,typeName:ge.ZodRecord,...be(t)})}}class yp extends Ee{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==se.map)return W(i,{code:$.invalid_type,expected:se.map,received:i.parsedType}),ye;const l=this._def.keyType,o=this._def.valueType,m=[...i.data.entries()].map(([g,x],p)=>({key:l._parse(new fn(i,g,i.path,[p,"key"])),value:o._parse(new fn(i,x,i.path,[p,"value"]))}));if(i.common.async){const g=new Map;return Promise.resolve().then(async()=>{for(const x of m){const p=await x.key,v=await x.value;if(p.status==="aborted"||v.status==="aborted")return ye;(p.status==="dirty"||v.status==="dirty")&&t.dirty(),g.set(p.value,v.value)}return{status:t.value,value:g}})}else{const g=new Map;for(const x of m){const p=x.key,v=x.value;if(p.status==="aborted"||v.status==="aborted")return ye;(p.status==="dirty"||v.status==="dirty")&&t.dirty(),g.set(p.value,v.value)}return{status:t.value,value:g}}}}yp.create=(s,e,t)=>new yp({valueType:e,keyType:s,typeName:ge.ZodMap,...be(t)});class Ks extends Ee{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==se.set)return W(i,{code:$.invalid_type,expected:se.set,received:i.parsedType}),ye;const l=this._def;l.minSize!==null&&i.data.size<l.minSize.value&&(W(i,{code:$.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),t.dirty()),l.maxSize!==null&&i.data.size>l.maxSize.value&&(W(i,{code:$.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),t.dirty());const o=this._def.valueType;function m(x){const p=new Set;for(const v of x){if(v.status==="aborted")return ye;v.status==="dirty"&&t.dirty(),p.add(v.value)}return{status:t.value,value:p}}const g=[...i.data.values()].map((x,p)=>o._parse(new fn(i,x,i.path,p)));return i.common.async?Promise.all(g).then(x=>m(x)):m(g)}min(e,t){return new Ks({...this._def,minSize:{value:e,message:le.toString(t)}})}max(e,t){return new Ks({...this._def,maxSize:{value:e,message:le.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Ks.create=(s,e)=>new Ks({valueType:s,minSize:null,maxSize:null,typeName:ge.ZodSet,...be(e)});class _c extends Ee{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}_c.create=(s,e)=>new _c({getter:s,typeName:ge.ZodLazy,...be(e)});class xp extends Ee{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return W(t,{received:t.data,code:$.invalid_literal,expected:this._def.value}),ye}return{status:"valid",value:e.data}}get value(){return this._def.value}}xp.create=(s,e)=>new xp({value:s,typeName:ge.ZodLiteral,...be(e)});function oy(s,e){return new Di({values:s,typeName:ge.ZodEnum,...be(e)})}class Di extends Ee{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),i=this._def.values;return W(t,{expected:De.joinValues(i),received:t.parsedType,code:$.invalid_type}),ye}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),i=this._def.values;return W(t,{received:t.data,code:$.invalid_enum_value,options:i}),ye}return Zt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Di.create(e,{...this._def,...t})}exclude(e,t=this._def){return Di.create(this.options.filter(i=>!e.includes(i)),{...this._def,...t})}}Di.create=oy;class vp extends Ee{_parse(e){const t=De.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==se.string&&i.parsedType!==se.number){const l=De.objectValues(t);return W(i,{expected:De.joinValues(l),received:i.parsedType,code:$.invalid_type}),ye}if(this._cache||(this._cache=new Set(De.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const l=De.objectValues(t);return W(i,{received:i.data,code:$.invalid_enum_value,options:l}),ye}return Zt(e.data)}get enum(){return this._def.values}}vp.create=(s,e)=>new vp({values:s,typeName:ge.ZodNativeEnum,...be(e)});class Dr extends Ee{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==se.promise&&t.common.async===!1)return W(t,{code:$.invalid_type,expected:se.promise,received:t.parsedType}),ye;const i=t.parsedType===se.promise?t.data:Promise.resolve(t.data);return Zt(i.then(l=>this._def.type.parseAsync(l,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Dr.create=(s,e)=>new Dr({type:s,typeName:ge.ZodPromise,...be(e)});class Ii extends Ee{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ge.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:i}=this._processInputParams(e),l=this._def.effect||null,o={addIssue:m=>{W(i,m),m.fatal?t.abort():t.dirty()},get path(){return i.path}};if(o.addIssue=o.addIssue.bind(o),l.type==="preprocess"){const m=l.transform(i.data,o);if(i.common.async)return Promise.resolve(m).then(async g=>{if(t.value==="aborted")return ye;const x=await this._def.schema._parseAsync({data:g,path:i.path,parent:i});return x.status==="aborted"?ye:x.status==="dirty"||t.value==="dirty"?zs(x.value):x});{if(t.value==="aborted")return ye;const g=this._def.schema._parseSync({data:m,path:i.path,parent:i});return g.status==="aborted"?ye:g.status==="dirty"||t.value==="dirty"?zs(g.value):g}}if(l.type==="refinement"){const m=g=>{const x=l.refinement(g,o);if(i.common.async)return Promise.resolve(x);if(x instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return g};if(i.common.async===!1){const g=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return g.status==="aborted"?ye:(g.status==="dirty"&&t.dirty(),m(g.value),{status:t.value,value:g.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(g=>g.status==="aborted"?ye:(g.status==="dirty"&&t.dirty(),m(g.value).then(()=>({status:t.value,value:g.value}))))}if(l.type==="transform")if(i.common.async===!1){const m=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Mi(m))return ye;const g=l.transform(m.value,o);if(g instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:g}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(m=>Mi(m)?Promise.resolve(l.transform(m.value,o)).then(g=>({status:t.value,value:g})):ye);De.assertNever(l)}}Ii.create=(s,e,t)=>new Ii({schema:s,typeName:ge.ZodEffects,effect:e,...be(t)});Ii.createWithPreprocess=(s,e,t)=>new Ii({schema:e,effect:{type:"preprocess",transform:s},typeName:ge.ZodEffects,...be(t)});class oa extends Ee{_parse(e){return this._getType(e)===se.undefined?Zt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}oa.create=(s,e)=>new oa({innerType:s,typeName:ge.ZodOptional,...be(e)});class Ui extends Ee{_parse(e){return this._getType(e)===se.null?Zt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ui.create=(s,e)=>new Ui({innerType:s,typeName:ge.ZodNullable,...be(e)});class Cc extends Ee{_parse(e){const{ctx:t}=this._processInputParams(e);let i=t.data;return t.parsedType===se.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Cc.create=(s,e)=>new Cc({innerType:s,typeName:ge.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...be(e)});class Sc extends Ee{_parse(e){const{ctx:t}=this._processInputParams(e),i={...t,common:{...t.common,issues:[]}},l=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return Er(l)?l.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new In(i.common.issues)},input:i.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new In(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}Sc.create=(s,e)=>new Sc({innerType:s,typeName:ge.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...be(e)});class bp extends Ee{_parse(e){if(this._getType(e)!==se.nan){const i=this._getOrReturnCtx(e);return W(i,{code:$.invalid_type,expected:se.nan,received:i.parsedType}),ye}return{status:"valid",value:e.data}}}bp.create=s=>new bp({typeName:ge.ZodNaN,...be(s)});class MT extends Ee{_parse(e){const{ctx:t}=this._processInputParams(e),i=t.data;return this._def.type._parse({data:i,path:t.path,parent:t})}unwrap(){return this._def.type}}class Fc extends Ee{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?ye:o.status==="dirty"?(t.dirty(),zs(o.value)):this._def.out._parseAsync({data:o.value,path:i.path,parent:i})})();{const l=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?ye:l.status==="dirty"?(t.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:i.path,parent:i})}}static create(e,t){return new Fc({in:e,out:t,typeName:ge.ZodPipeline})}}class Nc extends Ee{_parse(e){const t=this._def.innerType._parse(e),i=l=>(Mi(l)&&(l.value=Object.freeze(l.value)),l);return Er(t)?t.then(l=>i(l)):i(t)}unwrap(){return this._def.innerType}}Nc.create=(s,e)=>new Nc({innerType:s,typeName:ge.ZodReadonly,...be(e)});var ge;(function(s){s.ZodString="ZodString",s.ZodNumber="ZodNumber",s.ZodNaN="ZodNaN",s.ZodBigInt="ZodBigInt",s.ZodBoolean="ZodBoolean",s.ZodDate="ZodDate",s.ZodSymbol="ZodSymbol",s.ZodUndefined="ZodUndefined",s.ZodNull="ZodNull",s.ZodAny="ZodAny",s.ZodUnknown="ZodUnknown",s.ZodNever="ZodNever",s.ZodVoid="ZodVoid",s.ZodArray="ZodArray",s.ZodObject="ZodObject",s.ZodUnion="ZodUnion",s.ZodDiscriminatedUnion="ZodDiscriminatedUnion",s.ZodIntersection="ZodIntersection",s.ZodTuple="ZodTuple",s.ZodRecord="ZodRecord",s.ZodMap="ZodMap",s.ZodSet="ZodSet",s.ZodFunction="ZodFunction",s.ZodLazy="ZodLazy",s.ZodLiteral="ZodLiteral",s.ZodEnum="ZodEnum",s.ZodEffects="ZodEffects",s.ZodNativeEnum="ZodNativeEnum",s.ZodOptional="ZodOptional",s.ZodNullable="ZodNullable",s.ZodDefault="ZodDefault",s.ZodCatch="ZodCatch",s.ZodPromise="ZodPromise",s.ZodBranded="ZodBranded",s.ZodPipeline="ZodPipeline",s.ZodReadonly="ZodReadonly"})(ge||(ge={}));const Ua=cn.create,Tp=ka.create;La.create;const RT=Ar.create;Ri.create;const _p=bc.create;ua.create;const Hs=dn.create,DT=tt.create,IT=wr.create;Mr.create;Pa.create;const UT=Rr.create,kT=_c.create,LT=Di.create;Dr.create;oa.create;Ui.create;const Ci={string:s=>cn.create({...s,coerce:!0}),number:s=>ka.create({...s,coerce:!0}),boolean:s=>Ar.create({...s,coerce:!0}),bigint:s=>La.create({...s,coerce:!0}),date:s=>Ri.create({...s,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let PT,jT;function VT(){return{geminiUrl:PT,vertexUrl:jT}}function OT(s,e,t){var i,l,o;if(!(!((i=s.httpOptions)===null||i===void 0)&&i.baseUrl)){const m=VT();return s.vertexai?(l=m.vertexUrl)!==null&&l!==void 0?l:e:(o=m.geminiUrl)!==null&&o!==void 0?o:t}return s.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ji{}function pe(s,e){const t=/\{([^}]+)\}/g;return s.replace(t,(i,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const o=e[l];return o!=null?String(o):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function d(s,e,t){for(let o=0;o<e.length-1;o++){const m=e[o];if(m.endsWith("[]")){const g=m.slice(0,-2);if(!(g in s))if(Array.isArray(t))s[g]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(s[g])){const x=s[g];if(Array.isArray(t))for(let p=0;p<x.length;p++){const v=x[p];d(v,e.slice(o+1),t[p])}else for(const p of x)d(p,e.slice(o+1),t)}return}else if(m.endsWith("[0]")){const g=m.slice(0,-3);g in s||(s[g]=[{}]);const x=s[g];d(x[0],e.slice(o+1),t);return}(!s[m]||typeof s[m]!="object")&&(s[m]={}),s=s[m]}const i=e[e.length-1],l=s[i];if(l!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===l)return;if(typeof l=="object"&&typeof t=="object"&&l!==null&&t!==null)Object.assign(l,t);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else s[i]=t}function c(s,e){try{if(e.length===1&&e[0]==="_self")return s;for(let t=0;t<e.length;t++){if(typeof s!="object"||s===null)return;const i=e[t];if(i.endsWith("[]")){const l=i.slice(0,-2);if(l in s){const o=s[l];return Array.isArray(o)?o.map(m=>c(m,e.slice(t+1))):void 0}else return}else s=s[i]}return s}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Cp;(function(s){s.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",s.OUTCOME_OK="OUTCOME_OK",s.OUTCOME_FAILED="OUTCOME_FAILED",s.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Cp||(Cp={}));var Sp;(function(s){s.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",s.PYTHON="PYTHON"})(Sp||(Sp={}));var Yt;(function(s){s.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",s.STRING="STRING",s.NUMBER="NUMBER",s.INTEGER="INTEGER",s.BOOLEAN="BOOLEAN",s.ARRAY="ARRAY",s.OBJECT="OBJECT",s.NULL="NULL"})(Yt||(Yt={}));var Np;(function(s){s.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",s.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",s.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",s.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",s.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",s.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Np||(Np={}));var Ep;(function(s){s.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",s.SEVERITY="SEVERITY",s.PROBABILITY="PROBABILITY"})(Ep||(Ep={}));var Ap;(function(s){s.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",s.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",s.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",s.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",s.BLOCK_NONE="BLOCK_NONE",s.OFF="OFF"})(Ap||(Ap={}));var wp;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.MODE_DYNAMIC="MODE_DYNAMIC"})(wp||(wp={}));var Mp;(function(s){s.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",s.NO_AUTH="NO_AUTH",s.API_KEY_AUTH="API_KEY_AUTH",s.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",s.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",s.OAUTH="OAUTH",s.OIDC_AUTH="OIDC_AUTH"})(Mp||(Mp={}));var Rp;(function(s){s.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",s.STOP="STOP",s.MAX_TOKENS="MAX_TOKENS",s.SAFETY="SAFETY",s.RECITATION="RECITATION",s.LANGUAGE="LANGUAGE",s.OTHER="OTHER",s.BLOCKLIST="BLOCKLIST",s.PROHIBITED_CONTENT="PROHIBITED_CONTENT",s.SPII="SPII",s.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",s.IMAGE_SAFETY="IMAGE_SAFETY",s.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Rp||(Rp={}));var Dp;(function(s){s.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",s.NEGLIGIBLE="NEGLIGIBLE",s.LOW="LOW",s.MEDIUM="MEDIUM",s.HIGH="HIGH"})(Dp||(Dp={}));var Ip;(function(s){s.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",s.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",s.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",s.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",s.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Ip||(Ip={}));var Up;(function(s){s.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",s.SAFETY="SAFETY",s.OTHER="OTHER",s.BLOCKLIST="BLOCKLIST",s.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Up||(Up={}));var kp;(function(s){s.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",s.ON_DEMAND="ON_DEMAND",s.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(kp||(kp={}));var Ir;(function(s){s.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",s.TEXT="TEXT",s.IMAGE="IMAGE",s.AUDIO="AUDIO"})(Ir||(Ir={}));var Lp;(function(s){s.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",s.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",s.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",s.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Lp||(Lp={}));var Ec;(function(s){s.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",s.JOB_STATE_QUEUED="JOB_STATE_QUEUED",s.JOB_STATE_PENDING="JOB_STATE_PENDING",s.JOB_STATE_RUNNING="JOB_STATE_RUNNING",s.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",s.JOB_STATE_FAILED="JOB_STATE_FAILED",s.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",s.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",s.JOB_STATE_PAUSED="JOB_STATE_PAUSED",s.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",s.JOB_STATE_UPDATING="JOB_STATE_UPDATING",s.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ec||(Ec={}));var Pp;(function(s){s.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",s.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",s.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",s.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",s.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",s.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",s.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Pp||(Pp={}));var jp;(function(s){s.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",s.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",s.BALANCED="BALANCED",s.PRIORITIZE_COST="PRIORITIZE_COST"})(jp||(jp={}));var Vp;(function(s){s.UNSPECIFIED="UNSPECIFIED",s.BLOCKING="BLOCKING",s.NON_BLOCKING="NON_BLOCKING"})(Vp||(Vp={}));var Op;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.MODE_DYNAMIC="MODE_DYNAMIC"})(Op||(Op={}));var Bp;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.AUTO="AUTO",s.ANY="ANY",s.NONE="NONE"})(Bp||(Bp={}));var qp;(function(s){s.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",s.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",s.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(qp||(qp={}));var Gp;(function(s){s.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",s.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",s.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",s.BLOCK_NONE="BLOCK_NONE"})(Gp||(Gp={}));var zp;(function(s){s.DONT_ALLOW="DONT_ALLOW",s.ALLOW_ADULT="ALLOW_ADULT",s.ALLOW_ALL="ALLOW_ALL"})(zp||(zp={}));var Hp;(function(s){s.auto="auto",s.en="en",s.ja="ja",s.ko="ko",s.hi="hi"})(Hp||(Hp={}));var Fp;(function(s){s.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",s.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",s.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",s.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",s.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Fp||(Fp={}));var Yp;(function(s){s.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",s.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",s.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",s.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Yp||(Yp={}));var $p;(function(s){s.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",s.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",s.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",s.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})($p||($p={}));var Zp;(function(s){s.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",s.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",s.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",s.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",s.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",s.EDIT_MODE_STYLE="EDIT_MODE_STYLE",s.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",s.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Zp||(Zp={}));var Kp;(function(s){s.STATE_UNSPECIFIED="STATE_UNSPECIFIED",s.PROCESSING="PROCESSING",s.ACTIVE="ACTIVE",s.FAILED="FAILED"})(Kp||(Kp={}));var Jp;(function(s){s.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",s.UPLOADED="UPLOADED",s.GENERATED="GENERATED"})(Jp||(Jp={}));var Xp;(function(s){s.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",s.TEXT="TEXT",s.IMAGE="IMAGE",s.VIDEO="VIDEO",s.AUDIO="AUDIO",s.DOCUMENT="DOCUMENT"})(Xp||(Xp={}));var Qp;(function(s){s.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",s.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",s.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Qp||(Qp={}));var Wp;(function(s){s.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",s.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",s.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Wp||(Wp={}));var eg;(function(s){s.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",s.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",s.NO_INTERRUPTION="NO_INTERRUPTION"})(eg||(eg={}));var tg;(function(s){s.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",s.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",s.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(tg||(tg={}));var ng;(function(s){s.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",s.SILENT="SILENT",s.WHEN_IDLE="WHEN_IDLE",s.INTERRUPT="INTERRUPT"})(ng||(ng={}));var ag;(function(s){s.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",s.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",s.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",s.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",s.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",s.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",s.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",s.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",s.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",s.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",s.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",s.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",s.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ag||(ag={}));var Ni;(function(s){s.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",s.PLAY="PLAY",s.PAUSE="PAUSE",s.STOP="STOP",s.RESET_CONTEXT="RESET_CONTEXT"})(Ni||(Ni={}));class qs{get text(){var e,t,i,l,o,m,g,x;if(((l=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",v=!1;const _=[];for(const b of(x=(g=(m=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&x!==void 0?x:[]){for(const[S,N]of Object.entries(b))S!=="text"&&S!=="thought"&&(N!==null||N!==void 0)&&_.push(S);if(typeof b.text=="string"){if(typeof b.thought=="boolean"&&b.thought)continue;v=!0,p+=b.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?p:void 0}get data(){var e,t,i,l,o,m,g,x;if(((l=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const v=[];for(const _ of(x=(g=(m=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&x!==void 0?x:[]){for(const[b,S]of Object.entries(_))b!=="inlineData"&&(S!==null||S!==void 0)&&v.push(b);_.inlineData&&typeof _.inlineData.data=="string"&&(p+=atob(_.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,t,i,l,o,m,g,x;if(((l=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(x=(g=(m=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||x===void 0?void 0:x.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,t,i,l,o,m,g,x,p;if(((l=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(x=(g=(m=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||x===void 0?void 0:x.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,t,i,l,o,m,g,x,p;if(((l=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(x=(g=(m=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||x===void 0?void 0:x.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.output}}class ig{}class sg{}class BT{}class qT{}class lg{}class rg{}class og{}class GT{}class ug{}class cg{}class dg{}class zT{}class Ac{constructor(e){const t={};for(const i of e.headers.entries())t[i[0]]=i[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class HT{}class FT{}class YT{get text(){var e,t,i;let l="",o=!1;const m=[];for(const g of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[x,p]of Object.entries(g))x!=="text"&&x!=="thought"&&p!==null&&m.push(x);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;o=!0,l+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?l:void 0}get data(){var e,t,i;let l="";const o=[];for(const m of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[g,x]of Object.entries(m))g!=="inlineData"&&x!==null&&o.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(l+=atob(m.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class $T{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ze(s,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(s.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function uy(s,e){const t=ze(s,e);return t?t.startsWith("publishers/")&&s.isVertexAI()?`projects/${s.getProject()}/locations/${s.getLocation()}/${t}`:t.startsWith("models/")&&s.isVertexAI()?`projects/${s.getProject()}/locations/${s.getLocation()}/publishers/google/${t}`:t:""}function cy(s,e){return Array.isArray(e)?e.map(t=>Ur(s,t)):[Ur(s,e)]}function Ur(s,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function ZT(s,e){const t=Ur(s,e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function KT(s,e){const t=Ur(s,e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function fg(s,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function dy(s,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>fg(s,t)):[fg(s,e)]}function wc(s){return s!=null&&typeof s=="object"&&"parts"in s&&Array.isArray(s.parts)}function mg(s){return s!=null&&typeof s=="object"&&"functionCall"in s}function hg(s){return s!=null&&typeof s=="object"&&"functionResponse"in s}function yt(s,e){if(e==null)throw new Error("ContentUnion is required");return wc(e)?e:{role:"user",parts:dy(s,e)}}function fy(s,e){if(!e)return[];if(s.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const i=yt(s,t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(s.isVertexAI()){const t=yt(s,e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>yt(s,t)):[yt(s,e)]}function en(s,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(mg(e)||hg(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[yt(s,e)]}const t=[],i=[],l=wc(e[0]);for(const o of e){const m=wc(o);if(m!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(m)t.push(o);else{if(mg(o)||hg(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(o)}}return l||t.push({role:"user",parts:dy(s,i)}),t}const JT=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),pg=LT(["string","number","integer","object","array","boolean","null"]),XT=IT([pg,Hs(pg)]);function QT(s=!0){const e=kT(()=>{const t=DT({type:XT.optional(),format:Ua().optional(),title:Ua().optional(),description:Ua().optional(),default:_p().optional(),items:e.optional(),minItems:Ci.string().optional(),maxItems:Ci.string().optional(),enum:Hs(_p()).optional(),properties:UT(Ua(),e).optional(),required:Hs(Ua()).optional(),minProperties:Ci.string().optional(),maxProperties:Ci.string().optional(),propertyOrdering:Hs(Ua()).optional(),minimum:Tp().optional(),maximum:Tp().optional(),minLength:Ci.string().optional(),maxLength:Ci.string().optional(),pattern:Ua().optional(),anyOf:Hs(e).optional(),additionalProperties:RT().optional()});return s?t.strict():t});return e}function WT(s,e){s.includes("null")&&(e.nullable=!0);const t=s.filter(i=>i!=="null");if(t.length===1)e.type=Object.keys(Yt).includes(t[0].toUpperCase())?Yt[t[0].toUpperCase()]:Yt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of t)e.anyOf.push({type:Object.keys(Yt).includes(i.toUpperCase())?Yt[i.toUpperCase()]:Yt.TYPE_UNSPECIFIED})}}function Ai(s){const e={},t=["items"],i=["anyOf"],l=["properties"];if(s.type&&s.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=s.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,s=o[1]):o[1].type==="null"&&(e.nullable=!0,s=o[0])),s.type instanceof Array&&WT(s.type,e);for(const[m,g]of Object.entries(s))if(g!=null)if(m=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;e.type=Object.keys(Yt).includes(g.toUpperCase())?g.toUpperCase():Yt.TYPE_UNSPECIFIED}else if(t.includes(m))e[m]=Ai(g);else if(i.includes(m)){const x=[];for(const p of g){if(p.type=="null"){e.nullable=!0;continue}x.push(Ai(p))}e[m]=x}else if(l.includes(m)){const x={};for(const[p,v]of Object.entries(g))x[p]=Ai(v);e[m]=x}else{if(m==="additionalProperties")continue;e[m]=g}return e}function kr(s,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const t=QT().parse(e);return Ai(t)}else return Ai(e)}function my(s,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Yc(s,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Ws(s,e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(t.parameters=kr(s,t.parameters)),t.response&&(t.response=kr(s,t.response));return e}function el(s,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const i of e)t.push(i);return t}function e_(s,e,t,i=1){const l=!e.startsWith(`${t}/`)&&e.split("/").length===i;return s.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${s.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${s.getProject()}/locations/${s.getLocation()}/${e}`:l?`projects/${s.getProject()}/locations/${s.getLocation()}/${t}/${e}`:e:l?`${t}/${e}`:e}function fa(s,e){if(typeof e!="string")throw new Error("name must be a string");return e_(s,e,"cachedContents")}function hy(s,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function ma(s,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function t_(s){return s!=null&&typeof s=="object"&&"name"in s}function n_(s){return s!=null&&typeof s=="object"&&"video"in s}function a_(s){return s!=null&&typeof s=="object"&&"uri"in s}function py(s,e){var t;let i;if(t_(e)&&(i=e.name),!(a_(e)&&(i=e.uri,i===void 0))&&!(n_(e)&&(i=(t=e.video)===null||t===void 0?void 0:t.uri,i===void 0))){if(typeof e=="string"&&(i=e),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const o=i.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${i}`);i=o[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function gy(s,e){let t;return s.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function yy(s,e){for(const t of["models","tunedModels","publisherModels"])if(i_(e,t))return e[t];return[]}function i_(s,e){return s!==null&&typeof s=="object"&&e in s}function s_(s,e={}){const t=s,i={name:t.name,description:t.description,parameters:Ai(jr(t.inputSchema))};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function l_(s,e={}){const t=[],i=new Set;for(const l of s){const o=l.name;if(i.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);i.add(o);const m=s_(l,e);m.functionDeclarations&&t.push(...m.functionDeclarations)}return{functionDeclarations:t}}function r_(s){const e=[];for(const t of s)e.push(jr(t));return e}function o_(s){const e={};for(const[t,i]of Object.entries(s)){const l=i;e[t]=jr(l)}return e}function jr(s){const e=new Set(["items"]),t=new Set(["anyOf"]),i=new Set(["properties"]),l={};for(const[o,m]of Object.entries(s))if(e.has(o))l[o]=jr(m);else if(t.has(o))l[o]=r_(m);else if(i.has(o))l[o]=o_(m);else if(o==="type"){const g=m.toUpperCase();l[o]=Object.keys(Yt).includes(g)?g:Yt.TYPE_UNSPECIFIED}else JT.has(o)&&(l[o]=m);return l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function u_(s,e){const t={},i=c(e,["fps"]);i!=null&&d(t,["fps"],i);const l=c(e,["endOffset"]);l!=null&&d(t,["endOffset"],l);const o=c(e,["startOffset"]);return o!=null&&d(t,["startOffset"],o),t}function c_(s,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(e,["data"]);i!=null&&d(t,["data"],i);const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function d_(s,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(e,["fileUri"]);i!=null&&d(t,["fileUri"],i);const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function f_(s,e){const t={},i=c(e,["videoMetadata"]);i!=null&&d(t,["videoMetadata"],u_(s,i));const l=c(e,["thought"]);l!=null&&d(t,["thought"],l);const o=c(e,["inlineData"]);o!=null&&d(t,["inlineData"],c_(s,o));const m=c(e,["fileData"]);m!=null&&d(t,["fileData"],d_(s,m));const g=c(e,["thoughtSignature"]);g!=null&&d(t,["thoughtSignature"],g);const x=c(e,["codeExecutionResult"]);x!=null&&d(t,["codeExecutionResult"],x);const p=c(e,["executableCode"]);p!=null&&d(t,["executableCode"],p);const v=c(e,["functionCall"]);v!=null&&d(t,["functionCall"],v);const _=c(e,["functionResponse"]);_!=null&&d(t,["functionResponse"],_);const b=c(e,["text"]);return b!=null&&d(t,["text"],b),t}function gg(s,e){const t={},i=c(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(m=>f_(s,m))),d(t,["parts"],o)}const l=c(e,["role"]);return l!=null&&d(t,["role"],l),t}function m_(s,e){const t={},i=c(e,["behavior"]);i!=null&&d(t,["behavior"],i);const l=c(e,["description"]);l!=null&&d(t,["description"],l);const o=c(e,["name"]);o!=null&&d(t,["name"],o);const m=c(e,["parameters"]);m!=null&&d(t,["parameters"],m);const g=c(e,["response"]);return g!=null&&d(t,["response"],g),t}function h_(s,e){const t={},i=c(e,["startTime"]);i!=null&&d(t,["startTime"],i);const l=c(e,["endTime"]);return l!=null&&d(t,["endTime"],l),t}function p_(s,e){const t={},i=c(e,["timeRangeFilter"]);return i!=null&&d(t,["timeRangeFilter"],h_(s,i)),t}function g_(s,e){const t={},i=c(e,["mode"]);i!=null&&d(t,["mode"],i);const l=c(e,["dynamicThreshold"]);return l!=null&&d(t,["dynamicThreshold"],l),t}function y_(s,e){const t={},i=c(e,["dynamicRetrievalConfig"]);return i!=null&&d(t,["dynamicRetrievalConfig"],g_(s,i)),t}function x_(){return{}}function v_(s,e){const t={},i=c(e,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(p=>m_(s,p))),d(t,["functionDeclarations"],x)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(e,["googleSearch"]);l!=null&&d(t,["googleSearch"],p_(s,l));const o=c(e,["googleSearchRetrieval"]);if(o!=null&&d(t,["googleSearchRetrieval"],y_(s,o)),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(e,["urlContext"])!=null&&d(t,["urlContext"],x_());const g=c(e,["codeExecution"]);return g!=null&&d(t,["codeExecution"],g),t}function b_(s,e){const t={},i=c(e,["mode"]);i!=null&&d(t,["mode"],i);const l=c(e,["allowedFunctionNames"]);return l!=null&&d(t,["allowedFunctionNames"],l),t}function T_(s,e){const t={},i=c(e,["latitude"]);i!=null&&d(t,["latitude"],i);const l=c(e,["longitude"]);return l!=null&&d(t,["longitude"],l),t}function __(s,e){const t={},i=c(e,["latLng"]);i!=null&&d(t,["latLng"],T_(s,i));const l=c(e,["languageCode"]);return l!=null&&d(t,["languageCode"],l),t}function C_(s,e){const t={},i=c(e,["functionCallingConfig"]);i!=null&&d(t,["functionCallingConfig"],b_(s,i));const l=c(e,["retrievalConfig"]);return l!=null&&d(t,["retrievalConfig"],__(s,l)),t}function S_(s,e,t){const i={},l=c(e,["ttl"]);t!==void 0&&l!=null&&d(t,["ttl"],l);const o=c(e,["expireTime"]);t!==void 0&&o!=null&&d(t,["expireTime"],o);const m=c(e,["displayName"]);t!==void 0&&m!=null&&d(t,["displayName"],m);const g=c(e,["contents"]);if(t!==void 0&&g!=null){let _=en(s,g);Array.isArray(_)&&(_=_.map(b=>gg(s,b))),d(t,["contents"],_)}const x=c(e,["systemInstruction"]);t!==void 0&&x!=null&&d(t,["systemInstruction"],gg(s,yt(s,x)));const p=c(e,["tools"]);if(t!==void 0&&p!=null){let _=p;Array.isArray(_)&&(_=_.map(b=>v_(s,b))),d(t,["tools"],_)}const v=c(e,["toolConfig"]);if(t!==void 0&&v!=null&&d(t,["toolConfig"],C_(s,v)),c(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function N_(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["model"],uy(s,i));const l=c(e,["config"]);return l!=null&&d(t,["config"],S_(s,l,t)),t}function E_(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["_url","name"],fa(s,i));const l=c(e,["config"]);return l!=null&&d(t,["config"],l),t}function A_(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["_url","name"],fa(s,i));const l=c(e,["config"]);return l!=null&&d(t,["config"],l),t}function w_(s,e,t){const i={},l=c(e,["ttl"]);t!==void 0&&l!=null&&d(t,["ttl"],l);const o=c(e,["expireTime"]);return t!==void 0&&o!=null&&d(t,["expireTime"],o),i}function M_(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["_url","name"],fa(s,i));const l=c(e,["config"]);return l!=null&&d(t,["config"],w_(s,l,t)),t}function R_(s,e,t){const i={},l=c(e,["pageSize"]);t!==void 0&&l!=null&&d(t,["_query","pageSize"],l);const o=c(e,["pageToken"]);return t!==void 0&&o!=null&&d(t,["_query","pageToken"],o),i}function D_(s,e){const t={},i=c(e,["config"]);return i!=null&&d(t,["config"],R_(s,i,t)),t}function I_(s,e){const t={},i=c(e,["fps"]);i!=null&&d(t,["fps"],i);const l=c(e,["endOffset"]);l!=null&&d(t,["endOffset"],l);const o=c(e,["startOffset"]);return o!=null&&d(t,["startOffset"],o),t}function U_(s,e){const t={},i=c(e,["displayName"]);i!=null&&d(t,["displayName"],i);const l=c(e,["data"]);l!=null&&d(t,["data"],l);const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function k_(s,e){const t={},i=c(e,["displayName"]);i!=null&&d(t,["displayName"],i);const l=c(e,["fileUri"]);l!=null&&d(t,["fileUri"],l);const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function L_(s,e){const t={},i=c(e,["videoMetadata"]);i!=null&&d(t,["videoMetadata"],I_(s,i));const l=c(e,["thought"]);l!=null&&d(t,["thought"],l);const o=c(e,["inlineData"]);o!=null&&d(t,["inlineData"],U_(s,o));const m=c(e,["fileData"]);m!=null&&d(t,["fileData"],k_(s,m));const g=c(e,["thoughtSignature"]);g!=null&&d(t,["thoughtSignature"],g);const x=c(e,["codeExecutionResult"]);x!=null&&d(t,["codeExecutionResult"],x);const p=c(e,["executableCode"]);p!=null&&d(t,["executableCode"],p);const v=c(e,["functionCall"]);v!=null&&d(t,["functionCall"],v);const _=c(e,["functionResponse"]);_!=null&&d(t,["functionResponse"],_);const b=c(e,["text"]);return b!=null&&d(t,["text"],b),t}function yg(s,e){const t={},i=c(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(m=>L_(s,m))),d(t,["parts"],o)}const l=c(e,["role"]);return l!=null&&d(t,["role"],l),t}function P_(s,e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=c(e,["description"]);i!=null&&d(t,["description"],i);const l=c(e,["name"]);l!=null&&d(t,["name"],l);const o=c(e,["parameters"]);o!=null&&d(t,["parameters"],o);const m=c(e,["response"]);return m!=null&&d(t,["response"],m),t}function j_(s,e){const t={},i=c(e,["startTime"]);i!=null&&d(t,["startTime"],i);const l=c(e,["endTime"]);return l!=null&&d(t,["endTime"],l),t}function V_(s,e){const t={},i=c(e,["timeRangeFilter"]);return i!=null&&d(t,["timeRangeFilter"],j_(s,i)),t}function O_(s,e){const t={},i=c(e,["mode"]);i!=null&&d(t,["mode"],i);const l=c(e,["dynamicThreshold"]);return l!=null&&d(t,["dynamicThreshold"],l),t}function B_(s,e){const t={},i=c(e,["dynamicRetrievalConfig"]);return i!=null&&d(t,["dynamicRetrievalConfig"],O_(s,i)),t}function q_(){return{}}function G_(s,e){const t={},i=c(e,["apiKeyString"]);return i!=null&&d(t,["apiKeyString"],i),t}function z_(s,e){const t={},i=c(e,["apiKeyConfig"]);i!=null&&d(t,["apiKeyConfig"],G_(s,i));const l=c(e,["authType"]);l!=null&&d(t,["authType"],l);const o=c(e,["googleServiceAccountConfig"]);o!=null&&d(t,["googleServiceAccountConfig"],o);const m=c(e,["httpBasicAuthConfig"]);m!=null&&d(t,["httpBasicAuthConfig"],m);const g=c(e,["oauthConfig"]);g!=null&&d(t,["oauthConfig"],g);const x=c(e,["oidcConfig"]);return x!=null&&d(t,["oidcConfig"],x),t}function H_(s,e){const t={},i=c(e,["authConfig"]);return i!=null&&d(t,["authConfig"],z_(s,i)),t}function F_(s,e){const t={},i=c(e,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(_=>P_(s,_))),d(t,["functionDeclarations"],v)}const l=c(e,["retrieval"]);l!=null&&d(t,["retrieval"],l);const o=c(e,["googleSearch"]);o!=null&&d(t,["googleSearch"],V_(s,o));const m=c(e,["googleSearchRetrieval"]);m!=null&&d(t,["googleSearchRetrieval"],B_(s,m)),c(e,["enterpriseWebSearch"])!=null&&d(t,["enterpriseWebSearch"],q_());const x=c(e,["googleMaps"]);if(x!=null&&d(t,["googleMaps"],H_(s,x)),c(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const p=c(e,["codeExecution"]);return p!=null&&d(t,["codeExecution"],p),t}function Y_(s,e){const t={},i=c(e,["mode"]);i!=null&&d(t,["mode"],i);const l=c(e,["allowedFunctionNames"]);return l!=null&&d(t,["allowedFunctionNames"],l),t}function $_(s,e){const t={},i=c(e,["latitude"]);i!=null&&d(t,["latitude"],i);const l=c(e,["longitude"]);return l!=null&&d(t,["longitude"],l),t}function Z_(s,e){const t={},i=c(e,["latLng"]);i!=null&&d(t,["latLng"],$_(s,i));const l=c(e,["languageCode"]);return l!=null&&d(t,["languageCode"],l),t}function K_(s,e){const t={},i=c(e,["functionCallingConfig"]);i!=null&&d(t,["functionCallingConfig"],Y_(s,i));const l=c(e,["retrievalConfig"]);return l!=null&&d(t,["retrievalConfig"],Z_(s,l)),t}function J_(s,e,t){const i={},l=c(e,["ttl"]);t!==void 0&&l!=null&&d(t,["ttl"],l);const o=c(e,["expireTime"]);t!==void 0&&o!=null&&d(t,["expireTime"],o);const m=c(e,["displayName"]);t!==void 0&&m!=null&&d(t,["displayName"],m);const g=c(e,["contents"]);if(t!==void 0&&g!=null){let b=en(s,g);Array.isArray(b)&&(b=b.map(S=>yg(s,S))),d(t,["contents"],b)}const x=c(e,["systemInstruction"]);t!==void 0&&x!=null&&d(t,["systemInstruction"],yg(s,yt(s,x)));const p=c(e,["tools"]);if(t!==void 0&&p!=null){let b=p;Array.isArray(b)&&(b=b.map(S=>F_(s,S))),d(t,["tools"],b)}const v=c(e,["toolConfig"]);t!==void 0&&v!=null&&d(t,["toolConfig"],K_(s,v));const _=c(e,["kmsKeyName"]);return t!==void 0&&_!=null&&d(t,["encryption_spec","kmsKeyName"],_),i}function X_(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["model"],uy(s,i));const l=c(e,["config"]);return l!=null&&d(t,["config"],J_(s,l,t)),t}function Q_(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["_url","name"],fa(s,i));const l=c(e,["config"]);return l!=null&&d(t,["config"],l),t}function W_(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["_url","name"],fa(s,i));const l=c(e,["config"]);return l!=null&&d(t,["config"],l),t}function eC(s,e,t){const i={},l=c(e,["ttl"]);t!==void 0&&l!=null&&d(t,["ttl"],l);const o=c(e,["expireTime"]);return t!==void 0&&o!=null&&d(t,["expireTime"],o),i}function tC(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["_url","name"],fa(s,i));const l=c(e,["config"]);return l!=null&&d(t,["config"],eC(s,l,t)),t}function nC(s,e,t){const i={},l=c(e,["pageSize"]);t!==void 0&&l!=null&&d(t,["_query","pageSize"],l);const o=c(e,["pageToken"]);return t!==void 0&&o!=null&&d(t,["_query","pageToken"],o),i}function aC(s,e){const t={},i=c(e,["config"]);return i!=null&&d(t,["config"],nC(s,i,t)),t}function Tr(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const l=c(e,["displayName"]);l!=null&&d(t,["displayName"],l);const o=c(e,["model"]);o!=null&&d(t,["model"],o);const m=c(e,["createTime"]);m!=null&&d(t,["createTime"],m);const g=c(e,["updateTime"]);g!=null&&d(t,["updateTime"],g);const x=c(e,["expireTime"]);x!=null&&d(t,["expireTime"],x);const p=c(e,["usageMetadata"]);return p!=null&&d(t,["usageMetadata"],p),t}function iC(){return{}}function sC(s,e){const t={},i=c(e,["nextPageToken"]);i!=null&&d(t,["nextPageToken"],i);const l=c(e,["cachedContents"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(m=>Tr(s,m))),d(t,["cachedContents"],o)}return t}function _r(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const l=c(e,["displayName"]);l!=null&&d(t,["displayName"],l);const o=c(e,["model"]);o!=null&&d(t,["model"],o);const m=c(e,["createTime"]);m!=null&&d(t,["createTime"],m);const g=c(e,["updateTime"]);g!=null&&d(t,["updateTime"],g);const x=c(e,["expireTime"]);x!=null&&d(t,["expireTime"],x);const p=c(e,["usageMetadata"]);return p!=null&&d(t,["usageMetadata"],p),t}function lC(){return{}}function rC(s,e){const t={},i=c(e,["nextPageToken"]);i!=null&&d(t,["nextPageToken"],i);const l=c(e,["cachedContents"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(m=>_r(s,m))),d(t,["cachedContents"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ki;(function(s){s.PAGED_ITEM_BATCH_JOBS="batchJobs",s.PAGED_ITEM_MODELS="models",s.PAGED_ITEM_TUNING_JOBS="tuningJobs",s.PAGED_ITEM_FILES="files",s.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(ki||(ki={}));class Vr{constructor(e,t,i,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,i,l)}init(e,t,i){var l,o;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let m={config:{}};i?typeof i=="object"?m=Object.assign({},i):m=i:m={config:{}},m.config&&(m.config.pageToken=t.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(o=(l=m.config)===null||l===void 0?void 0:l.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oC extends ji{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Vr(ki.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(t),t)}async create(e){var t,i,l,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=X_(this.apiClient,e);return g=pe("cachedContents",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),m.then(v=>_r(this.apiClient,v))}else{const p=N_(this.apiClient,e);return g=pe("cachedContents",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>Tr(this.apiClient,v))}}async get(e){var t,i,l,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=Q_(this.apiClient,e);return g=pe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),m.then(v=>_r(this.apiClient,v))}else{const p=E_(this.apiClient,e);return g=pe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>Tr(this.apiClient,v))}}async delete(e){var t,i,l,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=W_(this.apiClient,e);return g=pe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),m.then(()=>{const v=lC(),_=new cg;return Object.assign(_,v),_})}else{const p=A_(this.apiClient,e);return g=pe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(()=>{const v=iC(),_=new cg;return Object.assign(_,v),_})}}async update(e){var t,i,l,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=tC(this.apiClient,e);return g=pe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),m.then(v=>_r(this.apiClient,v))}else{const p=M_(this.apiClient,e);return g=pe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>Tr(this.apiClient,v))}}async listInternal(e){var t,i,l,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=aC(this.apiClient,e);return g=pe("cachedContents",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),m.then(v=>{const _=rC(this.apiClient,v),b=new dg;return Object.assign(b,_),b})}else{const p=D_(this.apiClient,e);return g=pe("cachedContents",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>{const _=sC(this.apiClient,v),b=new dg;return Object.assign(b,_),b})}}}function xg(s){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&s[e],i=0;if(t)return t.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&i>=s.length&&(s=void 0),{value:s&&s[i++],done:!s}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function He(s){return this instanceof He?(this.v=s,this):new He(s)}function wi(s,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(s,e||[]),l,o=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",m),l[Symbol.asyncIterator]=function(){return this},l;function m(S){return function(N){return Promise.resolve(N).then(S,_)}}function g(S,N){i[S]&&(l[S]=function(E){return new Promise(function(D,I){o.push([S,E,D,I])>1||x(S,E)})},N&&(l[S]=N(l[S])))}function x(S,N){try{p(i[S](N))}catch(E){b(o[0][3],E)}}function p(S){S.value instanceof He?Promise.resolve(S.value.v).then(v,_):b(o[0][2],S)}function v(S){x("next",S)}function _(S){x("throw",S)}function b(S,N){S(N),o.shift(),o.length&&x(o[0][0],o[0][1])}}function Ys(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=s[Symbol.asyncIterator],t;return e?e.call(s):(s=typeof xg=="function"?xg(s):s[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=s[o]&&function(m){return new Promise(function(g,x){m=s[o](m),l(g,x,m.done,m.value)})}}function l(o,m,g,x){Promise.resolve(x).then(function(p){o({value:p,done:g})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uC(s){var e;if(s.candidates==null||s.candidates.length===0)return!1;const t=(e=s.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:xy(t)}function xy(s){if(s.parts===void 0||s.parts.length===0)return!1;for(const e of s.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function cC(s){if(s.length!==0){for(const e of s)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function vg(s){if(s===void 0||s.length===0)return[];const e=[],t=s.length;let i=0;for(;i<t;)if(s[i].role==="user")e.push(s[i]),i++;else{const l=[];let o=!0;for(;i<t&&s[i].role==="model";)l.push(s[i]),o&&!xy(s[i])&&(o=!1),i++;o?e.push(...l):e.pop()}return e}class dC{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new fC(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class fC{constructor(e,t,i,l={},o=[]){this.apiClient=e,this.modelsModule=t,this.model=i,this.config=l,this.history=o,this.sendPromise=Promise.resolve(),cC(o)}async sendMessage(e){var t;await this.sendPromise;const i=yt(this.apiClient,e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var o,m,g;const x=await l,p=(m=(o=x.candidates)===null||o===void 0?void 0:o[0])===null||m===void 0?void 0:m.content,v=x.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let b=[];v!=null&&(b=(g=v.slice(_))!==null&&g!==void 0?g:[]);const S=p?[p]:[];this.recordHistory(i,S,b)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var t;await this.sendPromise;const i=yt(this.apiClient,e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const o=await l;return this.processStreamResponse(o,i)}getHistory(e=!1){const t=e?vg(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var i,l;return wi(this,arguments,function*(){var m,g,x,p;const v=[];try{for(var _=!0,b=Ys(e),S;S=yield He(b.next()),m=S.done,!m;_=!0){p=S.value,_=!1;const N=p;if(uC(N)){const E=(l=(i=N.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content;E!==void 0&&v.push(E)}yield yield He(N)}}catch(N){g={error:N}}finally{try{!_&&!m&&(x=b.return)&&(yield He(x.call(b)))}finally{if(g)throw g.error}}this.recordHistory(t,v)})}recordHistory(e,t,i){let l=[];t.length>0&&t.every(o=>o.role!==void 0)?l=t:l.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...vg(i)):this.history.push(e),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mC(s,e,t){const i={},l=c(e,["pageSize"]);t!==void 0&&l!=null&&d(t,["_query","pageSize"],l);const o=c(e,["pageToken"]);return t!==void 0&&o!=null&&d(t,["_query","pageToken"],o),i}function hC(s,e){const t={},i=c(e,["config"]);return i!=null&&d(t,["config"],mC(s,i,t)),t}function pC(s,e){const t={},i=c(e,["details"]);i!=null&&d(t,["details"],i);const l=c(e,["message"]);l!=null&&d(t,["message"],l);const o=c(e,["code"]);return o!=null&&d(t,["code"],o),t}function gC(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const l=c(e,["displayName"]);l!=null&&d(t,["displayName"],l);const o=c(e,["mimeType"]);o!=null&&d(t,["mimeType"],o);const m=c(e,["sizeBytes"]);m!=null&&d(t,["sizeBytes"],m);const g=c(e,["createTime"]);g!=null&&d(t,["createTime"],g);const x=c(e,["expirationTime"]);x!=null&&d(t,["expirationTime"],x);const p=c(e,["updateTime"]);p!=null&&d(t,["updateTime"],p);const v=c(e,["sha256Hash"]);v!=null&&d(t,["sha256Hash"],v);const _=c(e,["uri"]);_!=null&&d(t,["uri"],_);const b=c(e,["downloadUri"]);b!=null&&d(t,["downloadUri"],b);const S=c(e,["state"]);S!=null&&d(t,["state"],S);const N=c(e,["source"]);N!=null&&d(t,["source"],N);const E=c(e,["videoMetadata"]);E!=null&&d(t,["videoMetadata"],E);const D=c(e,["error"]);return D!=null&&d(t,["error"],pC(s,D)),t}function yC(s,e){const t={},i=c(e,["file"]);i!=null&&d(t,["file"],gC(s,i));const l=c(e,["config"]);return l!=null&&d(t,["config"],l),t}function xC(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["_url","file"],py(s,i));const l=c(e,["config"]);return l!=null&&d(t,["config"],l),t}function vC(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["_url","file"],py(s,i));const l=c(e,["config"]);return l!=null&&d(t,["config"],l),t}function bC(s,e){const t={},i=c(e,["details"]);i!=null&&d(t,["details"],i);const l=c(e,["message"]);l!=null&&d(t,["message"],l);const o=c(e,["code"]);return o!=null&&d(t,["code"],o),t}function Mc(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const l=c(e,["displayName"]);l!=null&&d(t,["displayName"],l);const o=c(e,["mimeType"]);o!=null&&d(t,["mimeType"],o);const m=c(e,["sizeBytes"]);m!=null&&d(t,["sizeBytes"],m);const g=c(e,["createTime"]);g!=null&&d(t,["createTime"],g);const x=c(e,["expirationTime"]);x!=null&&d(t,["expirationTime"],x);const p=c(e,["updateTime"]);p!=null&&d(t,["updateTime"],p);const v=c(e,["sha256Hash"]);v!=null&&d(t,["sha256Hash"],v);const _=c(e,["uri"]);_!=null&&d(t,["uri"],_);const b=c(e,["downloadUri"]);b!=null&&d(t,["downloadUri"],b);const S=c(e,["state"]);S!=null&&d(t,["state"],S);const N=c(e,["source"]);N!=null&&d(t,["source"],N);const E=c(e,["videoMetadata"]);E!=null&&d(t,["videoMetadata"],E);const D=c(e,["error"]);return D!=null&&d(t,["error"],bC(s,D)),t}function TC(s,e){const t={},i=c(e,["nextPageToken"]);i!=null&&d(t,["nextPageToken"],i);const l=c(e,["files"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(m=>Mc(s,m))),d(t,["files"],o)}return t}function _C(){return{}}function CC(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SC extends ji{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Vr(ki.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>Mc(this.apiClient,t))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,i;let l,o="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=hC(this.apiClient,e);return o=pe("files",g._url),m=g._query,delete g.config,delete g._url,delete g._query,l=this.apiClient.request({path:o,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),l.then(x=>{const p=TC(this.apiClient,x),v=new zT;return Object.assign(v,p),v})}}async createInternal(e){var t,i;let l,o="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=yC(this.apiClient,e);return o=pe("upload/v1beta/files",g._url),m=g._query,delete g.config,delete g._url,delete g._query,l=this.apiClient.request({path:o,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),l.then(()=>{const x=_C(),p=new HT;return Object.assign(p,x),p})}}async get(e){var t,i;let l,o="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=xC(this.apiClient,e);return o=pe("files/{file}",g._url),m=g._query,delete g.config,delete g._url,delete g._query,l=this.apiClient.request({path:o,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),l.then(x=>Mc(this.apiClient,x))}}async delete(e){var t,i;let l,o="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=vC(this.apiClient,e);return o=pe("files/{file}",g._url),m=g._query,delete g.config,delete g._url,delete g._query,l=this.apiClient.request({path:o,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),l.then(()=>{const x=CC(),p=new FT;return Object.assign(p,x),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NC(s,e){const t={},i=c(e,["voiceName"]);return i!=null&&d(t,["voiceName"],i),t}function EC(s,e){const t={},i=c(e,["voiceName"]);return i!=null&&d(t,["voiceName"],i),t}function vy(s,e){const t={},i=c(e,["prebuiltVoiceConfig"]);return i!=null&&d(t,["prebuiltVoiceConfig"],NC(s,i)),t}function AC(s,e){const t={},i=c(e,["prebuiltVoiceConfig"]);return i!=null&&d(t,["prebuiltVoiceConfig"],EC(s,i)),t}function wC(s,e){const t={},i=c(e,["speaker"]);i!=null&&d(t,["speaker"],i);const l=c(e,["voiceConfig"]);return l!=null&&d(t,["voiceConfig"],vy(s,l)),t}function MC(s,e){const t={},i=c(e,["speakerVoiceConfigs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>wC(s,o))),d(t,["speakerVoiceConfigs"],l)}return t}function RC(s,e){const t={},i=c(e,["voiceConfig"]);i!=null&&d(t,["voiceConfig"],vy(s,i));const l=c(e,["multiSpeakerVoiceConfig"]);l!=null&&d(t,["multiSpeakerVoiceConfig"],MC(s,l));const o=c(e,["languageCode"]);return o!=null&&d(t,["languageCode"],o),t}function DC(s,e){const t={},i=c(e,["voiceConfig"]);if(i!=null&&d(t,["voiceConfig"],AC(s,i)),c(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=c(e,["languageCode"]);return l!=null&&d(t,["languageCode"],l),t}function IC(s,e){const t={},i=c(e,["fps"]);i!=null&&d(t,["fps"],i);const l=c(e,["endOffset"]);l!=null&&d(t,["endOffset"],l);const o=c(e,["startOffset"]);return o!=null&&d(t,["startOffset"],o),t}function UC(s,e){const t={},i=c(e,["fps"]);i!=null&&d(t,["fps"],i);const l=c(e,["endOffset"]);l!=null&&d(t,["endOffset"],l);const o=c(e,["startOffset"]);return o!=null&&d(t,["startOffset"],o),t}function kC(s,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(e,["data"]);i!=null&&d(t,["data"],i);const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function LC(s,e){const t={},i=c(e,["displayName"]);i!=null&&d(t,["displayName"],i);const l=c(e,["data"]);l!=null&&d(t,["data"],l);const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function PC(s,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(e,["fileUri"]);i!=null&&d(t,["fileUri"],i);const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function jC(s,e){const t={},i=c(e,["displayName"]);i!=null&&d(t,["displayName"],i);const l=c(e,["fileUri"]);l!=null&&d(t,["fileUri"],l);const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function VC(s,e){const t={},i=c(e,["videoMetadata"]);i!=null&&d(t,["videoMetadata"],IC(s,i));const l=c(e,["thought"]);l!=null&&d(t,["thought"],l);const o=c(e,["inlineData"]);o!=null&&d(t,["inlineData"],kC(s,o));const m=c(e,["fileData"]);m!=null&&d(t,["fileData"],PC(s,m));const g=c(e,["thoughtSignature"]);g!=null&&d(t,["thoughtSignature"],g);const x=c(e,["codeExecutionResult"]);x!=null&&d(t,["codeExecutionResult"],x);const p=c(e,["executableCode"]);p!=null&&d(t,["executableCode"],p);const v=c(e,["functionCall"]);v!=null&&d(t,["functionCall"],v);const _=c(e,["functionResponse"]);_!=null&&d(t,["functionResponse"],_);const b=c(e,["text"]);return b!=null&&d(t,["text"],b),t}function OC(s,e){const t={},i=c(e,["videoMetadata"]);i!=null&&d(t,["videoMetadata"],UC(s,i));const l=c(e,["thought"]);l!=null&&d(t,["thought"],l);const o=c(e,["inlineData"]);o!=null&&d(t,["inlineData"],LC(s,o));const m=c(e,["fileData"]);m!=null&&d(t,["fileData"],jC(s,m));const g=c(e,["thoughtSignature"]);g!=null&&d(t,["thoughtSignature"],g);const x=c(e,["codeExecutionResult"]);x!=null&&d(t,["codeExecutionResult"],x);const p=c(e,["executableCode"]);p!=null&&d(t,["executableCode"],p);const v=c(e,["functionCall"]);v!=null&&d(t,["functionCall"],v);const _=c(e,["functionResponse"]);_!=null&&d(t,["functionResponse"],_);const b=c(e,["text"]);return b!=null&&d(t,["text"],b),t}function BC(s,e){const t={},i=c(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(m=>VC(s,m))),d(t,["parts"],o)}const l=c(e,["role"]);return l!=null&&d(t,["role"],l),t}function qC(s,e){const t={},i=c(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(m=>OC(s,m))),d(t,["parts"],o)}const l=c(e,["role"]);return l!=null&&d(t,["role"],l),t}function GC(s,e){const t={},i=c(e,["behavior"]);i!=null&&d(t,["behavior"],i);const l=c(e,["description"]);l!=null&&d(t,["description"],l);const o=c(e,["name"]);o!=null&&d(t,["name"],o);const m=c(e,["parameters"]);m!=null&&d(t,["parameters"],m);const g=c(e,["response"]);return g!=null&&d(t,["response"],g),t}function zC(s,e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=c(e,["description"]);i!=null&&d(t,["description"],i);const l=c(e,["name"]);l!=null&&d(t,["name"],l);const o=c(e,["parameters"]);o!=null&&d(t,["parameters"],o);const m=c(e,["response"]);return m!=null&&d(t,["response"],m),t}function HC(s,e){const t={},i=c(e,["startTime"]);i!=null&&d(t,["startTime"],i);const l=c(e,["endTime"]);return l!=null&&d(t,["endTime"],l),t}function FC(s,e){const t={},i=c(e,["startTime"]);i!=null&&d(t,["startTime"],i);const l=c(e,["endTime"]);return l!=null&&d(t,["endTime"],l),t}function YC(s,e){const t={},i=c(e,["timeRangeFilter"]);return i!=null&&d(t,["timeRangeFilter"],HC(s,i)),t}function $C(s,e){const t={},i=c(e,["timeRangeFilter"]);return i!=null&&d(t,["timeRangeFilter"],FC(s,i)),t}function ZC(s,e){const t={},i=c(e,["mode"]);i!=null&&d(t,["mode"],i);const l=c(e,["dynamicThreshold"]);return l!=null&&d(t,["dynamicThreshold"],l),t}function KC(s,e){const t={},i=c(e,["mode"]);i!=null&&d(t,["mode"],i);const l=c(e,["dynamicThreshold"]);return l!=null&&d(t,["dynamicThreshold"],l),t}function JC(s,e){const t={},i=c(e,["dynamicRetrievalConfig"]);return i!=null&&d(t,["dynamicRetrievalConfig"],ZC(s,i)),t}function XC(s,e){const t={},i=c(e,["dynamicRetrievalConfig"]);return i!=null&&d(t,["dynamicRetrievalConfig"],KC(s,i)),t}function QC(){return{}}function WC(s,e){const t={},i=c(e,["apiKeyString"]);return i!=null&&d(t,["apiKeyString"],i),t}function eS(s,e){const t={},i=c(e,["apiKeyConfig"]);i!=null&&d(t,["apiKeyConfig"],WC(s,i));const l=c(e,["authType"]);l!=null&&d(t,["authType"],l);const o=c(e,["googleServiceAccountConfig"]);o!=null&&d(t,["googleServiceAccountConfig"],o);const m=c(e,["httpBasicAuthConfig"]);m!=null&&d(t,["httpBasicAuthConfig"],m);const g=c(e,["oauthConfig"]);g!=null&&d(t,["oauthConfig"],g);const x=c(e,["oidcConfig"]);return x!=null&&d(t,["oidcConfig"],x),t}function tS(s,e){const t={},i=c(e,["authConfig"]);return i!=null&&d(t,["authConfig"],eS(s,i)),t}function nS(){return{}}function aS(s,e){const t={},i=c(e,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(p=>GC(s,p))),d(t,["functionDeclarations"],x)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(e,["googleSearch"]);l!=null&&d(t,["googleSearch"],YC(s,l));const o=c(e,["googleSearchRetrieval"]);if(o!=null&&d(t,["googleSearchRetrieval"],JC(s,o)),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(e,["urlContext"])!=null&&d(t,["urlContext"],nS());const g=c(e,["codeExecution"]);return g!=null&&d(t,["codeExecution"],g),t}function iS(s,e){const t={},i=c(e,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(_=>zC(s,_))),d(t,["functionDeclarations"],v)}const l=c(e,["retrieval"]);l!=null&&d(t,["retrieval"],l);const o=c(e,["googleSearch"]);o!=null&&d(t,["googleSearch"],$C(s,o));const m=c(e,["googleSearchRetrieval"]);m!=null&&d(t,["googleSearchRetrieval"],XC(s,m)),c(e,["enterpriseWebSearch"])!=null&&d(t,["enterpriseWebSearch"],QC());const x=c(e,["googleMaps"]);if(x!=null&&d(t,["googleMaps"],tS(s,x)),c(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const p=c(e,["codeExecution"]);return p!=null&&d(t,["codeExecution"],p),t}function sS(s,e){const t={},i=c(e,["handle"]);if(i!=null&&d(t,["handle"],i),c(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function lS(s,e){const t={},i=c(e,["handle"]);i!=null&&d(t,["handle"],i);const l=c(e,["transparent"]);return l!=null&&d(t,["transparent"],l),t}function bg(){return{}}function Tg(){return{}}function rS(s,e){const t={},i=c(e,["disabled"]);i!=null&&d(t,["disabled"],i);const l=c(e,["startOfSpeechSensitivity"]);l!=null&&d(t,["startOfSpeechSensitivity"],l);const o=c(e,["endOfSpeechSensitivity"]);o!=null&&d(t,["endOfSpeechSensitivity"],o);const m=c(e,["prefixPaddingMs"]);m!=null&&d(t,["prefixPaddingMs"],m);const g=c(e,["silenceDurationMs"]);return g!=null&&d(t,["silenceDurationMs"],g),t}function oS(s,e){const t={},i=c(e,["disabled"]);i!=null&&d(t,["disabled"],i);const l=c(e,["startOfSpeechSensitivity"]);l!=null&&d(t,["startOfSpeechSensitivity"],l);const o=c(e,["endOfSpeechSensitivity"]);o!=null&&d(t,["endOfSpeechSensitivity"],o);const m=c(e,["prefixPaddingMs"]);m!=null&&d(t,["prefixPaddingMs"],m);const g=c(e,["silenceDurationMs"]);return g!=null&&d(t,["silenceDurationMs"],g),t}function uS(s,e){const t={},i=c(e,["automaticActivityDetection"]);i!=null&&d(t,["automaticActivityDetection"],rS(s,i));const l=c(e,["activityHandling"]);l!=null&&d(t,["activityHandling"],l);const o=c(e,["turnCoverage"]);return o!=null&&d(t,["turnCoverage"],o),t}function cS(s,e){const t={},i=c(e,["automaticActivityDetection"]);i!=null&&d(t,["automaticActivityDetection"],oS(s,i));const l=c(e,["activityHandling"]);l!=null&&d(t,["activityHandling"],l);const o=c(e,["turnCoverage"]);return o!=null&&d(t,["turnCoverage"],o),t}function dS(s,e){const t={},i=c(e,["targetTokens"]);return i!=null&&d(t,["targetTokens"],i),t}function fS(s,e){const t={},i=c(e,["targetTokens"]);return i!=null&&d(t,["targetTokens"],i),t}function mS(s,e){const t={},i=c(e,["triggerTokens"]);i!=null&&d(t,["triggerTokens"],i);const l=c(e,["slidingWindow"]);return l!=null&&d(t,["slidingWindow"],dS(s,l)),t}function hS(s,e){const t={},i=c(e,["triggerTokens"]);i!=null&&d(t,["triggerTokens"],i);const l=c(e,["slidingWindow"]);return l!=null&&d(t,["slidingWindow"],fS(s,l)),t}function pS(s,e){const t={},i=c(e,["proactiveAudio"]);return i!=null&&d(t,["proactiveAudio"],i),t}function gS(s,e){const t={},i=c(e,["proactiveAudio"]);return i!=null&&d(t,["proactiveAudio"],i),t}function yS(s,e,t){const i={},l=c(e,["generationConfig"]);t!==void 0&&l!=null&&d(t,["setup","generationConfig"],l);const o=c(e,["responseModalities"]);t!==void 0&&o!=null&&d(t,["setup","generationConfig","responseModalities"],o);const m=c(e,["temperature"]);t!==void 0&&m!=null&&d(t,["setup","generationConfig","temperature"],m);const g=c(e,["topP"]);t!==void 0&&g!=null&&d(t,["setup","generationConfig","topP"],g);const x=c(e,["topK"]);t!==void 0&&x!=null&&d(t,["setup","generationConfig","topK"],x);const p=c(e,["maxOutputTokens"]);t!==void 0&&p!=null&&d(t,["setup","generationConfig","maxOutputTokens"],p);const v=c(e,["mediaResolution"]);t!==void 0&&v!=null&&d(t,["setup","generationConfig","mediaResolution"],v);const _=c(e,["seed"]);t!==void 0&&_!=null&&d(t,["setup","generationConfig","seed"],_);const b=c(e,["speechConfig"]);t!==void 0&&b!=null&&d(t,["setup","generationConfig","speechConfig"],RC(s,Yc(s,b)));const S=c(e,["enableAffectiveDialog"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],S);const N=c(e,["systemInstruction"]);t!==void 0&&N!=null&&d(t,["setup","systemInstruction"],BC(s,yt(s,N)));const E=c(e,["tools"]);if(t!==void 0&&E!=null){let ae=el(s,E);Array.isArray(ae)&&(ae=ae.map(z=>aS(s,Ws(s,z)))),d(t,["setup","tools"],ae)}const D=c(e,["sessionResumption"]);t!==void 0&&D!=null&&d(t,["setup","sessionResumption"],sS(s,D));const I=c(e,["inputAudioTranscription"]);t!==void 0&&I!=null&&d(t,["setup","inputAudioTranscription"],bg());const V=c(e,["outputAudioTranscription"]);t!==void 0&&V!=null&&d(t,["setup","outputAudioTranscription"],bg());const q=c(e,["realtimeInputConfig"]);t!==void 0&&q!=null&&d(t,["setup","realtimeInputConfig"],uS(s,q));const Z=c(e,["contextWindowCompression"]);t!==void 0&&Z!=null&&d(t,["setup","contextWindowCompression"],mS(s,Z));const F=c(e,["proactivity"]);return t!==void 0&&F!=null&&d(t,["setup","proactivity"],pS(s,F)),i}function xS(s,e,t){const i={},l=c(e,["generationConfig"]);t!==void 0&&l!=null&&d(t,["setup","generationConfig"],l);const o=c(e,["responseModalities"]);t!==void 0&&o!=null&&d(t,["setup","generationConfig","responseModalities"],o);const m=c(e,["temperature"]);t!==void 0&&m!=null&&d(t,["setup","generationConfig","temperature"],m);const g=c(e,["topP"]);t!==void 0&&g!=null&&d(t,["setup","generationConfig","topP"],g);const x=c(e,["topK"]);t!==void 0&&x!=null&&d(t,["setup","generationConfig","topK"],x);const p=c(e,["maxOutputTokens"]);t!==void 0&&p!=null&&d(t,["setup","generationConfig","maxOutputTokens"],p);const v=c(e,["mediaResolution"]);t!==void 0&&v!=null&&d(t,["setup","generationConfig","mediaResolution"],v);const _=c(e,["seed"]);t!==void 0&&_!=null&&d(t,["setup","generationConfig","seed"],_);const b=c(e,["speechConfig"]);t!==void 0&&b!=null&&d(t,["setup","generationConfig","speechConfig"],DC(s,Yc(s,b)));const S=c(e,["enableAffectiveDialog"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],S);const N=c(e,["systemInstruction"]);t!==void 0&&N!=null&&d(t,["setup","systemInstruction"],qC(s,yt(s,N)));const E=c(e,["tools"]);if(t!==void 0&&E!=null){let ae=el(s,E);Array.isArray(ae)&&(ae=ae.map(z=>iS(s,Ws(s,z)))),d(t,["setup","tools"],ae)}const D=c(e,["sessionResumption"]);t!==void 0&&D!=null&&d(t,["setup","sessionResumption"],lS(s,D));const I=c(e,["inputAudioTranscription"]);t!==void 0&&I!=null&&d(t,["setup","inputAudioTranscription"],Tg());const V=c(e,["outputAudioTranscription"]);t!==void 0&&V!=null&&d(t,["setup","outputAudioTranscription"],Tg());const q=c(e,["realtimeInputConfig"]);t!==void 0&&q!=null&&d(t,["setup","realtimeInputConfig"],cS(s,q));const Z=c(e,["contextWindowCompression"]);t!==void 0&&Z!=null&&d(t,["setup","contextWindowCompression"],hS(s,Z));const F=c(e,["proactivity"]);return t!==void 0&&F!=null&&d(t,["setup","proactivity"],gS(s,F)),i}function vS(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["setup","model"],ze(s,i));const l=c(e,["config"]);return l!=null&&d(t,["config"],yS(s,l,t)),t}function bS(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["setup","model"],ze(s,i));const l=c(e,["config"]);return l!=null&&d(t,["config"],xS(s,l,t)),t}function TS(){return{}}function _S(){return{}}function CS(){return{}}function SS(){return{}}function NS(s,e){const t={},i=c(e,["media"]);i!=null&&d(t,["mediaChunks"],cy(s,i));const l=c(e,["audio"]);l!=null&&d(t,["audio"],KT(s,l));const o=c(e,["audioStreamEnd"]);o!=null&&d(t,["audioStreamEnd"],o);const m=c(e,["video"]);m!=null&&d(t,["video"],ZT(s,m));const g=c(e,["text"]);return g!=null&&d(t,["text"],g),c(e,["activityStart"])!=null&&d(t,["activityStart"],TS()),c(e,["activityEnd"])!=null&&d(t,["activityEnd"],CS()),t}function ES(s,e){const t={},i=c(e,["media"]);if(i!=null&&d(t,["mediaChunks"],cy(s,i)),c(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const l=c(e,["audioStreamEnd"]);if(l!=null&&d(t,["audioStreamEnd"],l),c(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(c(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return c(e,["activityStart"])!=null&&d(t,["activityStart"],_S()),c(e,["activityEnd"])!=null&&d(t,["activityEnd"],SS()),t}function by(s,e){const t={},i=c(e,["text"]);i!=null&&d(t,["text"],i);const l=c(e,["weight"]);return l!=null&&d(t,["weight"],l),t}function AS(s,e){const t={},i=c(e,["weightedPrompts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>by(s,o))),d(t,["weightedPrompts"],l)}return t}function Ty(s,e){const t={},i=c(e,["temperature"]);i!=null&&d(t,["temperature"],i);const l=c(e,["topK"]);l!=null&&d(t,["topK"],l);const o=c(e,["seed"]);o!=null&&d(t,["seed"],o);const m=c(e,["guidance"]);m!=null&&d(t,["guidance"],m);const g=c(e,["bpm"]);g!=null&&d(t,["bpm"],g);const x=c(e,["density"]);x!=null&&d(t,["density"],x);const p=c(e,["brightness"]);p!=null&&d(t,["brightness"],p);const v=c(e,["scale"]);v!=null&&d(t,["scale"],v);const _=c(e,["muteBass"]);_!=null&&d(t,["muteBass"],_);const b=c(e,["muteDrums"]);b!=null&&d(t,["muteDrums"],b);const S=c(e,["onlyBassAndDrums"]);return S!=null&&d(t,["onlyBassAndDrums"],S),t}function wS(s,e){const t={},i=c(e,["musicGenerationConfig"]);return i!=null&&d(t,["musicGenerationConfig"],Ty(s,i)),t}function _y(s,e){const t={},i=c(e,["model"]);return i!=null&&d(t,["model"],i),t}function Cy(s,e){const t={},i=c(e,["weightedPrompts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>by(s,o))),d(t,["weightedPrompts"],l)}return t}function Rc(s,e){const t={},i=c(e,["setup"]);i!=null&&d(t,["setup"],_y(s,i));const l=c(e,["clientContent"]);l!=null&&d(t,["clientContent"],Cy(s,l));const o=c(e,["musicGenerationConfig"]);o!=null&&d(t,["musicGenerationConfig"],Ty(s,o));const m=c(e,["playbackControl"]);return m!=null&&d(t,["playbackControl"],m),t}function MS(){return{}}function RS(){return{}}function DS(s,e){const t={},i=c(e,["fps"]);i!=null&&d(t,["fps"],i);const l=c(e,["endOffset"]);l!=null&&d(t,["endOffset"],l);const o=c(e,["startOffset"]);return o!=null&&d(t,["startOffset"],o),t}function IS(s,e){const t={},i=c(e,["fps"]);i!=null&&d(t,["fps"],i);const l=c(e,["endOffset"]);l!=null&&d(t,["endOffset"],l);const o=c(e,["startOffset"]);return o!=null&&d(t,["startOffset"],o),t}function US(s,e){const t={},i=c(e,["data"]);i!=null&&d(t,["data"],i);const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function kS(s,e){const t={},i=c(e,["displayName"]);i!=null&&d(t,["displayName"],i);const l=c(e,["data"]);l!=null&&d(t,["data"],l);const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function LS(s,e){const t={},i=c(e,["fileUri"]);i!=null&&d(t,["fileUri"],i);const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function PS(s,e){const t={},i=c(e,["displayName"]);i!=null&&d(t,["displayName"],i);const l=c(e,["fileUri"]);l!=null&&d(t,["fileUri"],l);const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function jS(s,e){const t={},i=c(e,["videoMetadata"]);i!=null&&d(t,["videoMetadata"],DS(s,i));const l=c(e,["thought"]);l!=null&&d(t,["thought"],l);const o=c(e,["inlineData"]);o!=null&&d(t,["inlineData"],US(s,o));const m=c(e,["fileData"]);m!=null&&d(t,["fileData"],LS(s,m));const g=c(e,["thoughtSignature"]);g!=null&&d(t,["thoughtSignature"],g);const x=c(e,["codeExecutionResult"]);x!=null&&d(t,["codeExecutionResult"],x);const p=c(e,["executableCode"]);p!=null&&d(t,["executableCode"],p);const v=c(e,["functionCall"]);v!=null&&d(t,["functionCall"],v);const _=c(e,["functionResponse"]);_!=null&&d(t,["functionResponse"],_);const b=c(e,["text"]);return b!=null&&d(t,["text"],b),t}function VS(s,e){const t={},i=c(e,["videoMetadata"]);i!=null&&d(t,["videoMetadata"],IS(s,i));const l=c(e,["thought"]);l!=null&&d(t,["thought"],l);const o=c(e,["inlineData"]);o!=null&&d(t,["inlineData"],kS(s,o));const m=c(e,["fileData"]);m!=null&&d(t,["fileData"],PS(s,m));const g=c(e,["thoughtSignature"]);g!=null&&d(t,["thoughtSignature"],g);const x=c(e,["codeExecutionResult"]);x!=null&&d(t,["codeExecutionResult"],x);const p=c(e,["executableCode"]);p!=null&&d(t,["executableCode"],p);const v=c(e,["functionCall"]);v!=null&&d(t,["functionCall"],v);const _=c(e,["functionResponse"]);_!=null&&d(t,["functionResponse"],_);const b=c(e,["text"]);return b!=null&&d(t,["text"],b),t}function OS(s,e){const t={},i=c(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(m=>jS(s,m))),d(t,["parts"],o)}const l=c(e,["role"]);return l!=null&&d(t,["role"],l),t}function BS(s,e){const t={},i=c(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(m=>VS(s,m))),d(t,["parts"],o)}const l=c(e,["role"]);return l!=null&&d(t,["role"],l),t}function _g(s,e){const t={},i=c(e,["text"]);i!=null&&d(t,["text"],i);const l=c(e,["finished"]);return l!=null&&d(t,["finished"],l),t}function Cg(s,e){const t={},i=c(e,["text"]);i!=null&&d(t,["text"],i);const l=c(e,["finished"]);return l!=null&&d(t,["finished"],l),t}function qS(s,e){const t={},i=c(e,["retrievedUrl"]);i!=null&&d(t,["retrievedUrl"],i);const l=c(e,["urlRetrievalStatus"]);return l!=null&&d(t,["urlRetrievalStatus"],l),t}function GS(s,e){const t={},i=c(e,["urlMetadata"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>qS(s,o))),d(t,["urlMetadata"],l)}return t}function zS(s,e){const t={},i=c(e,["modelTurn"]);i!=null&&d(t,["modelTurn"],OS(s,i));const l=c(e,["turnComplete"]);l!=null&&d(t,["turnComplete"],l);const o=c(e,["interrupted"]);o!=null&&d(t,["interrupted"],o);const m=c(e,["groundingMetadata"]);m!=null&&d(t,["groundingMetadata"],m);const g=c(e,["generationComplete"]);g!=null&&d(t,["generationComplete"],g);const x=c(e,["inputTranscription"]);x!=null&&d(t,["inputTranscription"],_g(s,x));const p=c(e,["outputTranscription"]);p!=null&&d(t,["outputTranscription"],_g(s,p));const v=c(e,["urlContextMetadata"]);return v!=null&&d(t,["urlContextMetadata"],GS(s,v)),t}function HS(s,e){const t={},i=c(e,["modelTurn"]);i!=null&&d(t,["modelTurn"],BS(s,i));const l=c(e,["turnComplete"]);l!=null&&d(t,["turnComplete"],l);const o=c(e,["interrupted"]);o!=null&&d(t,["interrupted"],o);const m=c(e,["groundingMetadata"]);m!=null&&d(t,["groundingMetadata"],m);const g=c(e,["generationComplete"]);g!=null&&d(t,["generationComplete"],g);const x=c(e,["inputTranscription"]);x!=null&&d(t,["inputTranscription"],Cg(s,x));const p=c(e,["outputTranscription"]);return p!=null&&d(t,["outputTranscription"],Cg(s,p)),t}function FS(s,e){const t={},i=c(e,["id"]);i!=null&&d(t,["id"],i);const l=c(e,["args"]);l!=null&&d(t,["args"],l);const o=c(e,["name"]);return o!=null&&d(t,["name"],o),t}function YS(s,e){const t={},i=c(e,["args"]);i!=null&&d(t,["args"],i);const l=c(e,["name"]);return l!=null&&d(t,["name"],l),t}function $S(s,e){const t={},i=c(e,["functionCalls"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>FS(s,o))),d(t,["functionCalls"],l)}return t}function ZS(s,e){const t={},i=c(e,["functionCalls"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>YS(s,o))),d(t,["functionCalls"],l)}return t}function KS(s,e){const t={},i=c(e,["ids"]);return i!=null&&d(t,["ids"],i),t}function JS(s,e){const t={},i=c(e,["ids"]);return i!=null&&d(t,["ids"],i),t}function yr(s,e){const t={},i=c(e,["modality"]);i!=null&&d(t,["modality"],i);const l=c(e,["tokenCount"]);return l!=null&&d(t,["tokenCount"],l),t}function xr(s,e){const t={},i=c(e,["modality"]);i!=null&&d(t,["modality"],i);const l=c(e,["tokenCount"]);return l!=null&&d(t,["tokenCount"],l),t}function XS(s,e){const t={},i=c(e,["promptTokenCount"]);i!=null&&d(t,["promptTokenCount"],i);const l=c(e,["cachedContentTokenCount"]);l!=null&&d(t,["cachedContentTokenCount"],l);const o=c(e,["responseTokenCount"]);o!=null&&d(t,["responseTokenCount"],o);const m=c(e,["toolUsePromptTokenCount"]);m!=null&&d(t,["toolUsePromptTokenCount"],m);const g=c(e,["thoughtsTokenCount"]);g!=null&&d(t,["thoughtsTokenCount"],g);const x=c(e,["totalTokenCount"]);x!=null&&d(t,["totalTokenCount"],x);const p=c(e,["promptTokensDetails"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(N=>yr(s,N))),d(t,["promptTokensDetails"],S)}const v=c(e,["cacheTokensDetails"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(N=>yr(s,N))),d(t,["cacheTokensDetails"],S)}const _=c(e,["responseTokensDetails"]);if(_!=null){let S=_;Array.isArray(S)&&(S=S.map(N=>yr(s,N))),d(t,["responseTokensDetails"],S)}const b=c(e,["toolUsePromptTokensDetails"]);if(b!=null){let S=b;Array.isArray(S)&&(S=S.map(N=>yr(s,N))),d(t,["toolUsePromptTokensDetails"],S)}return t}function QS(s,e){const t={},i=c(e,["promptTokenCount"]);i!=null&&d(t,["promptTokenCount"],i);const l=c(e,["cachedContentTokenCount"]);l!=null&&d(t,["cachedContentTokenCount"],l);const o=c(e,["candidatesTokenCount"]);o!=null&&d(t,["responseTokenCount"],o);const m=c(e,["toolUsePromptTokenCount"]);m!=null&&d(t,["toolUsePromptTokenCount"],m);const g=c(e,["thoughtsTokenCount"]);g!=null&&d(t,["thoughtsTokenCount"],g);const x=c(e,["totalTokenCount"]);x!=null&&d(t,["totalTokenCount"],x);const p=c(e,["promptTokensDetails"]);if(p!=null){let N=p;Array.isArray(N)&&(N=N.map(E=>xr(s,E))),d(t,["promptTokensDetails"],N)}const v=c(e,["cacheTokensDetails"]);if(v!=null){let N=v;Array.isArray(N)&&(N=N.map(E=>xr(s,E))),d(t,["cacheTokensDetails"],N)}const _=c(e,["candidatesTokensDetails"]);if(_!=null){let N=_;Array.isArray(N)&&(N=N.map(E=>xr(s,E))),d(t,["responseTokensDetails"],N)}const b=c(e,["toolUsePromptTokensDetails"]);if(b!=null){let N=b;Array.isArray(N)&&(N=N.map(E=>xr(s,E))),d(t,["toolUsePromptTokensDetails"],N)}const S=c(e,["trafficType"]);return S!=null&&d(t,["trafficType"],S),t}function WS(s,e){const t={},i=c(e,["timeLeft"]);return i!=null&&d(t,["timeLeft"],i),t}function eN(s,e){const t={},i=c(e,["timeLeft"]);return i!=null&&d(t,["timeLeft"],i),t}function tN(s,e){const t={},i=c(e,["newHandle"]);i!=null&&d(t,["newHandle"],i);const l=c(e,["resumable"]);l!=null&&d(t,["resumable"],l);const o=c(e,["lastConsumedClientMessageIndex"]);return o!=null&&d(t,["lastConsumedClientMessageIndex"],o),t}function nN(s,e){const t={},i=c(e,["newHandle"]);i!=null&&d(t,["newHandle"],i);const l=c(e,["resumable"]);l!=null&&d(t,["resumable"],l);const o=c(e,["lastConsumedClientMessageIndex"]);return o!=null&&d(t,["lastConsumedClientMessageIndex"],o),t}function aN(s,e){const t={};c(e,["setupComplete"])!=null&&d(t,["setupComplete"],MS());const l=c(e,["serverContent"]);l!=null&&d(t,["serverContent"],zS(s,l));const o=c(e,["toolCall"]);o!=null&&d(t,["toolCall"],$S(s,o));const m=c(e,["toolCallCancellation"]);m!=null&&d(t,["toolCallCancellation"],KS(s,m));const g=c(e,["usageMetadata"]);g!=null&&d(t,["usageMetadata"],XS(s,g));const x=c(e,["goAway"]);x!=null&&d(t,["goAway"],WS(s,x));const p=c(e,["sessionResumptionUpdate"]);return p!=null&&d(t,["sessionResumptionUpdate"],tN(s,p)),t}function iN(s,e){const t={};c(e,["setupComplete"])!=null&&d(t,["setupComplete"],RS());const l=c(e,["serverContent"]);l!=null&&d(t,["serverContent"],HS(s,l));const o=c(e,["toolCall"]);o!=null&&d(t,["toolCall"],ZS(s,o));const m=c(e,["toolCallCancellation"]);m!=null&&d(t,["toolCallCancellation"],JS(s,m));const g=c(e,["usageMetadata"]);g!=null&&d(t,["usageMetadata"],QS(s,g));const x=c(e,["goAway"]);x!=null&&d(t,["goAway"],eN(s,x));const p=c(e,["sessionResumptionUpdate"]);return p!=null&&d(t,["sessionResumptionUpdate"],nN(s,p)),t}function sN(){return{}}function lN(s,e){const t={},i=c(e,["text"]);i!=null&&d(t,["text"],i);const l=c(e,["weight"]);return l!=null&&d(t,["weight"],l),t}function rN(s,e){const t={},i=c(e,["weightedPrompts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>lN(s,o))),d(t,["weightedPrompts"],l)}return t}function oN(s,e){const t={},i=c(e,["temperature"]);i!=null&&d(t,["temperature"],i);const l=c(e,["topK"]);l!=null&&d(t,["topK"],l);const o=c(e,["seed"]);o!=null&&d(t,["seed"],o);const m=c(e,["guidance"]);m!=null&&d(t,["guidance"],m);const g=c(e,["bpm"]);g!=null&&d(t,["bpm"],g);const x=c(e,["density"]);x!=null&&d(t,["density"],x);const p=c(e,["brightness"]);p!=null&&d(t,["brightness"],p);const v=c(e,["scale"]);v!=null&&d(t,["scale"],v);const _=c(e,["muteBass"]);_!=null&&d(t,["muteBass"],_);const b=c(e,["muteDrums"]);b!=null&&d(t,["muteDrums"],b);const S=c(e,["onlyBassAndDrums"]);return S!=null&&d(t,["onlyBassAndDrums"],S),t}function uN(s,e){const t={},i=c(e,["clientContent"]);i!=null&&d(t,["clientContent"],rN(s,i));const l=c(e,["musicGenerationConfig"]);return l!=null&&d(t,["musicGenerationConfig"],oN(s,l)),t}function cN(s,e){const t={},i=c(e,["data"]);i!=null&&d(t,["data"],i);const l=c(e,["mimeType"]);l!=null&&d(t,["mimeType"],l);const o=c(e,["sourceMetadata"]);return o!=null&&d(t,["sourceMetadata"],uN(s,o)),t}function dN(s,e){const t={},i=c(e,["audioChunks"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>cN(s,o))),d(t,["audioChunks"],l)}return t}function fN(s,e){const t={},i=c(e,["text"]);i!=null&&d(t,["text"],i);const l=c(e,["filteredReason"]);return l!=null&&d(t,["filteredReason"],l),t}function mN(s,e){const t={};c(e,["setupComplete"])!=null&&d(t,["setupComplete"],sN());const l=c(e,["serverContent"]);l!=null&&d(t,["serverContent"],dN(s,l));const o=c(e,["filteredPrompt"]);return o!=null&&d(t,["filteredPrompt"],fN(s,o)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hN(s,e){const t={},i=c(e,["fps"]);i!=null&&d(t,["fps"],i);const l=c(e,["endOffset"]);l!=null&&d(t,["endOffset"],l);const o=c(e,["startOffset"]);return o!=null&&d(t,["startOffset"],o),t}function pN(s,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(e,["data"]);i!=null&&d(t,["data"],i);const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function gN(s,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(e,["fileUri"]);i!=null&&d(t,["fileUri"],i);const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function yN(s,e){const t={},i=c(e,["videoMetadata"]);i!=null&&d(t,["videoMetadata"],hN(s,i));const l=c(e,["thought"]);l!=null&&d(t,["thought"],l);const o=c(e,["inlineData"]);o!=null&&d(t,["inlineData"],pN(s,o));const m=c(e,["fileData"]);m!=null&&d(t,["fileData"],gN(s,m));const g=c(e,["thoughtSignature"]);g!=null&&d(t,["thoughtSignature"],g);const x=c(e,["codeExecutionResult"]);x!=null&&d(t,["codeExecutionResult"],x);const p=c(e,["executableCode"]);p!=null&&d(t,["executableCode"],p);const v=c(e,["functionCall"]);v!=null&&d(t,["functionCall"],v);const _=c(e,["functionResponse"]);_!=null&&d(t,["functionResponse"],_);const b=c(e,["text"]);return b!=null&&d(t,["text"],b),t}function Or(s,e){const t={},i=c(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(m=>yN(s,m))),d(t,["parts"],o)}const l=c(e,["role"]);return l!=null&&d(t,["role"],l),t}function xN(s,e){const t={},i=c(e,["anyOf"]);i!=null&&d(t,["anyOf"],i);const l=c(e,["default"]);l!=null&&d(t,["default"],l);const o=c(e,["description"]);o!=null&&d(t,["description"],o);const m=c(e,["enum"]);m!=null&&d(t,["enum"],m);const g=c(e,["example"]);g!=null&&d(t,["example"],g);const x=c(e,["format"]);x!=null&&d(t,["format"],x);const p=c(e,["items"]);p!=null&&d(t,["items"],p);const v=c(e,["maxItems"]);v!=null&&d(t,["maxItems"],v);const _=c(e,["maxLength"]);_!=null&&d(t,["maxLength"],_);const b=c(e,["maxProperties"]);b!=null&&d(t,["maxProperties"],b);const S=c(e,["maximum"]);S!=null&&d(t,["maximum"],S);const N=c(e,["minItems"]);N!=null&&d(t,["minItems"],N);const E=c(e,["minLength"]);E!=null&&d(t,["minLength"],E);const D=c(e,["minProperties"]);D!=null&&d(t,["minProperties"],D);const I=c(e,["minimum"]);I!=null&&d(t,["minimum"],I);const V=c(e,["nullable"]);V!=null&&d(t,["nullable"],V);const q=c(e,["pattern"]);q!=null&&d(t,["pattern"],q);const Z=c(e,["properties"]);Z!=null&&d(t,["properties"],Z);const F=c(e,["propertyOrdering"]);F!=null&&d(t,["propertyOrdering"],F);const ae=c(e,["required"]);ae!=null&&d(t,["required"],ae);const z=c(e,["title"]);z!=null&&d(t,["title"],z);const J=c(e,["type"]);return J!=null&&d(t,["type"],J),t}function vN(s,e){const t={};if(c(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=c(e,["category"]);i!=null&&d(t,["category"],i);const l=c(e,["threshold"]);return l!=null&&d(t,["threshold"],l),t}function bN(s,e){const t={},i=c(e,["behavior"]);i!=null&&d(t,["behavior"],i);const l=c(e,["description"]);l!=null&&d(t,["description"],l);const o=c(e,["name"]);o!=null&&d(t,["name"],o);const m=c(e,["parameters"]);m!=null&&d(t,["parameters"],m);const g=c(e,["response"]);return g!=null&&d(t,["response"],g),t}function TN(s,e){const t={},i=c(e,["startTime"]);i!=null&&d(t,["startTime"],i);const l=c(e,["endTime"]);return l!=null&&d(t,["endTime"],l),t}function _N(s,e){const t={},i=c(e,["timeRangeFilter"]);return i!=null&&d(t,["timeRangeFilter"],TN(s,i)),t}function CN(s,e){const t={},i=c(e,["mode"]);i!=null&&d(t,["mode"],i);const l=c(e,["dynamicThreshold"]);return l!=null&&d(t,["dynamicThreshold"],l),t}function SN(s,e){const t={},i=c(e,["dynamicRetrievalConfig"]);return i!=null&&d(t,["dynamicRetrievalConfig"],CN(s,i)),t}function NN(){return{}}function EN(s,e){const t={},i=c(e,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(p=>bN(s,p))),d(t,["functionDeclarations"],x)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(e,["googleSearch"]);l!=null&&d(t,["googleSearch"],_N(s,l));const o=c(e,["googleSearchRetrieval"]);if(o!=null&&d(t,["googleSearchRetrieval"],SN(s,o)),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(e,["urlContext"])!=null&&d(t,["urlContext"],NN());const g=c(e,["codeExecution"]);return g!=null&&d(t,["codeExecution"],g),t}function AN(s,e){const t={},i=c(e,["mode"]);i!=null&&d(t,["mode"],i);const l=c(e,["allowedFunctionNames"]);return l!=null&&d(t,["allowedFunctionNames"],l),t}function wN(s,e){const t={},i=c(e,["latitude"]);i!=null&&d(t,["latitude"],i);const l=c(e,["longitude"]);return l!=null&&d(t,["longitude"],l),t}function MN(s,e){const t={},i=c(e,["latLng"]);i!=null&&d(t,["latLng"],wN(s,i));const l=c(e,["languageCode"]);return l!=null&&d(t,["languageCode"],l),t}function RN(s,e){const t={},i=c(e,["functionCallingConfig"]);i!=null&&d(t,["functionCallingConfig"],AN(s,i));const l=c(e,["retrievalConfig"]);return l!=null&&d(t,["retrievalConfig"],MN(s,l)),t}function DN(s,e){const t={},i=c(e,["voiceName"]);return i!=null&&d(t,["voiceName"],i),t}function Sy(s,e){const t={},i=c(e,["prebuiltVoiceConfig"]);return i!=null&&d(t,["prebuiltVoiceConfig"],DN(s,i)),t}function IN(s,e){const t={},i=c(e,["speaker"]);i!=null&&d(t,["speaker"],i);const l=c(e,["voiceConfig"]);return l!=null&&d(t,["voiceConfig"],Sy(s,l)),t}function UN(s,e){const t={},i=c(e,["speakerVoiceConfigs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>IN(s,o))),d(t,["speakerVoiceConfigs"],l)}return t}function kN(s,e){const t={},i=c(e,["voiceConfig"]);i!=null&&d(t,["voiceConfig"],Sy(s,i));const l=c(e,["multiSpeakerVoiceConfig"]);l!=null&&d(t,["multiSpeakerVoiceConfig"],UN(s,l));const o=c(e,["languageCode"]);return o!=null&&d(t,["languageCode"],o),t}function LN(s,e){const t={},i=c(e,["includeThoughts"]);i!=null&&d(t,["includeThoughts"],i);const l=c(e,["thinkingBudget"]);return l!=null&&d(t,["thinkingBudget"],l),t}function PN(s,e,t){const i={},l=c(e,["systemInstruction"]);t!==void 0&&l!=null&&d(t,["systemInstruction"],Or(s,yt(s,l)));const o=c(e,["temperature"]);o!=null&&d(i,["temperature"],o);const m=c(e,["topP"]);m!=null&&d(i,["topP"],m);const g=c(e,["topK"]);g!=null&&d(i,["topK"],g);const x=c(e,["candidateCount"]);x!=null&&d(i,["candidateCount"],x);const p=c(e,["maxOutputTokens"]);p!=null&&d(i,["maxOutputTokens"],p);const v=c(e,["stopSequences"]);v!=null&&d(i,["stopSequences"],v);const _=c(e,["responseLogprobs"]);_!=null&&d(i,["responseLogprobs"],_);const b=c(e,["logprobs"]);b!=null&&d(i,["logprobs"],b);const S=c(e,["presencePenalty"]);S!=null&&d(i,["presencePenalty"],S);const N=c(e,["frequencyPenalty"]);N!=null&&d(i,["frequencyPenalty"],N);const E=c(e,["seed"]);E!=null&&d(i,["seed"],E);const D=c(e,["responseMimeType"]);D!=null&&d(i,["responseMimeType"],D);const I=c(e,["responseSchema"]);if(I!=null&&d(i,["responseSchema"],xN(s,kr(s,I))),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const V=c(e,["safetySettings"]);if(t!==void 0&&V!=null){let ue=V;Array.isArray(ue)&&(ue=ue.map(Ue=>vN(s,Ue))),d(t,["safetySettings"],ue)}const q=c(e,["tools"]);if(t!==void 0&&q!=null){let ue=el(s,q);Array.isArray(ue)&&(ue=ue.map(Ue=>EN(s,Ws(s,Ue)))),d(t,["tools"],ue)}const Z=c(e,["toolConfig"]);if(t!==void 0&&Z!=null&&d(t,["toolConfig"],RN(s,Z)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=c(e,["cachedContent"]);t!==void 0&&F!=null&&d(t,["cachedContent"],fa(s,F));const ae=c(e,["responseModalities"]);ae!=null&&d(i,["responseModalities"],ae);const z=c(e,["mediaResolution"]);z!=null&&d(i,["mediaResolution"],z);const J=c(e,["speechConfig"]);if(J!=null&&d(i,["speechConfig"],kN(s,my(s,J))),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const te=c(e,["thinkingConfig"]);return te!=null&&d(i,["thinkingConfig"],LN(s,te)),i}function Sg(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],ze(s,i));const l=c(e,["contents"]);if(l!=null){let m=en(s,l);Array.isArray(m)&&(m=m.map(g=>Or(s,g))),d(t,["contents"],m)}const o=c(e,["config"]);return o!=null&&d(t,["generationConfig"],PN(s,o,t)),t}function jN(s,e,t){const i={},l=c(e,["taskType"]);t!==void 0&&l!=null&&d(t,["requests[]","taskType"],l);const o=c(e,["title"]);t!==void 0&&o!=null&&d(t,["requests[]","title"],o);const m=c(e,["outputDimensionality"]);if(t!==void 0&&m!=null&&d(t,["requests[]","outputDimensionality"],m),c(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function VN(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],ze(s,i));const l=c(e,["contents"]);l!=null&&d(t,["requests[]","content"],fy(s,l));const o=c(e,["config"]);o!=null&&d(t,["config"],jN(s,o,t));const m=c(e,["model"]);return m!==void 0&&d(t,["requests[]","model"],ze(s,m)),t}function ON(s,e,t){const i={};if(c(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=c(e,["numberOfImages"]);t!==void 0&&l!=null&&d(t,["parameters","sampleCount"],l);const o=c(e,["aspectRatio"]);t!==void 0&&o!=null&&d(t,["parameters","aspectRatio"],o);const m=c(e,["guidanceScale"]);if(t!==void 0&&m!=null&&d(t,["parameters","guidanceScale"],m),c(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const g=c(e,["safetyFilterLevel"]);t!==void 0&&g!=null&&d(t,["parameters","safetySetting"],g);const x=c(e,["personGeneration"]);t!==void 0&&x!=null&&d(t,["parameters","personGeneration"],x);const p=c(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&d(t,["parameters","includeSafetyAttributes"],p);const v=c(e,["includeRaiReason"]);t!==void 0&&v!=null&&d(t,["parameters","includeRaiReason"],v);const _=c(e,["language"]);t!==void 0&&_!=null&&d(t,["parameters","language"],_);const b=c(e,["outputMimeType"]);t!==void 0&&b!=null&&d(t,["parameters","outputOptions","mimeType"],b);const S=c(e,["outputCompressionQuality"]);if(t!==void 0&&S!=null&&d(t,["parameters","outputOptions","compressionQuality"],S),c(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function BN(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],ze(s,i));const l=c(e,["prompt"]);l!=null&&d(t,["instances[0]","prompt"],l);const o=c(e,["config"]);return o!=null&&d(t,["config"],ON(s,o,t)),t}function qN(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","name"],ze(s,i));const l=c(e,["config"]);return l!=null&&d(t,["config"],l),t}function GN(s,e,t){const i={},l=c(e,["pageSize"]);t!==void 0&&l!=null&&d(t,["_query","pageSize"],l);const o=c(e,["pageToken"]);t!==void 0&&o!=null&&d(t,["_query","pageToken"],o);const m=c(e,["filter"]);t!==void 0&&m!=null&&d(t,["_query","filter"],m);const g=c(e,["queryBase"]);return t!==void 0&&g!=null&&d(t,["_url","models_url"],gy(s,g)),i}function zN(s,e){const t={},i=c(e,["config"]);return i!=null&&d(t,["config"],GN(s,i,t)),t}function HN(s,e,t){const i={},l=c(e,["displayName"]);t!==void 0&&l!=null&&d(t,["displayName"],l);const o=c(e,["description"]);t!==void 0&&o!=null&&d(t,["description"],o);const m=c(e,["defaultCheckpointId"]);return t!==void 0&&m!=null&&d(t,["defaultCheckpointId"],m),i}function FN(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","name"],ze(s,i));const l=c(e,["config"]);return l!=null&&d(t,["config"],HN(s,l,t)),t}function YN(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","name"],ze(s,i));const l=c(e,["config"]);return l!=null&&d(t,["config"],l),t}function $N(s,e){const t={};if(c(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function ZN(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],ze(s,i));const l=c(e,["contents"]);if(l!=null){let m=en(s,l);Array.isArray(m)&&(m=m.map(g=>Or(s,g))),d(t,["contents"],m)}const o=c(e,["config"]);return o!=null&&d(t,["config"],$N(s,o)),t}function KN(s,e){const t={};if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=c(e,["imageBytes"]);i!=null&&d(t,["bytesBase64Encoded"],ma(s,i));const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function JN(s,e,t){const i={},l=c(e,["numberOfVideos"]);if(t!==void 0&&l!=null&&d(t,["parameters","sampleCount"],l),c(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=c(e,["durationSeconds"]);if(t!==void 0&&o!=null&&d(t,["parameters","durationSeconds"],o),c(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=c(e,["aspectRatio"]);if(t!==void 0&&m!=null&&d(t,["parameters","aspectRatio"],m),c(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const g=c(e,["personGeneration"]);if(t!==void 0&&g!=null&&d(t,["parameters","personGeneration"],g),c(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const x=c(e,["negativePrompt"]);if(t!==void 0&&x!=null&&d(t,["parameters","negativePrompt"],x),c(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");if(c(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");return i}function XN(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],ze(s,i));const l=c(e,["prompt"]);l!=null&&d(t,["instances[0]","prompt"],l);const o=c(e,["image"]);o!=null&&d(t,["instances[0]","image"],KN(s,o));const m=c(e,["config"]);return m!=null&&d(t,["config"],JN(s,m,t)),t}function QN(s,e){const t={},i=c(e,["fps"]);i!=null&&d(t,["fps"],i);const l=c(e,["endOffset"]);l!=null&&d(t,["endOffset"],l);const o=c(e,["startOffset"]);return o!=null&&d(t,["startOffset"],o),t}function WN(s,e){const t={},i=c(e,["displayName"]);i!=null&&d(t,["displayName"],i);const l=c(e,["data"]);l!=null&&d(t,["data"],l);const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function eE(s,e){const t={},i=c(e,["displayName"]);i!=null&&d(t,["displayName"],i);const l=c(e,["fileUri"]);l!=null&&d(t,["fileUri"],l);const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function tE(s,e){const t={},i=c(e,["videoMetadata"]);i!=null&&d(t,["videoMetadata"],QN(s,i));const l=c(e,["thought"]);l!=null&&d(t,["thought"],l);const o=c(e,["inlineData"]);o!=null&&d(t,["inlineData"],WN(s,o));const m=c(e,["fileData"]);m!=null&&d(t,["fileData"],eE(s,m));const g=c(e,["thoughtSignature"]);g!=null&&d(t,["thoughtSignature"],g);const x=c(e,["codeExecutionResult"]);x!=null&&d(t,["codeExecutionResult"],x);const p=c(e,["executableCode"]);p!=null&&d(t,["executableCode"],p);const v=c(e,["functionCall"]);v!=null&&d(t,["functionCall"],v);const _=c(e,["functionResponse"]);_!=null&&d(t,["functionResponse"],_);const b=c(e,["text"]);return b!=null&&d(t,["text"],b),t}function Vi(s,e){const t={},i=c(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(m=>tE(s,m))),d(t,["parts"],o)}const l=c(e,["role"]);return l!=null&&d(t,["role"],l),t}function nE(s,e){const t={},i=c(e,["anyOf"]);i!=null&&d(t,["anyOf"],i);const l=c(e,["default"]);l!=null&&d(t,["default"],l);const o=c(e,["description"]);o!=null&&d(t,["description"],o);const m=c(e,["enum"]);m!=null&&d(t,["enum"],m);const g=c(e,["example"]);g!=null&&d(t,["example"],g);const x=c(e,["format"]);x!=null&&d(t,["format"],x);const p=c(e,["items"]);p!=null&&d(t,["items"],p);const v=c(e,["maxItems"]);v!=null&&d(t,["maxItems"],v);const _=c(e,["maxLength"]);_!=null&&d(t,["maxLength"],_);const b=c(e,["maxProperties"]);b!=null&&d(t,["maxProperties"],b);const S=c(e,["maximum"]);S!=null&&d(t,["maximum"],S);const N=c(e,["minItems"]);N!=null&&d(t,["minItems"],N);const E=c(e,["minLength"]);E!=null&&d(t,["minLength"],E);const D=c(e,["minProperties"]);D!=null&&d(t,["minProperties"],D);const I=c(e,["minimum"]);I!=null&&d(t,["minimum"],I);const V=c(e,["nullable"]);V!=null&&d(t,["nullable"],V);const q=c(e,["pattern"]);q!=null&&d(t,["pattern"],q);const Z=c(e,["properties"]);Z!=null&&d(t,["properties"],Z);const F=c(e,["propertyOrdering"]);F!=null&&d(t,["propertyOrdering"],F);const ae=c(e,["required"]);ae!=null&&d(t,["required"],ae);const z=c(e,["title"]);z!=null&&d(t,["title"],z);const J=c(e,["type"]);return J!=null&&d(t,["type"],J),t}function aE(s,e){const t={},i=c(e,["featureSelectionPreference"]);return i!=null&&d(t,["featureSelectionPreference"],i),t}function iE(s,e){const t={},i=c(e,["method"]);i!=null&&d(t,["method"],i);const l=c(e,["category"]);l!=null&&d(t,["category"],l);const o=c(e,["threshold"]);return o!=null&&d(t,["threshold"],o),t}function sE(s,e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=c(e,["description"]);i!=null&&d(t,["description"],i);const l=c(e,["name"]);l!=null&&d(t,["name"],l);const o=c(e,["parameters"]);o!=null&&d(t,["parameters"],o);const m=c(e,["response"]);return m!=null&&d(t,["response"],m),t}function lE(s,e){const t={},i=c(e,["startTime"]);i!=null&&d(t,["startTime"],i);const l=c(e,["endTime"]);return l!=null&&d(t,["endTime"],l),t}function rE(s,e){const t={},i=c(e,["timeRangeFilter"]);return i!=null&&d(t,["timeRangeFilter"],lE(s,i)),t}function oE(s,e){const t={},i=c(e,["mode"]);i!=null&&d(t,["mode"],i);const l=c(e,["dynamicThreshold"]);return l!=null&&d(t,["dynamicThreshold"],l),t}function uE(s,e){const t={},i=c(e,["dynamicRetrievalConfig"]);return i!=null&&d(t,["dynamicRetrievalConfig"],oE(s,i)),t}function cE(){return{}}function dE(s,e){const t={},i=c(e,["apiKeyString"]);return i!=null&&d(t,["apiKeyString"],i),t}function fE(s,e){const t={},i=c(e,["apiKeyConfig"]);i!=null&&d(t,["apiKeyConfig"],dE(s,i));const l=c(e,["authType"]);l!=null&&d(t,["authType"],l);const o=c(e,["googleServiceAccountConfig"]);o!=null&&d(t,["googleServiceAccountConfig"],o);const m=c(e,["httpBasicAuthConfig"]);m!=null&&d(t,["httpBasicAuthConfig"],m);const g=c(e,["oauthConfig"]);g!=null&&d(t,["oauthConfig"],g);const x=c(e,["oidcConfig"]);return x!=null&&d(t,["oidcConfig"],x),t}function mE(s,e){const t={},i=c(e,["authConfig"]);return i!=null&&d(t,["authConfig"],fE(s,i)),t}function Ny(s,e){const t={},i=c(e,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(_=>sE(s,_))),d(t,["functionDeclarations"],v)}const l=c(e,["retrieval"]);l!=null&&d(t,["retrieval"],l);const o=c(e,["googleSearch"]);o!=null&&d(t,["googleSearch"],rE(s,o));const m=c(e,["googleSearchRetrieval"]);m!=null&&d(t,["googleSearchRetrieval"],uE(s,m)),c(e,["enterpriseWebSearch"])!=null&&d(t,["enterpriseWebSearch"],cE());const x=c(e,["googleMaps"]);if(x!=null&&d(t,["googleMaps"],mE(s,x)),c(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const p=c(e,["codeExecution"]);return p!=null&&d(t,["codeExecution"],p),t}function hE(s,e){const t={},i=c(e,["mode"]);i!=null&&d(t,["mode"],i);const l=c(e,["allowedFunctionNames"]);return l!=null&&d(t,["allowedFunctionNames"],l),t}function pE(s,e){const t={},i=c(e,["latitude"]);i!=null&&d(t,["latitude"],i);const l=c(e,["longitude"]);return l!=null&&d(t,["longitude"],l),t}function gE(s,e){const t={},i=c(e,["latLng"]);i!=null&&d(t,["latLng"],pE(s,i));const l=c(e,["languageCode"]);return l!=null&&d(t,["languageCode"],l),t}function yE(s,e){const t={},i=c(e,["functionCallingConfig"]);i!=null&&d(t,["functionCallingConfig"],hE(s,i));const l=c(e,["retrievalConfig"]);return l!=null&&d(t,["retrievalConfig"],gE(s,l)),t}function xE(s,e){const t={},i=c(e,["voiceName"]);return i!=null&&d(t,["voiceName"],i),t}function vE(s,e){const t={},i=c(e,["prebuiltVoiceConfig"]);return i!=null&&d(t,["prebuiltVoiceConfig"],xE(s,i)),t}function bE(s,e){const t={},i=c(e,["voiceConfig"]);if(i!=null&&d(t,["voiceConfig"],vE(s,i)),c(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=c(e,["languageCode"]);return l!=null&&d(t,["languageCode"],l),t}function TE(s,e){const t={},i=c(e,["includeThoughts"]);i!=null&&d(t,["includeThoughts"],i);const l=c(e,["thinkingBudget"]);return l!=null&&d(t,["thinkingBudget"],l),t}function _E(s,e,t){const i={},l=c(e,["systemInstruction"]);t!==void 0&&l!=null&&d(t,["systemInstruction"],Vi(s,yt(s,l)));const o=c(e,["temperature"]);o!=null&&d(i,["temperature"],o);const m=c(e,["topP"]);m!=null&&d(i,["topP"],m);const g=c(e,["topK"]);g!=null&&d(i,["topK"],g);const x=c(e,["candidateCount"]);x!=null&&d(i,["candidateCount"],x);const p=c(e,["maxOutputTokens"]);p!=null&&d(i,["maxOutputTokens"],p);const v=c(e,["stopSequences"]);v!=null&&d(i,["stopSequences"],v);const _=c(e,["responseLogprobs"]);_!=null&&d(i,["responseLogprobs"],_);const b=c(e,["logprobs"]);b!=null&&d(i,["logprobs"],b);const S=c(e,["presencePenalty"]);S!=null&&d(i,["presencePenalty"],S);const N=c(e,["frequencyPenalty"]);N!=null&&d(i,["frequencyPenalty"],N);const E=c(e,["seed"]);E!=null&&d(i,["seed"],E);const D=c(e,["responseMimeType"]);D!=null&&d(i,["responseMimeType"],D);const I=c(e,["responseSchema"]);I!=null&&d(i,["responseSchema"],nE(s,kr(s,I)));const V=c(e,["routingConfig"]);V!=null&&d(i,["routingConfig"],V);const q=c(e,["modelSelectionConfig"]);q!=null&&d(i,["modelConfig"],aE(s,q));const Z=c(e,["safetySettings"]);if(t!==void 0&&Z!=null){let K=Z;Array.isArray(K)&&(K=K.map(we=>iE(s,we))),d(t,["safetySettings"],K)}const F=c(e,["tools"]);if(t!==void 0&&F!=null){let K=el(s,F);Array.isArray(K)&&(K=K.map(we=>Ny(s,Ws(s,we)))),d(t,["tools"],K)}const ae=c(e,["toolConfig"]);t!==void 0&&ae!=null&&d(t,["toolConfig"],yE(s,ae));const z=c(e,["labels"]);t!==void 0&&z!=null&&d(t,["labels"],z);const J=c(e,["cachedContent"]);t!==void 0&&J!=null&&d(t,["cachedContent"],fa(s,J));const te=c(e,["responseModalities"]);te!=null&&d(i,["responseModalities"],te);const ue=c(e,["mediaResolution"]);ue!=null&&d(i,["mediaResolution"],ue);const Ue=c(e,["speechConfig"]);Ue!=null&&d(i,["speechConfig"],bE(s,my(s,Ue)));const Pe=c(e,["audioTimestamp"]);Pe!=null&&d(i,["audioTimestamp"],Pe);const Pt=c(e,["thinkingConfig"]);return Pt!=null&&d(i,["thinkingConfig"],TE(s,Pt)),i}function Ng(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],ze(s,i));const l=c(e,["contents"]);if(l!=null){let m=en(s,l);Array.isArray(m)&&(m=m.map(g=>Vi(s,g))),d(t,["contents"],m)}const o=c(e,["config"]);return o!=null&&d(t,["generationConfig"],_E(s,o,t)),t}function CE(s,e,t){const i={},l=c(e,["taskType"]);t!==void 0&&l!=null&&d(t,["instances[]","task_type"],l);const o=c(e,["title"]);t!==void 0&&o!=null&&d(t,["instances[]","title"],o);const m=c(e,["outputDimensionality"]);t!==void 0&&m!=null&&d(t,["parameters","outputDimensionality"],m);const g=c(e,["mimeType"]);t!==void 0&&g!=null&&d(t,["instances[]","mimeType"],g);const x=c(e,["autoTruncate"]);return t!==void 0&&x!=null&&d(t,["parameters","autoTruncate"],x),i}function SE(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],ze(s,i));const l=c(e,["contents"]);l!=null&&d(t,["instances[]","content"],fy(s,l));const o=c(e,["config"]);return o!=null&&d(t,["config"],CE(s,o,t)),t}function NE(s,e,t){const i={},l=c(e,["outputGcsUri"]);t!==void 0&&l!=null&&d(t,["parameters","storageUri"],l);const o=c(e,["negativePrompt"]);t!==void 0&&o!=null&&d(t,["parameters","negativePrompt"],o);const m=c(e,["numberOfImages"]);t!==void 0&&m!=null&&d(t,["parameters","sampleCount"],m);const g=c(e,["aspectRatio"]);t!==void 0&&g!=null&&d(t,["parameters","aspectRatio"],g);const x=c(e,["guidanceScale"]);t!==void 0&&x!=null&&d(t,["parameters","guidanceScale"],x);const p=c(e,["seed"]);t!==void 0&&p!=null&&d(t,["parameters","seed"],p);const v=c(e,["safetyFilterLevel"]);t!==void 0&&v!=null&&d(t,["parameters","safetySetting"],v);const _=c(e,["personGeneration"]);t!==void 0&&_!=null&&d(t,["parameters","personGeneration"],_);const b=c(e,["includeSafetyAttributes"]);t!==void 0&&b!=null&&d(t,["parameters","includeSafetyAttributes"],b);const S=c(e,["includeRaiReason"]);t!==void 0&&S!=null&&d(t,["parameters","includeRaiReason"],S);const N=c(e,["language"]);t!==void 0&&N!=null&&d(t,["parameters","language"],N);const E=c(e,["outputMimeType"]);t!==void 0&&E!=null&&d(t,["parameters","outputOptions","mimeType"],E);const D=c(e,["outputCompressionQuality"]);t!==void 0&&D!=null&&d(t,["parameters","outputOptions","compressionQuality"],D);const I=c(e,["addWatermark"]);t!==void 0&&I!=null&&d(t,["parameters","addWatermark"],I);const V=c(e,["enhancePrompt"]);return t!==void 0&&V!=null&&d(t,["parameters","enhancePrompt"],V),i}function EE(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],ze(s,i));const l=c(e,["prompt"]);l!=null&&d(t,["instances[0]","prompt"],l);const o=c(e,["config"]);return o!=null&&d(t,["config"],NE(s,o,t)),t}function $c(s,e){const t={},i=c(e,["gcsUri"]);i!=null&&d(t,["gcsUri"],i);const l=c(e,["imageBytes"]);l!=null&&d(t,["bytesBase64Encoded"],ma(s,l));const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function AE(s,e){const t={},i=c(e,["maskMode"]);i!=null&&d(t,["maskMode"],i);const l=c(e,["segmentationClasses"]);l!=null&&d(t,["maskClasses"],l);const o=c(e,["maskDilation"]);return o!=null&&d(t,["dilation"],o),t}function wE(s,e){const t={},i=c(e,["controlType"]);i!=null&&d(t,["controlType"],i);const l=c(e,["enableControlImageComputation"]);return l!=null&&d(t,["computeControl"],l),t}function ME(s,e){const t={},i=c(e,["styleDescription"]);return i!=null&&d(t,["styleDescription"],i),t}function RE(s,e){const t={},i=c(e,["subjectType"]);i!=null&&d(t,["subjectType"],i);const l=c(e,["subjectDescription"]);return l!=null&&d(t,["subjectDescription"],l),t}function DE(s,e){const t={},i=c(e,["referenceImage"]);i!=null&&d(t,["referenceImage"],$c(s,i));const l=c(e,["referenceId"]);l!=null&&d(t,["referenceId"],l);const o=c(e,["referenceType"]);o!=null&&d(t,["referenceType"],o);const m=c(e,["maskImageConfig"]);m!=null&&d(t,["maskImageConfig"],AE(s,m));const g=c(e,["controlImageConfig"]);g!=null&&d(t,["controlImageConfig"],wE(s,g));const x=c(e,["styleImageConfig"]);x!=null&&d(t,["styleImageConfig"],ME(s,x));const p=c(e,["subjectImageConfig"]);return p!=null&&d(t,["subjectImageConfig"],RE(s,p)),t}function IE(s,e,t){const i={},l=c(e,["outputGcsUri"]);t!==void 0&&l!=null&&d(t,["parameters","storageUri"],l);const o=c(e,["negativePrompt"]);t!==void 0&&o!=null&&d(t,["parameters","negativePrompt"],o);const m=c(e,["numberOfImages"]);t!==void 0&&m!=null&&d(t,["parameters","sampleCount"],m);const g=c(e,["aspectRatio"]);t!==void 0&&g!=null&&d(t,["parameters","aspectRatio"],g);const x=c(e,["guidanceScale"]);t!==void 0&&x!=null&&d(t,["parameters","guidanceScale"],x);const p=c(e,["seed"]);t!==void 0&&p!=null&&d(t,["parameters","seed"],p);const v=c(e,["safetyFilterLevel"]);t!==void 0&&v!=null&&d(t,["parameters","safetySetting"],v);const _=c(e,["personGeneration"]);t!==void 0&&_!=null&&d(t,["parameters","personGeneration"],_);const b=c(e,["includeSafetyAttributes"]);t!==void 0&&b!=null&&d(t,["parameters","includeSafetyAttributes"],b);const S=c(e,["includeRaiReason"]);t!==void 0&&S!=null&&d(t,["parameters","includeRaiReason"],S);const N=c(e,["language"]);t!==void 0&&N!=null&&d(t,["parameters","language"],N);const E=c(e,["outputMimeType"]);t!==void 0&&E!=null&&d(t,["parameters","outputOptions","mimeType"],E);const D=c(e,["outputCompressionQuality"]);t!==void 0&&D!=null&&d(t,["parameters","outputOptions","compressionQuality"],D);const I=c(e,["editMode"]);t!==void 0&&I!=null&&d(t,["parameters","editMode"],I);const V=c(e,["baseSteps"]);return t!==void 0&&V!=null&&d(t,["parameters","editConfig","baseSteps"],V),i}function UE(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],ze(s,i));const l=c(e,["prompt"]);l!=null&&d(t,["instances[0]","prompt"],l);const o=c(e,["referenceImages"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(x=>DE(s,x))),d(t,["instances[0]","referenceImages"],g)}const m=c(e,["config"]);return m!=null&&d(t,["config"],IE(s,m,t)),t}function kE(s,e,t){const i={},l=c(e,["includeRaiReason"]);t!==void 0&&l!=null&&d(t,["parameters","includeRaiReason"],l);const o=c(e,["outputMimeType"]);t!==void 0&&o!=null&&d(t,["parameters","outputOptions","mimeType"],o);const m=c(e,["outputCompressionQuality"]);t!==void 0&&m!=null&&d(t,["parameters","outputOptions","compressionQuality"],m);const g=c(e,["numberOfImages"]);t!==void 0&&g!=null&&d(t,["parameters","sampleCount"],g);const x=c(e,["mode"]);return t!==void 0&&x!=null&&d(t,["parameters","mode"],x),i}function LE(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],ze(s,i));const l=c(e,["image"]);l!=null&&d(t,["instances[0]","image"],$c(s,l));const o=c(e,["upscaleFactor"]);o!=null&&d(t,["parameters","upscaleConfig","upscaleFactor"],o);const m=c(e,["config"]);return m!=null&&d(t,["config"],kE(s,m,t)),t}function PE(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","name"],ze(s,i));const l=c(e,["config"]);return l!=null&&d(t,["config"],l),t}function jE(s,e,t){const i={},l=c(e,["pageSize"]);t!==void 0&&l!=null&&d(t,["_query","pageSize"],l);const o=c(e,["pageToken"]);t!==void 0&&o!=null&&d(t,["_query","pageToken"],o);const m=c(e,["filter"]);t!==void 0&&m!=null&&d(t,["_query","filter"],m);const g=c(e,["queryBase"]);return t!==void 0&&g!=null&&d(t,["_url","models_url"],gy(s,g)),i}function VE(s,e){const t={},i=c(e,["config"]);return i!=null&&d(t,["config"],jE(s,i,t)),t}function OE(s,e,t){const i={},l=c(e,["displayName"]);t!==void 0&&l!=null&&d(t,["displayName"],l);const o=c(e,["description"]);t!==void 0&&o!=null&&d(t,["description"],o);const m=c(e,["defaultCheckpointId"]);return t!==void 0&&m!=null&&d(t,["defaultCheckpointId"],m),i}function BE(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],ze(s,i));const l=c(e,["config"]);return l!=null&&d(t,["config"],OE(s,l,t)),t}function qE(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","name"],ze(s,i));const l=c(e,["config"]);return l!=null&&d(t,["config"],l),t}function GE(s,e,t){const i={},l=c(e,["systemInstruction"]);t!==void 0&&l!=null&&d(t,["systemInstruction"],Vi(s,yt(s,l)));const o=c(e,["tools"]);if(t!==void 0&&o!=null){let g=o;Array.isArray(g)&&(g=g.map(x=>Ny(s,x))),d(t,["tools"],g)}const m=c(e,["generationConfig"]);return t!==void 0&&m!=null&&d(t,["generationConfig"],m),i}function zE(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],ze(s,i));const l=c(e,["contents"]);if(l!=null){let m=en(s,l);Array.isArray(m)&&(m=m.map(g=>Vi(s,g))),d(t,["contents"],m)}const o=c(e,["config"]);return o!=null&&d(t,["config"],GE(s,o,t)),t}function HE(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],ze(s,i));const l=c(e,["contents"]);if(l!=null){let m=en(s,l);Array.isArray(m)&&(m=m.map(g=>Vi(s,g))),d(t,["contents"],m)}const o=c(e,["config"]);return o!=null&&d(t,["config"],o),t}function FE(s,e,t){const i={},l=c(e,["numberOfVideos"]);t!==void 0&&l!=null&&d(t,["parameters","sampleCount"],l);const o=c(e,["outputGcsUri"]);t!==void 0&&o!=null&&d(t,["parameters","storageUri"],o);const m=c(e,["fps"]);t!==void 0&&m!=null&&d(t,["parameters","fps"],m);const g=c(e,["durationSeconds"]);t!==void 0&&g!=null&&d(t,["parameters","durationSeconds"],g);const x=c(e,["seed"]);t!==void 0&&x!=null&&d(t,["parameters","seed"],x);const p=c(e,["aspectRatio"]);t!==void 0&&p!=null&&d(t,["parameters","aspectRatio"],p);const v=c(e,["resolution"]);t!==void 0&&v!=null&&d(t,["parameters","resolution"],v);const _=c(e,["personGeneration"]);t!==void 0&&_!=null&&d(t,["parameters","personGeneration"],_);const b=c(e,["pubsubTopic"]);t!==void 0&&b!=null&&d(t,["parameters","pubsubTopic"],b);const S=c(e,["negativePrompt"]);t!==void 0&&S!=null&&d(t,["parameters","negativePrompt"],S);const N=c(e,["enhancePrompt"]);t!==void 0&&N!=null&&d(t,["parameters","enhancePrompt"],N);const E=c(e,["generateAudio"]);return t!==void 0&&E!=null&&d(t,["parameters","generateAudio"],E),i}function YE(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],ze(s,i));const l=c(e,["prompt"]);l!=null&&d(t,["instances[0]","prompt"],l);const o=c(e,["image"]);o!=null&&d(t,["instances[0]","image"],$c(s,o));const m=c(e,["config"]);return m!=null&&d(t,["config"],FE(s,m,t)),t}function $E(s,e){const t={},i=c(e,["fps"]);i!=null&&d(t,["fps"],i);const l=c(e,["endOffset"]);l!=null&&d(t,["endOffset"],l);const o=c(e,["startOffset"]);return o!=null&&d(t,["startOffset"],o),t}function ZE(s,e){const t={},i=c(e,["data"]);i!=null&&d(t,["data"],i);const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function KE(s,e){const t={},i=c(e,["fileUri"]);i!=null&&d(t,["fileUri"],i);const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function JE(s,e){const t={},i=c(e,["videoMetadata"]);i!=null&&d(t,["videoMetadata"],$E(s,i));const l=c(e,["thought"]);l!=null&&d(t,["thought"],l);const o=c(e,["inlineData"]);o!=null&&d(t,["inlineData"],ZE(s,o));const m=c(e,["fileData"]);m!=null&&d(t,["fileData"],KE(s,m));const g=c(e,["thoughtSignature"]);g!=null&&d(t,["thoughtSignature"],g);const x=c(e,["codeExecutionResult"]);x!=null&&d(t,["codeExecutionResult"],x);const p=c(e,["executableCode"]);p!=null&&d(t,["executableCode"],p);const v=c(e,["functionCall"]);v!=null&&d(t,["functionCall"],v);const _=c(e,["functionResponse"]);_!=null&&d(t,["functionResponse"],_);const b=c(e,["text"]);return b!=null&&d(t,["text"],b),t}function XE(s,e){const t={},i=c(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(m=>JE(s,m))),d(t,["parts"],o)}const l=c(e,["role"]);return l!=null&&d(t,["role"],l),t}function QE(s,e){const t={},i=c(e,["citationSources"]);return i!=null&&d(t,["citations"],i),t}function WE(s,e){const t={},i=c(e,["retrievedUrl"]);i!=null&&d(t,["retrievedUrl"],i);const l=c(e,["urlRetrievalStatus"]);return l!=null&&d(t,["urlRetrievalStatus"],l),t}function eA(s,e){const t={},i=c(e,["urlMetadata"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>WE(s,o))),d(t,["urlMetadata"],l)}return t}function tA(s,e){const t={},i=c(e,["content"]);i!=null&&d(t,["content"],XE(s,i));const l=c(e,["citationMetadata"]);l!=null&&d(t,["citationMetadata"],QE(s,l));const o=c(e,["tokenCount"]);o!=null&&d(t,["tokenCount"],o);const m=c(e,["finishReason"]);m!=null&&d(t,["finishReason"],m);const g=c(e,["urlContextMetadata"]);g!=null&&d(t,["urlContextMetadata"],eA(s,g));const x=c(e,["avgLogprobs"]);x!=null&&d(t,["avgLogprobs"],x);const p=c(e,["groundingMetadata"]);p!=null&&d(t,["groundingMetadata"],p);const v=c(e,["index"]);v!=null&&d(t,["index"],v);const _=c(e,["logprobsResult"]);_!=null&&d(t,["logprobsResult"],_);const b=c(e,["safetyRatings"]);return b!=null&&d(t,["safetyRatings"],b),t}function Eg(s,e){const t={},i=c(e,["candidates"]);if(i!=null){let g=i;Array.isArray(g)&&(g=g.map(x=>tA(s,x))),d(t,["candidates"],g)}const l=c(e,["modelVersion"]);l!=null&&d(t,["modelVersion"],l);const o=c(e,["promptFeedback"]);o!=null&&d(t,["promptFeedback"],o);const m=c(e,["usageMetadata"]);return m!=null&&d(t,["usageMetadata"],m),t}function nA(s,e){const t={},i=c(e,["values"]);return i!=null&&d(t,["values"],i),t}function aA(){return{}}function iA(s,e){const t={},i=c(e,["embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(m=>nA(s,m))),d(t,["embeddings"],o)}return c(e,["metadata"])!=null&&d(t,["metadata"],aA()),t}function sA(s,e){const t={},i=c(e,["bytesBase64Encoded"]);i!=null&&d(t,["imageBytes"],ma(s,i));const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function Ey(s,e){const t={},i=c(e,["safetyAttributes","categories"]);i!=null&&d(t,["categories"],i);const l=c(e,["safetyAttributes","scores"]);l!=null&&d(t,["scores"],l);const o=c(e,["contentType"]);return o!=null&&d(t,["contentType"],o),t}function lA(s,e){const t={},i=c(e,["_self"]);i!=null&&d(t,["image"],sA(s,i));const l=c(e,["raiFilteredReason"]);l!=null&&d(t,["raiFilteredReason"],l);const o=c(e,["_self"]);return o!=null&&d(t,["safetyAttributes"],Ey(s,o)),t}function rA(s,e){const t={},i=c(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(m=>lA(s,m))),d(t,["generatedImages"],o)}const l=c(e,["positivePromptSafetyAttributes"]);return l!=null&&d(t,["positivePromptSafetyAttributes"],Ey(s,l)),t}function oA(s,e){const t={},i=c(e,["baseModel"]);i!=null&&d(t,["baseModel"],i);const l=c(e,["createTime"]);l!=null&&d(t,["createTime"],l);const o=c(e,["updateTime"]);return o!=null&&d(t,["updateTime"],o),t}function Dc(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const l=c(e,["displayName"]);l!=null&&d(t,["displayName"],l);const o=c(e,["description"]);o!=null&&d(t,["description"],o);const m=c(e,["version"]);m!=null&&d(t,["version"],m);const g=c(e,["_self"]);g!=null&&d(t,["tunedModelInfo"],oA(s,g));const x=c(e,["inputTokenLimit"]);x!=null&&d(t,["inputTokenLimit"],x);const p=c(e,["outputTokenLimit"]);p!=null&&d(t,["outputTokenLimit"],p);const v=c(e,["supportedGenerationMethods"]);return v!=null&&d(t,["supportedActions"],v),t}function uA(s,e){const t={},i=c(e,["nextPageToken"]);i!=null&&d(t,["nextPageToken"],i);const l=c(e,["_self"]);if(l!=null){let o=yy(s,l);Array.isArray(o)&&(o=o.map(m=>Dc(s,m))),d(t,["models"],o)}return t}function cA(){return{}}function dA(s,e){const t={},i=c(e,["totalTokens"]);i!=null&&d(t,["totalTokens"],i);const l=c(e,["cachedContentTokenCount"]);return l!=null&&d(t,["cachedContentTokenCount"],l),t}function fA(s,e){const t={},i=c(e,["video","uri"]);i!=null&&d(t,["uri"],i);const l=c(e,["video","encodedVideo"]);l!=null&&d(t,["videoBytes"],ma(s,l));const o=c(e,["encoding"]);return o!=null&&d(t,["mimeType"],o),t}function mA(s,e){const t={},i=c(e,["_self"]);return i!=null&&d(t,["video"],fA(s,i)),t}function hA(s,e){const t={},i=c(e,["generatedSamples"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(g=>mA(s,g))),d(t,["generatedVideos"],m)}const l=c(e,["raiMediaFilteredCount"]);l!=null&&d(t,["raiMediaFilteredCount"],l);const o=c(e,["raiMediaFilteredReasons"]);return o!=null&&d(t,["raiMediaFilteredReasons"],o),t}function pA(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const l=c(e,["metadata"]);l!=null&&d(t,["metadata"],l);const o=c(e,["done"]);o!=null&&d(t,["done"],o);const m=c(e,["error"]);m!=null&&d(t,["error"],m);const g=c(e,["response","generateVideoResponse"]);return g!=null&&d(t,["response"],hA(s,g)),t}function gA(s,e){const t={},i=c(e,["fps"]);i!=null&&d(t,["fps"],i);const l=c(e,["endOffset"]);l!=null&&d(t,["endOffset"],l);const o=c(e,["startOffset"]);return o!=null&&d(t,["startOffset"],o),t}function yA(s,e){const t={},i=c(e,["displayName"]);i!=null&&d(t,["displayName"],i);const l=c(e,["data"]);l!=null&&d(t,["data"],l);const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function xA(s,e){const t={},i=c(e,["displayName"]);i!=null&&d(t,["displayName"],i);const l=c(e,["fileUri"]);l!=null&&d(t,["fileUri"],l);const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function vA(s,e){const t={},i=c(e,["videoMetadata"]);i!=null&&d(t,["videoMetadata"],gA(s,i));const l=c(e,["thought"]);l!=null&&d(t,["thought"],l);const o=c(e,["inlineData"]);o!=null&&d(t,["inlineData"],yA(s,o));const m=c(e,["fileData"]);m!=null&&d(t,["fileData"],xA(s,m));const g=c(e,["thoughtSignature"]);g!=null&&d(t,["thoughtSignature"],g);const x=c(e,["codeExecutionResult"]);x!=null&&d(t,["codeExecutionResult"],x);const p=c(e,["executableCode"]);p!=null&&d(t,["executableCode"],p);const v=c(e,["functionCall"]);v!=null&&d(t,["functionCall"],v);const _=c(e,["functionResponse"]);_!=null&&d(t,["functionResponse"],_);const b=c(e,["text"]);return b!=null&&d(t,["text"],b),t}function bA(s,e){const t={},i=c(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(m=>vA(s,m))),d(t,["parts"],o)}const l=c(e,["role"]);return l!=null&&d(t,["role"],l),t}function TA(s,e){const t={},i=c(e,["citations"]);return i!=null&&d(t,["citations"],i),t}function _A(s,e){const t={},i=c(e,["content"]);i!=null&&d(t,["content"],bA(s,i));const l=c(e,["citationMetadata"]);l!=null&&d(t,["citationMetadata"],TA(s,l));const o=c(e,["finishMessage"]);o!=null&&d(t,["finishMessage"],o);const m=c(e,["finishReason"]);m!=null&&d(t,["finishReason"],m);const g=c(e,["avgLogprobs"]);g!=null&&d(t,["avgLogprobs"],g);const x=c(e,["groundingMetadata"]);x!=null&&d(t,["groundingMetadata"],x);const p=c(e,["index"]);p!=null&&d(t,["index"],p);const v=c(e,["logprobsResult"]);v!=null&&d(t,["logprobsResult"],v);const _=c(e,["safetyRatings"]);return _!=null&&d(t,["safetyRatings"],_),t}function Ag(s,e){const t={},i=c(e,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(v=>_A(s,v))),d(t,["candidates"],p)}const l=c(e,["createTime"]);l!=null&&d(t,["createTime"],l);const o=c(e,["responseId"]);o!=null&&d(t,["responseId"],o);const m=c(e,["modelVersion"]);m!=null&&d(t,["modelVersion"],m);const g=c(e,["promptFeedback"]);g!=null&&d(t,["promptFeedback"],g);const x=c(e,["usageMetadata"]);return x!=null&&d(t,["usageMetadata"],x),t}function CA(s,e){const t={},i=c(e,["truncated"]);i!=null&&d(t,["truncated"],i);const l=c(e,["token_count"]);return l!=null&&d(t,["tokenCount"],l),t}function SA(s,e){const t={},i=c(e,["values"]);i!=null&&d(t,["values"],i);const l=c(e,["statistics"]);return l!=null&&d(t,["statistics"],CA(s,l)),t}function NA(s,e){const t={},i=c(e,["billableCharacterCount"]);return i!=null&&d(t,["billableCharacterCount"],i),t}function EA(s,e){const t={},i=c(e,["predictions[]","embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(m=>SA(s,m))),d(t,["embeddings"],o)}const l=c(e,["metadata"]);return l!=null&&d(t,["metadata"],NA(s,l)),t}function AA(s,e){const t={},i=c(e,["gcsUri"]);i!=null&&d(t,["gcsUri"],i);const l=c(e,["bytesBase64Encoded"]);l!=null&&d(t,["imageBytes"],ma(s,l));const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function Ay(s,e){const t={},i=c(e,["safetyAttributes","categories"]);i!=null&&d(t,["categories"],i);const l=c(e,["safetyAttributes","scores"]);l!=null&&d(t,["scores"],l);const o=c(e,["contentType"]);return o!=null&&d(t,["contentType"],o),t}function Zc(s,e){const t={},i=c(e,["_self"]);i!=null&&d(t,["image"],AA(s,i));const l=c(e,["raiFilteredReason"]);l!=null&&d(t,["raiFilteredReason"],l);const o=c(e,["_self"]);o!=null&&d(t,["safetyAttributes"],Ay(s,o));const m=c(e,["prompt"]);return m!=null&&d(t,["enhancedPrompt"],m),t}function wA(s,e){const t={},i=c(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(m=>Zc(s,m))),d(t,["generatedImages"],o)}const l=c(e,["positivePromptSafetyAttributes"]);return l!=null&&d(t,["positivePromptSafetyAttributes"],Ay(s,l)),t}function MA(s,e){const t={},i=c(e,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>Zc(s,o))),d(t,["generatedImages"],l)}return t}function RA(s,e){const t={},i=c(e,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>Zc(s,o))),d(t,["generatedImages"],l)}return t}function DA(s,e){const t={},i=c(e,["endpoint"]);i!=null&&d(t,["name"],i);const l=c(e,["deployedModelId"]);return l!=null&&d(t,["deployedModelId"],l),t}function IA(s,e){const t={},i=c(e,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&d(t,["baseModel"],i);const l=c(e,["createTime"]);l!=null&&d(t,["createTime"],l);const o=c(e,["updateTime"]);return o!=null&&d(t,["updateTime"],o),t}function UA(s,e){const t={},i=c(e,["checkpointId"]);i!=null&&d(t,["checkpointId"],i);const l=c(e,["epoch"]);l!=null&&d(t,["epoch"],l);const o=c(e,["step"]);return o!=null&&d(t,["step"],o),t}function Ic(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const l=c(e,["displayName"]);l!=null&&d(t,["displayName"],l);const o=c(e,["description"]);o!=null&&d(t,["description"],o);const m=c(e,["versionId"]);m!=null&&d(t,["version"],m);const g=c(e,["deployedModels"]);if(g!=null){let b=g;Array.isArray(b)&&(b=b.map(S=>DA(s,S))),d(t,["endpoints"],b)}const x=c(e,["labels"]);x!=null&&d(t,["labels"],x);const p=c(e,["_self"]);p!=null&&d(t,["tunedModelInfo"],IA(s,p));const v=c(e,["defaultCheckpointId"]);v!=null&&d(t,["defaultCheckpointId"],v);const _=c(e,["checkpoints"]);if(_!=null){let b=_;Array.isArray(b)&&(b=b.map(S=>UA(s,S))),d(t,["checkpoints"],b)}return t}function kA(s,e){const t={},i=c(e,["nextPageToken"]);i!=null&&d(t,["nextPageToken"],i);const l=c(e,["_self"]);if(l!=null){let o=yy(s,l);Array.isArray(o)&&(o=o.map(m=>Ic(s,m))),d(t,["models"],o)}return t}function LA(){return{}}function PA(s,e){const t={},i=c(e,["totalTokens"]);return i!=null&&d(t,["totalTokens"],i),t}function jA(s,e){const t={},i=c(e,["tokensInfo"]);return i!=null&&d(t,["tokensInfo"],i),t}function VA(s,e){const t={},i=c(e,["gcsUri"]);i!=null&&d(t,["uri"],i);const l=c(e,["bytesBase64Encoded"]);l!=null&&d(t,["videoBytes"],ma(s,l));const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function OA(s,e){const t={},i=c(e,["_self"]);return i!=null&&d(t,["video"],VA(s,i)),t}function BA(s,e){const t={},i=c(e,["videos"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(g=>OA(s,g))),d(t,["generatedVideos"],m)}const l=c(e,["raiMediaFilteredCount"]);l!=null&&d(t,["raiMediaFilteredCount"],l);const o=c(e,["raiMediaFilteredReasons"]);return o!=null&&d(t,["raiMediaFilteredReasons"],o),t}function qA(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const l=c(e,["metadata"]);l!=null&&d(t,["metadata"],l);const o=c(e,["done"]);o!=null&&d(t,["done"],o);const m=c(e,["error"]);m!=null&&d(t,["error"],m);const g=c(e,["response"]);return g!=null&&d(t,["response"],BA(s,g)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GA="Content-Type",zA="X-Server-Timeout",HA="User-Agent",Uc="x-goog-api-client",FA="1.3.0",YA=`google-genai-sdk/${FA}`,$A="v1beta1",ZA="v1beta",wg=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class wy extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class kc extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class KA{constructor(e){var t,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:$A,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:ZA,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,i){const l=[this.getRequestUrlInternal(t)];return i&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,t,i);if(e.queryParams)for(const[m,g]of Object.entries(e.queryParams))l.searchParams.append(m,String(g));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,t,e.abortSignal),this.unaryApiCall(l,o,e.httpMethod)}patchHttpOptions(e,t){const i=JSON.parse(JSON.stringify(e));for(const[l,o]of Object.entries(t))typeof o=="object"?i[l]=Object.assign(Object.assign({},i[l]),o):o!==void 0&&(i[l]=o);return i}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,t,i);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,t,e.abortSignal),this.streamApiCall(l,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,i){if(t&&t.timeout||i){const l=new AbortController,o=l.signal;t.timeout&&(t==null?void 0:t.timeout)>0&&setTimeout(()=>l.abort(),t.timeout),i&&i.addEventListener("abort",()=>{l.abort()}),e.signal=o}return e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async l=>(await Mg(l),new Ac(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async l=>(await Mg(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){var t;return wi(this,arguments,function*(){const l=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),o=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let m="";for(;;){const{done:g,value:x}=yield He(l.read());if(g){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=o.decode(x);try{const _=JSON.parse(p);if("error"in _){const b=JSON.parse(JSON.stringify(_.error)),S=b.status,N=b.code,E=`got status: ${S}. ${JSON.stringify(_)}`;if(N>=400&&N<500)throw new wy(E);if(N>=500&&N<600)throw new kc(E)}}catch(_){const b=_;if(b.name==="ClientError"||b.name==="ServerError")throw _}m+=p;let v=m.match(wg);for(;v;){const _=v[1];try{const b=new Response(_,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield He(new Ac(b)),m=m.slice(v[0].length),v=m.match(wg)}catch(b){throw new Error(`exception parsing stream chunk ${_}. ${b}`)}}}}finally{l.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},t=YA+" "+this.clientOptions.userAgentExtra;return e[HA]=t,e[Uc]=t,e[GA]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[i,l]of Object.entries(e.headers))t.append(i,l);e.timeout&&e.timeout>0&&t.append(zA,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var i;const l={};t!=null&&(l.mimeType=t.mimeType,l.name=t.name,l.displayName=t.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const o=this.clientOptions.uploader,m=await o.stat(e);l.sizeBytes=String(m.size);const g=(i=t==null?void 0:t.mimeType)!==null&&i!==void 0?i:m.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=g;const x=await this.fetchUploadUrl(l,t);return o.upload(e,x,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t){var i;let l={};t!=null&&t.httpOptions?l=t.httpOptions:l={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},m=await this.request({path:pe("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(i=m==null?void 0:m.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function Mg(s){var e;if(s===void 0)throw new kc("response is undefined");if(!s.ok){const t=s.status,i=s.statusText;let l;!((e=s.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await s.json():l={error:{message:await s.text(),code:s.status,status:s.statusText}};const o=`got status: ${t} ${i}. ${JSON.stringify(l)}`;throw t>=400&&t<500?new wy(o):t>=500&&t<600?new kc(o):new Error(o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const JA="mcp_used/unknown";function My(s){for(const e of s)if(Kc(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function Ry(s){var e;const t=(e=s[Uc])!==null&&e!==void 0?e:"";s[Uc]=(t+` ${JA}`).trimStart()}function XA(s){var e,t,i;return(i=(t=(e=s.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(l=>Kc(l)))!==null&&i!==void 0?i:!1}function QA(s){var e,t,i;return(i=(t=(e=s.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(l=>!Kc(l)))!==null&&i!==void 0?i:!1}function Kc(s){return s!==null&&typeof s=="object"&&s instanceof Jc}function WA(s,e=100){return wi(this,arguments,function*(){let i,l=0;for(;l<e;){const o=yield He(s.listTools({cursor:i}));for(const m of o.tools)yield yield He(m),l++;if(!o.nextCursor)break;i=o.nextCursor}})}class Jc{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new Jc(e,t)}async initialize(){var e,t,i,l;if(this.mcpTools.length>0)return;const o={},m=[];for(const v of this.mcpClients)try{for(var g=!0,x=(t=void 0,Ys(WA(v))),p;p=await x.next(),e=p.done,!e;g=!0){l=p.value,g=!1;const _=l;m.push(_);const b=_.name;if(o[b])throw new Error(`Duplicate function name ${b} found in MCP tools. Please ensure function names are unique.`);o[b]=v}}catch(_){t={error:_}}finally{try{!g&&!e&&(i=x.return)&&await i.call(x)}finally{if(t)throw t.error}}this.mcpTools=m,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),l_(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const o=await this.functionNameToMcpClient[i.name].callTool({name:i.name,arguments:i.args});t.push({functionResponse:{name:i.name,response:o.isError?{error:o}:o}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ew(s,e,t){const i=new $T;let l;t.data instanceof Blob?l=JSON.parse(await t.data.text()):l=JSON.parse(t.data);const o=mN(s,l);Object.assign(i,o),e(i)}class tw{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i}async connect(e){var t,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),m=iw(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),x=`${l}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${g}`;let p=()=>{};const v=new Promise(q=>{p=q}),_=e.callbacks,b=function(){p({})},S=this.apiClient,N={onopen:b,onmessage:q=>{ew(S,_.onmessage,q)},onerror:(t=_==null?void 0:_.onerror)!==null&&t!==void 0?t:function(q){},onclose:(i=_==null?void 0:_.onclose)!==null&&i!==void 0?i:function(q){}},E=this.webSocketFactory.create(x,aw(m),N);E.connect(),await v;const D=ze(this.apiClient,e.model),I=_y(this.apiClient,{model:D}),V=Rc(this.apiClient,{setup:I});return E.send(JSON.stringify(V)),new nw(E,this.apiClient)}}class nw{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=AS(this.apiClient,e),i=Cy(this.apiClient,t);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=wS(this.apiClient,e),i=Rc(this.apiClient,t);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const t=Rc(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Ni.PLAY)}pause(){this.sendPlaybackControl(Ni.PAUSE)}stop(){this.sendPlaybackControl(Ni.STOP)}resetContext(){this.sendPlaybackControl(Ni.RESET_CONTEXT)}close(){this.conn.close()}}function aw(s){const e={};return s.forEach((t,i)=>{e[i]=t}),e}function iw(s){const e=new Headers;for(const[t,i]of Object.entries(s))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sw="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function lw(s,e,t){const i=new YT;let l;if(t.data instanceof Blob?l=JSON.parse(await t.data.text()):l=JSON.parse(t.data),s.isVertexAI()){const o=iN(s,l);Object.assign(i,o)}else{const o=aN(s,l);Object.assign(i,o)}e(i)}class rw{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i,this.music=new tw(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,i,l,o,m,g;const x=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let v;const _=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&My(e.config.tools)&&Ry(_);const b=dw(_);if(this.apiClient.isVertexAI())v=`${x}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(b);else{const te=this.apiClient.getApiKey();let ue="BidiGenerateContent",Ue="key";te!=null&&te.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),ue="BidiGenerateContentConstrained",Ue="access_token"),v=`${x}/ws/google.ai.generativelanguage.${p}.GenerativeService.${ue}?${Ue}=${te}`}let S=()=>{};const N=new Promise(te=>{S=te}),E=e.callbacks,D=function(){var te;(te=E==null?void 0:E.onopen)===null||te===void 0||te.call(E),S({})},I=this.apiClient,V={onopen:D,onmessage:te=>{lw(I,E.onmessage,te)},onerror:(t=E==null?void 0:E.onerror)!==null&&t!==void 0?t:function(te){},onclose:(i=E==null?void 0:E.onclose)!==null&&i!==void 0?i:function(te){}},q=this.webSocketFactory.create(v,cw(b),V);q.connect(),await N;let Z=ze(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&Z.startsWith("publishers/")){const te=this.apiClient.getProject(),ue=this.apiClient.getLocation();Z=`projects/${te}/locations/${ue}/`+Z}let F={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ir.AUDIO]}:e.config.responseModalities=[Ir.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ae=(g=(m=e.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[],z=[];for(const te of ae)if(this.isCallableTool(te)){const ue=te;z.push(await ue.tool())}else z.push(te);z.length>0&&(e.config.tools=z);const J={model:Z,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?F=bS(this.apiClient,J):F=vS(this.apiClient,J),delete F.config,q.send(JSON.stringify(F)),new uw(q,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const ow={turnComplete:!0};class uw{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let i=[];try{i=en(e,t.turns),e.isVertexAI()?i=i.map(l=>Vi(e,l)):i=i.map(l=>Or(e,l))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let i=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?i=t.functionResponses:i=[t.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const o of i){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(sw)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},ow),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:ES(this.apiClient,e)}:t={realtimeInput:NS(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function cw(s){const e={};return s.forEach((t,i)=>{e[i]=t}),e}function dw(s){const e=new Headers;for(const[t,i]of Object.entries(s))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rg=10;function Dg(s){var e,t,i;if(!((e=s==null?void 0:s.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const m of(t=s==null?void 0:s.tools)!==null&&t!==void 0?t:[])if(Cr(m)){l=!0;break}if(!l)return!0;const o=(i=s==null?void 0:s.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Cr(s){return"callTool"in s&&typeof s.callTool=="function"}function Ig(s){var e;return!(!((e=s==null?void 0:s.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fw extends ji{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var i,l,o,m,g;const x=await this.processParamsForMcpUsage(t);if(!XA(t)||Dg(t.config))return await this.generateContentInternal(x);if(QA(t))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,v;const _=en(this.apiClient,x.contents),b=(o=(l=(i=x.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&o!==void 0?o:Rg;let S=0;for(;S<b&&(p=await this.generateContentInternal(x),!(!p.functionCalls||p.functionCalls.length===0));){const N=p.candidates[0].content,E=[];for(const D of(g=(m=t.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[])if(Cr(D)){const V=await D.callTool(p.functionCalls);E.push(...V)}S++,v={role:"user",parts:E},x.contents=en(this.apiClient,x.contents),x.contents.push(N),x.contents.push(v),Ig(x.config)&&(_.push(N),_.push(v))}return Ig(x.config)&&(p.automaticFunctionCallingHistory=_),p},this.generateContentStream=async t=>{if(Dg(t.config)){const i=await this.processParamsForMcpUsage(t);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(i=>{var l;let o;const m=[];if(i!=null&&i.generatedImages)for(const x of i.generatedImages)x&&(x!=null&&x.safetyAttributes)&&((l=x==null?void 0:x.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?o=x==null?void 0:x.safetyAttributes:m.push(x);let g;return o?g={generatedImages:m,positivePromptSafetyAttributes:o}:g={generatedImages:m},g}),this.list=async t=>{var i;const m={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((i=m.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new Vr(ki.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(m),m)},this.editImage=async t=>{const i={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(i.referenceImages=t.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async t=>{let i={numberOfImages:1,mode:"upscale"};t.config&&(i=Object.assign(Object.assign({},i),t.config));const l={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:i};return await this.upscaleImageInternal(l)}}async processParamsForMcpUsage(e){var t,i,l;const o=(t=e.config)===null||t===void 0?void 0:t.tools;if(!o)return e;const m=await Promise.all(o.map(async x=>Cr(x)?await x.tool():x)),g={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:m})};if(g.config.tools=m,e.config&&e.config.tools&&My(e.config.tools)){const x=(l=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&l!==void 0?l:{};let p=Object.assign({},x);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),Ry(p),g.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return g}async initAfcToolsMap(e){var t,i,l;const o=new Map;for(const m of(i=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&i!==void 0?i:[])if(Cr(m)){const g=m,x=await g.tool();for(const p of(l=x.functionDeclarations)!==null&&l!==void 0?l:[]){if(!p.name)throw new Error("Function declaration name is required.");if(o.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);o.set(p.name,g)}}return o}async processAfcStream(e){var t,i,l;const o=(l=(i=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&l!==void 0?l:Rg;let m=!1,g=0;const x=await this.initAfcToolsMap(e);return function(p,v,_){var b,S;return wi(this,arguments,function*(){for(var N,E,D,I;g<o;){m&&(g++,m=!1);const F=yield He(p.processParamsForMcpUsage(_)),ae=yield He(p.generateContentStreamInternal(F)),z=[],J=[];try{for(var V=!0,q=(E=void 0,Ys(ae)),Z;Z=yield He(q.next()),N=Z.done,!N;V=!0){I=Z.value,V=!1;const te=I;if(yield yield He(te),te.candidates&&(!((b=te.candidates[0])===null||b===void 0)&&b.content)){J.push(te.candidates[0].content);for(const ue of(S=te.candidates[0].content.parts)!==null&&S!==void 0?S:[])if(g<o&&ue.functionCall){if(!ue.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ue.functionCall.name)){const Ue=yield He(v.get(ue.functionCall.name).callTool([ue.functionCall]));z.push(...Ue)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ue.functionCall.name}`)}}}}catch(te){E={error:te}}finally{try{!V&&!N&&(D=q.return)&&(yield He(D.call(q)))}finally{if(E)throw E.error}}if(z.length>0){m=!0;const te=new qs;te.candidates=[{content:{role:"user",parts:z}}],yield yield He(te);const ue=[];ue.push(...J),ue.push({role:"user",parts:z});const Ue=en(p.apiClient,_.contents).concat(ue);_.contents=Ue}else break}})}(this,x,e)}async generateContentInternal(e){var t,i,l,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=Ng(this.apiClient,e);return g=pe("{model}:generateContent",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),m.then(v=>{const _=Ag(this.apiClient,v),b=new qs;return Object.assign(b,_),b})}else{const p=Sg(this.apiClient,e);return g=pe("{model}:generateContent",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>{const _=Eg(this.apiClient,v),b=new qs;return Object.assign(b,_),b})}}async generateContentStreamInternal(e){var t,i,l,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=Ng(this.apiClient,e);g=pe("{model}:streamGenerateContent?alt=sse",p._url),x=p._query,delete p.config,delete p._url,delete p._query;const v=this.apiClient;return m=v.requestStream({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),m.then(function(_){return wi(this,arguments,function*(){var b,S,N,E;try{for(var D=!0,I=Ys(_),V;V=yield He(I.next()),b=V.done,!b;D=!0){E=V.value,D=!1;const Z=Ag(v,yield He(E.json())),F=new qs;Object.assign(F,Z),yield yield He(F)}}catch(q){S={error:q}}finally{try{!D&&!b&&(N=I.return)&&(yield He(N.call(I)))}finally{if(S)throw S.error}}})})}else{const p=Sg(this.apiClient,e);g=pe("{model}:streamGenerateContent?alt=sse",p._url),x=p._query,delete p.config,delete p._url,delete p._query;const v=this.apiClient;return m=v.requestStream({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),m.then(function(_){return wi(this,arguments,function*(){var b,S,N,E;try{for(var D=!0,I=Ys(_),V;V=yield He(I.next()),b=V.done,!b;D=!0){E=V.value,D=!1;const Z=Eg(v,yield He(E.json())),F=new qs;Object.assign(F,Z),yield yield He(F)}}catch(q){S={error:q}}finally{try{!D&&!b&&(N=I.return)&&(yield He(N.call(I)))}finally{if(S)throw S.error}}})})}}async embedContent(e){var t,i,l,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=SE(this.apiClient,e);return g=pe("{model}:predict",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),m.then(v=>{const _=EA(this.apiClient,v),b=new ig;return Object.assign(b,_),b})}else{const p=VN(this.apiClient,e);return g=pe("{model}:batchEmbedContents",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>{const _=iA(this.apiClient,v),b=new ig;return Object.assign(b,_),b})}}async generateImagesInternal(e){var t,i,l,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=EE(this.apiClient,e);return g=pe("{model}:predict",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),m.then(v=>{const _=wA(this.apiClient,v),b=new sg;return Object.assign(b,_),b})}else{const p=BN(this.apiClient,e);return g=pe("{model}:predict",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>{const _=rA(this.apiClient,v),b=new sg;return Object.assign(b,_),b})}}async editImageInternal(e){var t,i;let l,o="",m={};if(this.apiClient.isVertexAI()){const g=UE(this.apiClient,e);return o=pe("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,l=this.apiClient.request({path:o,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),l.then(x=>{const p=MA(this.apiClient,x),v=new BT;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,i;let l,o="",m={};if(this.apiClient.isVertexAI()){const g=LE(this.apiClient,e);return o=pe("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,l=this.apiClient.request({path:o,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),l.then(x=>{const p=RA(this.apiClient,x),v=new qT;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,i,l,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=PE(this.apiClient,e);return g=pe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),m.then(v=>Ic(this.apiClient,v))}else{const p=qN(this.apiClient,e);return g=pe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>Dc(this.apiClient,v))}}async listInternal(e){var t,i,l,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=VE(this.apiClient,e);return g=pe("{models_url}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),m.then(v=>{const _=kA(this.apiClient,v),b=new lg;return Object.assign(b,_),b})}else{const p=zN(this.apiClient,e);return g=pe("{models_url}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>{const _=uA(this.apiClient,v),b=new lg;return Object.assign(b,_),b})}}async update(e){var t,i,l,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=BE(this.apiClient,e);return g=pe("{model}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),m.then(v=>Ic(this.apiClient,v))}else{const p=FN(this.apiClient,e);return g=pe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>Dc(this.apiClient,v))}}async delete(e){var t,i,l,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=qE(this.apiClient,e);return g=pe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),m.then(()=>{const v=LA(),_=new rg;return Object.assign(_,v),_})}else{const p=YN(this.apiClient,e);return g=pe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(()=>{const v=cA(),_=new rg;return Object.assign(_,v),_})}}async countTokens(e){var t,i,l,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=zE(this.apiClient,e);return g=pe("{model}:countTokens",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),m.then(v=>{const _=PA(this.apiClient,v),b=new og;return Object.assign(b,_),b})}else{const p=ZN(this.apiClient,e);return g=pe("{model}:countTokens",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>{const _=dA(this.apiClient,v),b=new og;return Object.assign(b,_),b})}}async computeTokens(e){var t,i;let l,o="",m={};if(this.apiClient.isVertexAI()){const g=HE(this.apiClient,e);return o=pe("{model}:computeTokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query,l=this.apiClient.request({path:o,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),l.then(x=>{const p=jA(this.apiClient,x),v=new GT;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,i,l,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=YE(this.apiClient,e);return g=pe("{model}:predictLongRunning",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),m.then(v=>qA(this.apiClient,v))}else{const p=XN(this.apiClient,e);return g=pe("{model}:predictLongRunning",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>pA(this.apiClient,v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mw(s,e){const t={},i=c(e,["operationName"]);i!=null&&d(t,["_url","operationName"],i);const l=c(e,["config"]);return l!=null&&d(t,["config"],l),t}function hw(s,e){const t={},i=c(e,["operationName"]);i!=null&&d(t,["_url","operationName"],i);const l=c(e,["config"]);return l!=null&&d(t,["config"],l),t}function pw(s,e){const t={},i=c(e,["operationName"]);i!=null&&d(t,["operationName"],i);const l=c(e,["resourceName"]);l!=null&&d(t,["_url","resourceName"],l);const o=c(e,["config"]);return o!=null&&d(t,["config"],o),t}function gw(s,e){const t={},i=c(e,["video","uri"]);i!=null&&d(t,["uri"],i);const l=c(e,["video","encodedVideo"]);l!=null&&d(t,["videoBytes"],ma(s,l));const o=c(e,["encoding"]);return o!=null&&d(t,["mimeType"],o),t}function yw(s,e){const t={},i=c(e,["_self"]);return i!=null&&d(t,["video"],gw(s,i)),t}function xw(s,e){const t={},i=c(e,["generatedSamples"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(g=>yw(s,g))),d(t,["generatedVideos"],m)}const l=c(e,["raiMediaFilteredCount"]);l!=null&&d(t,["raiMediaFilteredCount"],l);const o=c(e,["raiMediaFilteredReasons"]);return o!=null&&d(t,["raiMediaFilteredReasons"],o),t}function vw(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const l=c(e,["metadata"]);l!=null&&d(t,["metadata"],l);const o=c(e,["done"]);o!=null&&d(t,["done"],o);const m=c(e,["error"]);m!=null&&d(t,["error"],m);const g=c(e,["response","generateVideoResponse"]);return g!=null&&d(t,["response"],xw(s,g)),t}function bw(s,e){const t={},i=c(e,["gcsUri"]);i!=null&&d(t,["uri"],i);const l=c(e,["bytesBase64Encoded"]);l!=null&&d(t,["videoBytes"],ma(s,l));const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function Tw(s,e){const t={},i=c(e,["_self"]);return i!=null&&d(t,["video"],bw(s,i)),t}function _w(s,e){const t={},i=c(e,["videos"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(g=>Tw(s,g))),d(t,["generatedVideos"],m)}const l=c(e,["raiMediaFilteredCount"]);l!=null&&d(t,["raiMediaFilteredCount"],l);const o=c(e,["raiMediaFilteredReasons"]);return o!=null&&d(t,["raiMediaFilteredReasons"],o),t}function Ug(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const l=c(e,["metadata"]);l!=null&&d(t,["metadata"],l);const o=c(e,["done"]);o!=null&&d(t,["done"],o);const m=c(e,["error"]);m!=null&&d(t,["error"],m);const g=c(e,["response"]);return g!=null&&d(t,["response"],_w(s,g)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cw extends ji{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=t.name.split("/operations/")[0];let o;return i&&"httpOptions"in i&&(o=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:l,config:{httpOptions:o}})}else return this.getVideosOperationInternal({operationName:t.name,config:i})}async getVideosOperationInternal(e){var t,i,l,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=hw(this.apiClient,e);return g=pe("{operationName}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),m.then(v=>Ug(this.apiClient,v))}else{const p=mw(this.apiClient,e);return g=pe("{operationName}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>vw(this.apiClient,v))}}async fetchPredictVideosOperationInternal(e){var t,i;let l,o="",m={};if(this.apiClient.isVertexAI()){const g=pw(this.apiClient,e);return o=pe("{resourceName}:fetchPredictOperation",g._url),m=g._query,delete g.config,delete g._url,delete g._query,l=this.apiClient.request({path:o,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),l.then(x=>Ug(this.apiClient,x))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sw(s,e){const t={},i=c(e,["voiceName"]);return i!=null&&d(t,["voiceName"],i),t}function Dy(s,e){const t={},i=c(e,["prebuiltVoiceConfig"]);return i!=null&&d(t,["prebuiltVoiceConfig"],Sw(s,i)),t}function Nw(s,e){const t={},i=c(e,["speaker"]);i!=null&&d(t,["speaker"],i);const l=c(e,["voiceConfig"]);return l!=null&&d(t,["voiceConfig"],Dy(s,l)),t}function Ew(s,e){const t={},i=c(e,["speakerVoiceConfigs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>Nw(s,o))),d(t,["speakerVoiceConfigs"],l)}return t}function Aw(s,e){const t={},i=c(e,["voiceConfig"]);i!=null&&d(t,["voiceConfig"],Dy(s,i));const l=c(e,["multiSpeakerVoiceConfig"]);l!=null&&d(t,["multiSpeakerVoiceConfig"],Ew(s,l));const o=c(e,["languageCode"]);return o!=null&&d(t,["languageCode"],o),t}function ww(s,e){const t={},i=c(e,["fps"]);i!=null&&d(t,["fps"],i);const l=c(e,["endOffset"]);l!=null&&d(t,["endOffset"],l);const o=c(e,["startOffset"]);return o!=null&&d(t,["startOffset"],o),t}function Mw(s,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(e,["data"]);i!=null&&d(t,["data"],i);const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function Rw(s,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(e,["fileUri"]);i!=null&&d(t,["fileUri"],i);const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function Dw(s,e){const t={},i=c(e,["videoMetadata"]);i!=null&&d(t,["videoMetadata"],ww(s,i));const l=c(e,["thought"]);l!=null&&d(t,["thought"],l);const o=c(e,["inlineData"]);o!=null&&d(t,["inlineData"],Mw(s,o));const m=c(e,["fileData"]);m!=null&&d(t,["fileData"],Rw(s,m));const g=c(e,["thoughtSignature"]);g!=null&&d(t,["thoughtSignature"],g);const x=c(e,["codeExecutionResult"]);x!=null&&d(t,["codeExecutionResult"],x);const p=c(e,["executableCode"]);p!=null&&d(t,["executableCode"],p);const v=c(e,["functionCall"]);v!=null&&d(t,["functionCall"],v);const _=c(e,["functionResponse"]);_!=null&&d(t,["functionResponse"],_);const b=c(e,["text"]);return b!=null&&d(t,["text"],b),t}function Iw(s,e){const t={},i=c(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(m=>Dw(s,m))),d(t,["parts"],o)}const l=c(e,["role"]);return l!=null&&d(t,["role"],l),t}function Uw(s,e){const t={},i=c(e,["behavior"]);i!=null&&d(t,["behavior"],i);const l=c(e,["description"]);l!=null&&d(t,["description"],l);const o=c(e,["name"]);o!=null&&d(t,["name"],o);const m=c(e,["parameters"]);m!=null&&d(t,["parameters"],m);const g=c(e,["response"]);return g!=null&&d(t,["response"],g),t}function kw(s,e){const t={},i=c(e,["startTime"]);i!=null&&d(t,["startTime"],i);const l=c(e,["endTime"]);return l!=null&&d(t,["endTime"],l),t}function Lw(s,e){const t={},i=c(e,["timeRangeFilter"]);return i!=null&&d(t,["timeRangeFilter"],kw(s,i)),t}function Pw(s,e){const t={},i=c(e,["mode"]);i!=null&&d(t,["mode"],i);const l=c(e,["dynamicThreshold"]);return l!=null&&d(t,["dynamicThreshold"],l),t}function jw(s,e){const t={},i=c(e,["dynamicRetrievalConfig"]);return i!=null&&d(t,["dynamicRetrievalConfig"],Pw(s,i)),t}function Vw(){return{}}function Ow(s,e){const t={},i=c(e,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(p=>Uw(s,p))),d(t,["functionDeclarations"],x)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(e,["googleSearch"]);l!=null&&d(t,["googleSearch"],Lw(s,l));const o=c(e,["googleSearchRetrieval"]);if(o!=null&&d(t,["googleSearchRetrieval"],jw(s,o)),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(e,["urlContext"])!=null&&d(t,["urlContext"],Vw());const g=c(e,["codeExecution"]);return g!=null&&d(t,["codeExecution"],g),t}function Bw(s,e){const t={},i=c(e,["handle"]);if(i!=null&&d(t,["handle"],i),c(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function kg(){return{}}function qw(s,e){const t={},i=c(e,["disabled"]);i!=null&&d(t,["disabled"],i);const l=c(e,["startOfSpeechSensitivity"]);l!=null&&d(t,["startOfSpeechSensitivity"],l);const o=c(e,["endOfSpeechSensitivity"]);o!=null&&d(t,["endOfSpeechSensitivity"],o);const m=c(e,["prefixPaddingMs"]);m!=null&&d(t,["prefixPaddingMs"],m);const g=c(e,["silenceDurationMs"]);return g!=null&&d(t,["silenceDurationMs"],g),t}function Gw(s,e){const t={},i=c(e,["automaticActivityDetection"]);i!=null&&d(t,["automaticActivityDetection"],qw(s,i));const l=c(e,["activityHandling"]);l!=null&&d(t,["activityHandling"],l);const o=c(e,["turnCoverage"]);return o!=null&&d(t,["turnCoverage"],o),t}function zw(s,e){const t={},i=c(e,["targetTokens"]);return i!=null&&d(t,["targetTokens"],i),t}function Hw(s,e){const t={},i=c(e,["triggerTokens"]);i!=null&&d(t,["triggerTokens"],i);const l=c(e,["slidingWindow"]);return l!=null&&d(t,["slidingWindow"],zw(s,l)),t}function Fw(s,e){const t={},i=c(e,["proactiveAudio"]);return i!=null&&d(t,["proactiveAudio"],i),t}function Yw(s,e,t){const i={},l=c(e,["generationConfig"]);t!==void 0&&l!=null&&d(t,["setup","generationConfig"],l);const o=c(e,["responseModalities"]);t!==void 0&&o!=null&&d(t,["setup","generationConfig","responseModalities"],o);const m=c(e,["temperature"]);t!==void 0&&m!=null&&d(t,["setup","generationConfig","temperature"],m);const g=c(e,["topP"]);t!==void 0&&g!=null&&d(t,["setup","generationConfig","topP"],g);const x=c(e,["topK"]);t!==void 0&&x!=null&&d(t,["setup","generationConfig","topK"],x);const p=c(e,["maxOutputTokens"]);t!==void 0&&p!=null&&d(t,["setup","generationConfig","maxOutputTokens"],p);const v=c(e,["mediaResolution"]);t!==void 0&&v!=null&&d(t,["setup","generationConfig","mediaResolution"],v);const _=c(e,["seed"]);t!==void 0&&_!=null&&d(t,["setup","generationConfig","seed"],_);const b=c(e,["speechConfig"]);t!==void 0&&b!=null&&d(t,["setup","generationConfig","speechConfig"],Aw(s,Yc(s,b)));const S=c(e,["enableAffectiveDialog"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],S);const N=c(e,["systemInstruction"]);t!==void 0&&N!=null&&d(t,["setup","systemInstruction"],Iw(s,yt(s,N)));const E=c(e,["tools"]);if(t!==void 0&&E!=null){let ae=el(s,E);Array.isArray(ae)&&(ae=ae.map(z=>Ow(s,Ws(s,z)))),d(t,["setup","tools"],ae)}const D=c(e,["sessionResumption"]);t!==void 0&&D!=null&&d(t,["setup","sessionResumption"],Bw(s,D));const I=c(e,["inputAudioTranscription"]);t!==void 0&&I!=null&&d(t,["setup","inputAudioTranscription"],kg());const V=c(e,["outputAudioTranscription"]);t!==void 0&&V!=null&&d(t,["setup","outputAudioTranscription"],kg());const q=c(e,["realtimeInputConfig"]);t!==void 0&&q!=null&&d(t,["setup","realtimeInputConfig"],Gw(s,q));const Z=c(e,["contextWindowCompression"]);t!==void 0&&Z!=null&&d(t,["setup","contextWindowCompression"],Hw(s,Z));const F=c(e,["proactivity"]);return t!==void 0&&F!=null&&d(t,["setup","proactivity"],Fw(s,F)),i}function $w(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["setup","model"],ze(s,i));const l=c(e,["config"]);return l!=null&&d(t,["config"],Yw(s,l,t)),t}function Zw(s,e,t){const i={},l=c(e,["expireTime"]);t!==void 0&&l!=null&&d(t,["expireTime"],l);const o=c(e,["newSessionExpireTime"]);t!==void 0&&o!=null&&d(t,["newSessionExpireTime"],o);const m=c(e,["uses"]);t!==void 0&&m!=null&&d(t,["uses"],m);const g=c(e,["liveConnectConstraints"]);t!==void 0&&g!=null&&d(t,["bidiGenerateContentSetup"],$w(s,g));const x=c(e,["lockAdditionalFields"]);return t!==void 0&&x!=null&&d(t,["fieldMask"],x),i}function Kw(s,e){const t={},i=c(e,["config"]);return i!=null&&d(t,["config"],Zw(s,i,t)),t}function Jw(s,e){const t={},i=c(e,["name"]);return i!=null&&d(t,["name"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xw(s){const e=[];for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t)){const i=s[t];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const l=Object.keys(i).map(o=>`${t}.${o}`);e.push(...l)}else e.push(t)}return e.join(",")}function Qw(s,e){let t=null;const i=s.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const o=i.setup;typeof o=="object"&&o!==null?(s.bidiGenerateContentSetup=o,t=o):delete s.bidiGenerateContentSetup}else i!==void 0&&delete s.bidiGenerateContentSetup;const l=s.fieldMask;if(t){const o=Xw(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?s.fieldMask=o:delete s.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];l.length>0&&(g=l.map(p=>m.includes(p)?`generationConfig.${p}`:p));const x=[];o&&x.push(o),g.length>0&&x.push(...g),x.length>0?s.fieldMask=x.join(","):delete s.fieldMask}else delete s.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?s.fieldMask=l.join(","):delete s.fieldMask;return s}class Ww extends ji{constructor(e){super(),this.apiClient=e}async create(e){var t,i;let l,o="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=Kw(this.apiClient,e);o=pe("auth_tokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query;const x=Qw(g,e.config);return l=this.apiClient.request({path:o,queryParams:m,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(p=>Jw(this.apiClient,p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eM(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["_url","name"],i);const l=c(e,["config"]);return l!=null&&d(t,["config"],l),t}function tM(s,e,t){const i={},l=c(e,["pageSize"]);t!==void 0&&l!=null&&d(t,["_query","pageSize"],l);const o=c(e,["pageToken"]);t!==void 0&&o!=null&&d(t,["_query","pageToken"],o);const m=c(e,["filter"]);return t!==void 0&&m!=null&&d(t,["_query","filter"],m),i}function nM(s,e){const t={},i=c(e,["config"]);return i!=null&&d(t,["config"],tM(s,i,t)),t}function aM(s,e){const t={},i=c(e,["textInput"]);i!=null&&d(t,["textInput"],i);const l=c(e,["output"]);return l!=null&&d(t,["output"],l),t}function iM(s,e){const t={};if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=c(e,["examples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>aM(s,o))),d(t,["examples","examples"],l)}return t}function sM(s,e,t){const i={};if(c(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=c(e,["tunedModelDisplayName"]);if(t!==void 0&&l!=null&&d(t,["displayName"],l),c(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=c(e,["epochCount"]);t!==void 0&&o!=null&&d(t,["tuningTask","hyperparameters","epochCount"],o);const m=c(e,["learningRateMultiplier"]);if(m!=null&&d(i,["tuningTask","hyperparameters","learningRateMultiplier"],m),c(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=c(e,["batchSize"]);t!==void 0&&g!=null&&d(t,["tuningTask","hyperparameters","batchSize"],g);const x=c(e,["learningRate"]);return t!==void 0&&x!=null&&d(t,["tuningTask","hyperparameters","learningRate"],x),i}function lM(s,e){const t={},i=c(e,["baseModel"]);i!=null&&d(t,["baseModel"],i);const l=c(e,["trainingDataset"]);l!=null&&d(t,["tuningTask","trainingData"],iM(s,l));const o=c(e,["config"]);return o!=null&&d(t,["config"],sM(s,o,t)),t}function rM(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["_url","name"],i);const l=c(e,["config"]);return l!=null&&d(t,["config"],l),t}function oM(s,e,t){const i={},l=c(e,["pageSize"]);t!==void 0&&l!=null&&d(t,["_query","pageSize"],l);const o=c(e,["pageToken"]);t!==void 0&&o!=null&&d(t,["_query","pageToken"],o);const m=c(e,["filter"]);return t!==void 0&&m!=null&&d(t,["_query","filter"],m),i}function uM(s,e){const t={},i=c(e,["config"]);return i!=null&&d(t,["config"],oM(s,i,t)),t}function cM(s,e,t){const i={},l=c(e,["gcsUri"]);if(t!==void 0&&l!=null&&d(t,["supervisedTuningSpec","trainingDatasetUri"],l),c(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function dM(s,e){const t={},i=c(e,["gcsUri"]);return i!=null&&d(t,["validationDatasetUri"],i),t}function fM(s,e,t){const i={},l=c(e,["validationDataset"]);t!==void 0&&l!=null&&d(t,["supervisedTuningSpec"],dM(s,l));const o=c(e,["tunedModelDisplayName"]);t!==void 0&&o!=null&&d(t,["tunedModelDisplayName"],o);const m=c(e,["description"]);t!==void 0&&m!=null&&d(t,["description"],m);const g=c(e,["epochCount"]);t!==void 0&&g!=null&&d(t,["supervisedTuningSpec","hyperParameters","epochCount"],g);const x=c(e,["learningRateMultiplier"]);t!==void 0&&x!=null&&d(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x);const p=c(e,["exportLastCheckpointOnly"]);t!==void 0&&p!=null&&d(t,["supervisedTuningSpec","exportLastCheckpointOnly"],p);const v=c(e,["adapterSize"]);if(t!==void 0&&v!=null&&d(t,["supervisedTuningSpec","hyperParameters","adapterSize"],v),c(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return i}function mM(s,e){const t={},i=c(e,["baseModel"]);i!=null&&d(t,["baseModel"],i);const l=c(e,["trainingDataset"]);l!=null&&d(t,["supervisedTuningSpec","trainingDatasetUri"],cM(s,l,t));const o=c(e,["config"]);return o!=null&&d(t,["config"],fM(s,o,t)),t}function hM(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["model"],i);const l=c(e,["name"]);return l!=null&&d(t,["endpoint"],l),t}function Iy(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const l=c(e,["state"]);l!=null&&d(t,["state"],hy(s,l));const o=c(e,["createTime"]);o!=null&&d(t,["createTime"],o);const m=c(e,["tuningTask","startTime"]);m!=null&&d(t,["startTime"],m);const g=c(e,["tuningTask","completeTime"]);g!=null&&d(t,["endTime"],g);const x=c(e,["updateTime"]);x!=null&&d(t,["updateTime"],x);const p=c(e,["description"]);p!=null&&d(t,["description"],p);const v=c(e,["baseModel"]);v!=null&&d(t,["baseModel"],v);const _=c(e,["_self"]);_!=null&&d(t,["tunedModel"],hM(s,_));const b=c(e,["distillationSpec"]);b!=null&&d(t,["distillationSpec"],b);const S=c(e,["experiment"]);S!=null&&d(t,["experiment"],S);const N=c(e,["labels"]);N!=null&&d(t,["labels"],N);const E=c(e,["pipelineJob"]);E!=null&&d(t,["pipelineJob"],E);const D=c(e,["serviceAccount"]);D!=null&&d(t,["serviceAccount"],D);const I=c(e,["tunedModelDisplayName"]);return I!=null&&d(t,["tunedModelDisplayName"],I),t}function pM(s,e){const t={},i=c(e,["nextPageToken"]);i!=null&&d(t,["nextPageToken"],i);const l=c(e,["tunedModels"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(m=>Iy(s,m))),d(t,["tuningJobs"],o)}return t}function gM(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const l=c(e,["metadata"]);l!=null&&d(t,["metadata"],l);const o=c(e,["done"]);o!=null&&d(t,["done"],o);const m=c(e,["error"]);return m!=null&&d(t,["error"],m),t}function yM(s,e){const t={},i=c(e,["checkpointId"]);i!=null&&d(t,["checkpointId"],i);const l=c(e,["epoch"]);l!=null&&d(t,["epoch"],l);const o=c(e,["step"]);o!=null&&d(t,["step"],o);const m=c(e,["endpoint"]);return m!=null&&d(t,["endpoint"],m),t}function xM(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["model"],i);const l=c(e,["endpoint"]);l!=null&&d(t,["endpoint"],l);const o=c(e,["checkpoints"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(g=>yM(s,g))),d(t,["checkpoints"],m)}return t}function Lc(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const l=c(e,["state"]);l!=null&&d(t,["state"],hy(s,l));const o=c(e,["createTime"]);o!=null&&d(t,["createTime"],o);const m=c(e,["startTime"]);m!=null&&d(t,["startTime"],m);const g=c(e,["endTime"]);g!=null&&d(t,["endTime"],g);const x=c(e,["updateTime"]);x!=null&&d(t,["updateTime"],x);const p=c(e,["error"]);p!=null&&d(t,["error"],p);const v=c(e,["description"]);v!=null&&d(t,["description"],v);const _=c(e,["baseModel"]);_!=null&&d(t,["baseModel"],_);const b=c(e,["tunedModel"]);b!=null&&d(t,["tunedModel"],xM(s,b));const S=c(e,["supervisedTuningSpec"]);S!=null&&d(t,["supervisedTuningSpec"],S);const N=c(e,["tuningDataStats"]);N!=null&&d(t,["tuningDataStats"],N);const E=c(e,["encryptionSpec"]);E!=null&&d(t,["encryptionSpec"],E);const D=c(e,["partnerModelTuningSpec"]);D!=null&&d(t,["partnerModelTuningSpec"],D);const I=c(e,["distillationSpec"]);I!=null&&d(t,["distillationSpec"],I);const V=c(e,["experiment"]);V!=null&&d(t,["experiment"],V);const q=c(e,["labels"]);q!=null&&d(t,["labels"],q);const Z=c(e,["pipelineJob"]);Z!=null&&d(t,["pipelineJob"],Z);const F=c(e,["serviceAccount"]);F!=null&&d(t,["serviceAccount"],F);const ae=c(e,["tunedModelDisplayName"]);return ae!=null&&d(t,["tunedModelDisplayName"],ae),t}function vM(s,e){const t={},i=c(e,["nextPageToken"]);i!=null&&d(t,["nextPageToken"],i);const l=c(e,["tuningJobs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(m=>Lc(s,m))),d(t,["tuningJobs"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bM extends ji{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new Vr(ki.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.tune=async t=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(t);{const i=await this.tuneMldevInternal(t);let l="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?l=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(l=i.name.split("/operations/")[0]),{name:l,state:Ec.JOB_STATE_QUEUED}}}}async getInternal(e){var t,i,l,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=rM(this.apiClient,e);return g=pe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),m.then(v=>Lc(this.apiClient,v))}else{const p=eM(this.apiClient,e);return g=pe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>Iy(this.apiClient,v))}}async listInternal(e){var t,i,l,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=uM(this.apiClient,e);return g=pe("tuningJobs",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),m.then(v=>{const _=vM(this.apiClient,v),b=new ug;return Object.assign(b,_),b})}else{const p=nM(this.apiClient,e);return g=pe("tunedModels",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>{const _=pM(this.apiClient,v),b=new ug;return Object.assign(b,_),b})}}async tuneInternal(e){var t,i;let l,o="",m={};if(this.apiClient.isVertexAI()){const g=mM(this.apiClient,e);return o=pe("tuningJobs",g._url),m=g._query,delete g.config,delete g._url,delete g._query,l=this.apiClient.request({path:o,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),l.then(x=>Lc(this.apiClient,x))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,i;let l,o="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=lM(this.apiClient,e);return o=pe("tunedModels",g._url),m=g._query,delete g.config,delete g._url,delete g._query,l=this.apiClient.request({path:o,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),l.then(x=>gM(this.apiClient,x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TM{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const _M=1024*1024*8,CM=3,SM=1e3,NM=2,fc="x-goog-upload-status";async function EM(s,e,t){var i,l,o;let m=0,g=0,x=new Ac(new Response),p="upload";for(m=s.size;g<m;){const _=Math.min(_M,m-g),b=s.slice(g,g+_);g+_>=m&&(p+=", finalize");let S=0,N=SM;for(;S<CM&&(x=await t.request({path:"",body:b,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(g),"Content-Length":String(_)}}}),!(!((i=x==null?void 0:x.headers)===null||i===void 0)&&i[fc]));)S++,await wM(N),N=N*NM;if(g+=_,((l=x==null?void 0:x.headers)===null||l===void 0?void 0:l[fc])!=="active")break;if(m<=g)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(x==null?void 0:x.json());if(((o=x==null?void 0:x.headers)===null||o===void 0?void 0:o[fc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function AM(s){return{size:s.size,type:s.type}}function wM(s){return new Promise(e=>setTimeout(e,s))}class MM{async upload(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await EM(e,t,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await AM(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RM{create(e,t,i){return new DM(e,t,i)}}class DM{constructor(e,t,i){this.url=e,this.headers=t,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lg="x-goog-api-key";class IM{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Lg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Lg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UM="gl-node/";class kM{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const i=OT(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const l=new IM(this.apiKey);this.apiClient=new KA({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:UM+"web",uploader:new MM,downloader:new TM}),this.models=new fw(this.apiClient),this.live=new rw(this.apiClient,l,new RM),this.chats=new dC(this.models,this.apiClient),this.caches=new oC(this.apiClient),this.files=new SC(this.apiClient),this.operations=new Cw(this.apiClient),this.authTokens=new Ww(this.apiClient),this.tunings=new bM(this.apiClient)}}let Pc=null;const Pg="AIzaSyC1q9AcDH4lvD4sU8ribire9S3C7kX548k";if(Pg.trim()!=="")try{Pc=new kM({apiKey:Pg})}catch(s){console.error("Failed to initialize GoogleGenAI client:",s)}else console.warn(xc+" Gemini-related features will be unavailable or show an error message in the UI.");const LM={generateCreativeDescription:async s=>{if(!Pc)return xc;try{const e=`Generate a short, poetic and stylish insight (max 50 words, one paragraph) for a luxury watch named "${s.name}" from the "${s.category}" collection. Key features: ${s.features.join(", ")}. Emphasize its elegance, craftsmanship, and appeal to a young, discerning audience. Do not use markdown or bullet points in the response.`;return(await Pc.models.generateContent({model:Hb,contents:e,config:{temperature:.7,topP:.9,topK:40}})).text.trim()}catch(e){if(console.error("Error generating creative description with Gemini:",e),e instanceof Error){const t=e.message.toLowerCase();if(t.includes("api key")||t.includes("permission denied")||t.includes("authentication")||t.includes("quota")||e.name&&e.name.toLowerCase().includes("google"))return xc+" (Details: "+e.message+")"}return"Could not generate a creative insight at this time. Please try again later."}}},PM=()=>{const{productId:s}=Oc(),[e,t]=M.useState(null),[i,l]=M.useState(!0),[o,m]=M.useState(null),[g,x]=M.useState(void 0),[p,v]=M.useState(null),[_,b]=M.useState(!1),{addItem:S}=Pi(),N=M.useCallback(async()=>{if(!s){m("产品ID缺失。"),l(!1);return}l(!0),m(null);try{const V=await Zs.getProductById(s);V?(t(V),x(V.imageUrl)):m("产品未找到。")}catch(V){console.error("Failed to fetch product:",V),m("加载产品详情失败，请稍后重试。")}finally{l(!1)}},[s]);M.useEffect(()=>{N()},[N]);const E=()=>{e&&S(e)},D=async()=>{if(e){b(!0),v(null);try{const V=await LM.generateCreativeDescription(e);v(V)}catch(V){console.error("AI description generation failed:",V),v("生成风格洞察失败，请重试。")}finally{b(!1)}}};if(i)return f.jsx(Nr,{message:"正在加载产品详情...",size:"lg"});if(o)return f.jsx("div",{className:"text-center py-10 text-red-400 text-xl",children:o});if(!e)return f.jsx("div",{className:"text-center py-10 text-brand-text-secondary text-xl",children:"产品未找到。"});const I=[e.imageUrl,...e.galleryImages||[]].filter(Boolean);return f.jsx("div",{className:"bg-brand-surface p-6 sm:p-8 rounded-lg shadow-2xl",children:f.jsxs("div",{className:"grid md:grid-cols-2 gap-8 lg:gap-12",children:[f.jsxs("div",{children:[f.jsx("div",{className:"aspect-w-1 aspect-h-1 w-full rounded-lg overflow-hidden shadow-lg mb-4",children:f.jsx("img",{src:g||e.imageUrl,alt:e.name,className:"w-full h-full object-cover object-center"})}),I.length>1&&f.jsx("div",{className:"grid grid-cols-4 gap-2",children:I.map((V,q)=>f.jsx("button",{onClick:()=>x(V),className:`aspect-w-1 aspect-h-1 rounded-md overflow-hidden border-2 transition-colors ${g===V?"border-brand-primary":"border-transparent hover:border-gray-500"}`,children:f.jsx("img",{src:V,alt:`${e.name} 缩略图 ${q+1}`,className:"w-full h-full object-cover"})},q))})]}),f.jsxs("div",{className:"flex flex-col justify-center",children:[f.jsx(oe,{to:`/products?category=${encodeURIComponent(e.category)}`,className:"text-sm text-brand-primary hover:underline mb-1",children:e.category}),f.jsx("h1",{className:"text-3xl sm:text-4xl font-serif font-bold text-brand-text mb-3",children:e.name}),f.jsxs("p",{className:"text-3xl font-semibold text-brand-primary mb-4",children:["¥",e.price.toLocaleString()]}),f.jsx("p",{className:"text-brand-text-secondary leading-relaxed mb-6",children:e.description}),f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-brand-text mb-2",children:"主要特色："}),f.jsx("ul",{className:"list-disc list-inside text-brand-text-secondary space-y-1",children:e.features.map((V,q)=>f.jsx("li",{children:V},q))})]}),f.jsxs("div",{className:"mb-6",children:[f.jsxs("button",{onClick:D,disabled:_,className:"w-full sm:w-auto flex items-center justify-center space-x-2 bg-transparent border-2 border-purple-400 text-purple-300 font-semibold py-3 px-6 rounded-md hover:bg-purple-400 hover:text-brand-bg transition-colors duration-300 disabled:opacity-50 mb-4",children:[f.jsx(Xb,{className:"w-5 h-5"}),f.jsx("span",{children:_?"正在生成洞察...":"生成风格洞察 (AI)"})]}),_&&f.jsx(Nr,{size:"sm"}),p&&f.jsxs("div",{className:"mt-3 p-4 bg-gray-700 rounded-md text-brand-text-secondary italic",children:[f.jsx("p",{className:"font-semibold text-purple-300 mb-1",children:"AI 风格洞察："}),p]})]}),f.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:f.jsxs("button",{onClick:E,className:"w-full sm:flex-1 bg-brand-primary text-brand-bg font-semibold py-3 px-6 rounded-md hover:bg-brand-primary-dark transition-colors duration-300 flex items-center justify-center space-x-2 text-lg",children:[f.jsx(Hc,{className:"w-6 h-6"}),f.jsx("span",{children:"加入购物车"})]})}),f.jsxs("p",{className:"text-sm text-brand-text-secondary mt-4",children:["产品编号: ",e.sku," | 库存: ",e.stock>0?`${e.stock} 件可售`:"缺货"]})]})]})})},jM=()=>{const{cart:s,removeItem:e,updateQuantity:t,clearCart:i,totalItems:l,totalPrice:o}=Pi(),[m,g]=M.useState(null),x=(p,v)=>{v>0?t(p.id,v):e(p.id)};return m?f.jsxs("div",{className:"text-center py-16 bg-brand-surface rounded-lg shadow-xl",children:[f.jsx("h1",{className:"text-3xl font-serif font-bold text-brand-primary mb-4",children:"结账成功！"}),f.jsx("p",{className:"text-brand-text-secondary text-lg",children:m}),f.jsx(oe,{to:"/products",className:"mt-8 inline-block bg-brand-primary text-brand-bg font-semibold py-3 px-6 rounded-md hover:bg-brand-primary-dark transition-colors",children:"继续购物"})]}):s.length===0?f.jsxs("div",{className:"text-center py-16",children:[f.jsx("h1",{className:"text-3xl font-serif font-bold text-brand-text mb-4",children:"您的购物车为空"}),f.jsx("p",{className:"text-brand-text-secondary text-lg mb-8",children:"看起来您还没有添加任何精美腕表。"}),f.jsx(oe,{to:"/products",className:"bg-brand-primary text-brand-bg font-semibold py-3 px-6 rounded-md hover:bg-brand-primary-dark transition-colors",children:"探索腕表系列"})]}):f.jsxs("div",{className:"space-y-8",children:[f.jsx("h1",{className:"text-4xl font-serif font-bold text-brand-text text-center",children:"购物车"}),f.jsxs("div",{className:"bg-brand-surface shadow-xl rounded-lg overflow-hidden",children:[f.jsx("div",{className:"divide-y divide-gray-700",children:s.map(p=>f.jsxs("div",{className:"flex flex-col sm:flex-row items-center p-4 sm:p-6 gap-4",children:[f.jsx("img",{src:p.imageUrl||`https://picsum.photos/seed/${p.id}/100/100`,alt:p.name,className:"w-24 h-24 sm:w-32 sm:h-32 object-cover rounded-md shadow-md"}),f.jsxs("div",{className:"flex-grow text-center sm:text-left",children:[f.jsx(oe,{to:`/products/${p.id}`,className:"text-lg font-semibold text-brand-text hover:text-brand-primary transition-colors",children:p.name}),f.jsx("p",{className:"text-sm text-brand-text-secondary",children:p.category}),f.jsxs("p",{className:"text-md text-brand-primary font-medium mt-1 sm:hidden",children:["¥",(p.price*p.quantity).toLocaleString()]})]}),f.jsxs("div",{className:"flex items-center space-x-3 my-2 sm:my-0",children:[f.jsx("button",{onClick:()=>x(p,p.quantity-1),className:"p-2 rounded-full bg-gray-600 hover:bg-gray-500 text-brand-text transition-colors","aria-label":"减少数量",children:f.jsx(Kb,{className:"w-4 h-4"})}),f.jsx("span",{className:"w-10 text-center font-medium text-brand-text",children:p.quantity}),f.jsx("button",{onClick:()=>x(p,p.quantity+1),className:"p-2 rounded-full bg-gray-600 hover:bg-gray-500 text-brand-text transition-colors","aria-label":"增加数量",children:f.jsx(Zb,{className:"w-4 h-4"})})]}),f.jsxs("p",{className:"hidden sm:block text-lg font-semibold text-brand-primary w-28 text-right",children:["¥",(p.price*p.quantity).toLocaleString()]}),f.jsx("button",{onClick:()=>e(p.id),className:"p-2 rounded-full text-red-400 hover:text-red-300 hover:bg-red-800/50 transition-colors","aria-label":"移除商品",children:f.jsx(Jb,{className:"w-5 h-5"})})]},p.id))}),f.jsxs("div",{className:"bg-gray-800 p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("p",{className:"text-xl text-brand-text-secondary",children:["小计 (",l," 件商品):"]}),f.jsxs("p",{className:"text-2xl font-bold text-brand-primary",children:["¥",o.toLocaleString()]})]}),f.jsx("p",{className:"text-sm text-brand-text-secondary text-right mb-6",children:"运费和税费将在模拟结账时计算。"}),f.jsx(oe,{to:"/checkout",className:"block w-full bg-brand-primary text-brand-bg font-bold py-3 px-6 rounded-md text-lg hover:bg-brand-primary-dark transition-colors duration-300 text-center",children:"去结算"}),f.jsx("button",{onClick:()=>{window.confirm("确定要清空购物车吗？")&&i()},className:"w-full mt-3 text-center text-brand-text-secondary hover:text-red-400 transition-colors text-sm",children:"清空购物车"})]})]}),f.jsx("div",{className:"text-center",children:f.jsx(oe,{to:"/products",className:"text-brand-primary hover:underline",children:"← 继续购物"})})]})},Gs=Qt.getInstance(),sa={alipay:{account:"seagull_watch@alipay.com",qrCodeUrl:"images/payment/alipay-qr.png"},wechat:{account:"SeagullWatch2024",qrCodeUrl:"images/payment/wechat-qr.png"},bank:{bankName:"中国工商银行",accountNumber:"6212 2611 0000 1234 567",accountName:"上海海鸟表业有限公司",branch:"上海黄浦支行"}};class Ei{static async createPayment(e,t){try{console.log("🔄 开始创建订单:",{orderId:e.id,userId:t,itemCount:e.items.length});const i={user_id:t,order_number:e.id,status:"pending",payment_status:"pending",payment_method:this.convertPaymentMethod(e.paymentMethod),subtotal:e.subtotal,shipping_fee:e.shipping,tax_fee:e.tax,discount_amount:0,total_amount:e.total,shipping_address:{name:e.shippingAddress.name,phone:e.shippingAddress.phone,province:e.shippingAddress.province,city:e.shippingAddress.city,district:e.shippingAddress.district,street:e.shippingAddress.address,postal_code:e.shippingAddress.postalCode||"",is_default:!1},notes:e.notes||"",ordered_at:new Date().toISOString()},l=await Gs.createOrder(i);console.log("✅ 订单创建成功:",l.id);for(const m of e.items){const g={order_id:l.id,product_id:m.productId,product_name:m.name,product_image:m.imageUrl,sku:m.sku,price:m.price,quantity:m.quantity,total_price:m.price*m.quantity,product_snapshot:m};await Gs.getEngine().insert("order_items",g)}console.log("📦 订单项目保存成功");const o={orderId:l.id,amount:e.total,method:e.paymentMethod};switch(e.paymentMethod){case Ne.ALIPAY:o.qrCode=sa.alipay.qrCodeUrl,o.accountInfo=`支付宝账号：${sa.alipay.account}`;break;case Ne.WECHAT:o.qrCode=sa.wechat.qrCodeUrl,o.accountInfo=`微信号：${sa.wechat.account}`;break;case Ne.BANK_TRANSFER:o.accountInfo=`
            银行：${sa.bank.bankName}
            账号：${sa.bank.accountNumber}
            户名：${sa.bank.accountName}
            开户行：${sa.bank.branch}
          `;break}return console.log("💳 支付信息构建成功"),o}catch(i){throw console.error("❌ 创建支付订单失败:",i),new Error(`创建支付订单失败: ${i instanceof Error?i.message:"未知错误"}`)}}static generateOrderId(){const e=Date.now(),t=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`SG${e}${t}`}static calculateShipping(e,t){return e>=5e3?0:["新疆","西藏","青海","内蒙古"].includes(t)?25:15}static calculateTax(e){return e>=5e4?e*.1:0}static async getUserOrders(e){try{const t=await Gs.getUserOrders(e),i=[];for(const l of t){const o=await this.convertToOrder(l);i.push(o)}return i}catch(t){return console.error("❌ 获取用户订单失败:",t),[]}}static async getOrderById(e){try{const t=await Gs.getOrderById(e);return t?this.convertToOrder(t):null}catch(t){return console.error("❌ 获取订单详情失败:",t),null}}static async convertToOrder(e){var l,o,m,g,x,p,v;const i=(await Gs.getEngine().find("order_items",{where:[{field:"order_id",operator:"=",value:e.id}]})).map(_=>({productId:_.product_id,name:_.product_name,imageUrl:_.product_image,sku:_.sku,price:_.price,quantity:_.quantity,total:_.total_price}));return{id:e.order_number,items:i,subtotal:e.subtotal||0,shipping:e.shipping_fee||0,tax:e.tax_fee||0,total:e.total_amount||0,paymentMethod:this.convertFromDBPaymentMethod(e.payment_method),status:this.convertFromDBStatus(e.status,e.payment_status),shippingAddress:{name:((l=e.shipping_address)==null?void 0:l.name)||"",phone:((o=e.shipping_address)==null?void 0:o.phone)||"",province:((m=e.shipping_address)==null?void 0:m.province)||"",city:((g=e.shipping_address)==null?void 0:g.city)||"",district:((x=e.shipping_address)==null?void 0:x.district)||"",address:((p=e.shipping_address)==null?void 0:p.street)||"",postalCode:((v=e.shipping_address)==null?void 0:v.postal_code)||""},notes:e.notes||"",createdAt:e.ordered_at||new Date().toISOString()}}static convertPaymentMethod(e){switch(e){case Ne.ALIPAY:return"alipay";case Ne.WECHAT:return"wechat";case Ne.BANK_TRANSFER:return"bank_transfer";default:return"alipay"}}static convertFromDBPaymentMethod(e){switch(e){case"alipay":return Ne.ALIPAY;case"wechat":return Ne.WECHAT;case"bank_transfer":return Ne.BANK_TRANSFER;default:return Ne.ALIPAY}}static convertFromDBStatus(e,t){return e==="pending"&&t==="pending"?ee.PENDING:e==="paid"||t==="paid"?ee.PAID:e==="shipped"?ee.SHIPPED:e==="delivered"?ee.DELIVERED:e==="cancelled"?ee.CANCELLED:ee.PENDING}}const VM=()=>{const s=ca(),{cart:e,totalPrice:t,clearCart:i}=Pi(),{user:l,isAuthenticated:o}=da(),[m,g]=M.useState({name:"",phone:"",province:"",city:"",district:"",address:"",postalCode:""}),[x,p]=M.useState(Ne.ALIPAY),[v,_]=M.useState(""),[b,S]=M.useState(!1),[N,E]=M.useState({}),D=["北京","天津","上海","重庆","河北","山西","辽宁","吉林","黑龙江","江苏","浙江","安徽","福建","江西","山东","河南","湖北","湖南","广东","海南","四川","贵州","云南","陕西","甘肃","青海","台湾","内蒙古","广西","西藏","宁夏","新疆","香港","澳门"],I=t,V=Ei.calculateShipping(I,m.province),q=Ei.calculateTax(I),Z=I+V+q,F=()=>{const z={};return m.name.trim()||(z.name="请输入收件人姓名"),m.phone.trim()?/^1[3-9]\d{9}$/.test(m.phone)||(z.phone="请输入有效的手机号码"):z.phone="请输入联系电话",m.province||(z.province="请选择省份"),m.city.trim()||(z.city="请输入城市"),m.district.trim()||(z.district="请输入区县"),m.address.trim()||(z.address="请输入详细地址"),E(z),Object.keys(z).length===0},ae=async z=>{if(z.preventDefault(),!!F()){if(e.length===0){alert("购物车为空，无法结算");return}S(!0);try{const J=Ei.generateOrderId(),te=e.map(Pe=>({productId:Pe.id,name:Pe.name,price:Pe.price,quantity:Pe.quantity,imageUrl:Pe.imageUrl,sku:Pe.sku})),ue={id:J,items:te,subtotal:I,shipping:V,tax:q,total:Z,paymentMethod:x,status:ee.PENDING,shippingAddress:m,createdAt:new Date().toISOString(),notes:v},Ue=await Ei.createPayment(ue,l==null?void 0:l.id);i(),s(`/payment/${J}`,{state:{paymentInfo:Ue,order:ue}})}catch(J){console.error("订单创建失败:",J),alert("订单创建失败，请重试")}finally{S(!1)}}};return e.length===0?f.jsxs("div",{className:"text-center py-16",children:[f.jsx("h1",{className:"text-3xl font-serif font-bold text-brand-text mb-4",children:"购物车为空"}),f.jsx("p",{className:"text-brand-text-secondary mb-8",children:"请先添加商品到购物车"}),f.jsx("button",{onClick:()=>s("/products"),className:"bg-brand-primary text-brand-bg font-semibold py-3 px-6 rounded-md hover:bg-brand-primary-dark transition-colors",children:"去购物"})]}):f.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[f.jsx("h1",{className:"text-4xl font-serif font-bold text-brand-text text-center",children:"结算"}),!o&&f.jsx("div",{className:"bg-brand-primary/10 border border-brand-primary/30 p-4 rounded-lg",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-brand-primary font-medium",children:"建议登录后结算"}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:"登录后可享受更便捷的购物体验和订单管理"})]}),f.jsxs("div",{className:"space-x-3",children:[f.jsx("button",{onClick:()=>s("/login",{state:{from:{pathname:"/checkout"}}}),className:"bg-brand-primary text-brand-bg px-4 py-2 rounded-md text-sm hover:bg-brand-primary-dark transition-colors",children:"登录"}),f.jsx("button",{onClick:()=>s("/register"),className:"border border-brand-primary text-brand-primary px-4 py-2 rounded-md text-sm hover:bg-brand-primary hover:text-brand-bg transition-colors",children:"注册"})]})]})}),f.jsxs("form",{onSubmit:ae,className:"grid md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-brand-surface p-6 rounded-lg",children:[f.jsx("h2",{className:"text-xl font-semibold text-brand-text mb-4",children:"收货信息"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-1",children:"收件人姓名 *"}),f.jsx("input",{type:"text",value:m.name,onChange:z=>g(J=>({...J,name:z.target.value})),className:"w-full p-3 bg-brand-bg border border-gray-600 rounded-md text-brand-text focus:border-brand-primary focus:outline-none",placeholder:"请输入收件人姓名"}),N.name&&f.jsx("p",{className:"text-red-400 text-sm mt-1",children:N.name})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-1",children:"联系电话 *"}),f.jsx("input",{type:"tel",value:m.phone,onChange:z=>g(J=>({...J,phone:z.target.value})),className:"w-full p-3 bg-brand-bg border border-gray-600 rounded-md text-brand-text focus:border-brand-primary focus:outline-none",placeholder:"请输入手机号码"}),N.phone&&f.jsx("p",{className:"text-red-400 text-sm mt-1",children:N.phone})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-1",children:"省份 *"}),f.jsxs("select",{value:m.province,onChange:z=>g(J=>({...J,province:z.target.value})),className:"w-full p-3 bg-brand-bg border border-gray-600 rounded-md text-brand-text focus:border-brand-primary focus:outline-none",children:[f.jsx("option",{value:"",children:"选择省份"}),D.map(z=>f.jsx("option",{value:z,children:z},z))]}),N.province&&f.jsx("p",{className:"text-red-400 text-sm mt-1",children:N.province})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-1",children:"城市 *"}),f.jsx("input",{type:"text",value:m.city,onChange:z=>g(J=>({...J,city:z.target.value})),className:"w-full p-3 bg-brand-bg border border-gray-600 rounded-md text-brand-text focus:border-brand-primary focus:outline-none",placeholder:"城市"}),N.city&&f.jsx("p",{className:"text-red-400 text-sm mt-1",children:N.city})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-1",children:"区县 *"}),f.jsx("input",{type:"text",value:m.district,onChange:z=>g(J=>({...J,district:z.target.value})),className:"w-full p-3 bg-brand-bg border border-gray-600 rounded-md text-brand-text focus:border-brand-primary focus:outline-none",placeholder:"区县"}),N.district&&f.jsx("p",{className:"text-red-400 text-sm mt-1",children:N.district})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-1",children:"详细地址 *"}),f.jsx("textarea",{value:m.address,onChange:z=>g(J=>({...J,address:z.target.value})),className:"w-full p-3 bg-brand-bg border border-gray-600 rounded-md text-brand-text focus:border-brand-primary focus:outline-none",placeholder:"请输入详细地址（街道、门牌号等）",rows:3}),N.address&&f.jsx("p",{className:"text-red-400 text-sm mt-1",children:N.address})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-1",children:"邮政编码"}),f.jsx("input",{type:"text",value:m.postalCode,onChange:z=>g(J=>({...J,postalCode:z.target.value})),className:"w-full p-3 bg-brand-bg border border-gray-600 rounded-md text-brand-text focus:border-brand-primary focus:outline-none",placeholder:"可选"})]})]})]}),f.jsxs("div",{className:"bg-brand-surface p-6 rounded-lg",children:[f.jsx("h2",{className:"text-xl font-semibold text-brand-text mb-4",children:"支付方式"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[f.jsx("input",{type:"radio",name:"payment",value:Ne.ALIPAY,checked:x===Ne.ALIPAY,onChange:z=>p(z.target.value),className:"text-brand-primary"}),f.jsx("span",{className:"text-brand-text",children:"支付宝转账"})]}),f.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[f.jsx("input",{type:"radio",name:"payment",value:Ne.WECHAT,checked:x===Ne.WECHAT,onChange:z=>p(z.target.value),className:"text-brand-primary"}),f.jsx("span",{className:"text-brand-text",children:"微信转账"})]}),f.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[f.jsx("input",{type:"radio",name:"payment",value:Ne.BANK_TRANSFER,checked:x===Ne.BANK_TRANSFER,onChange:z=>p(z.target.value),className:"text-brand-primary"}),f.jsx("span",{className:"text-brand-text",children:"银行转账"})]})]})]}),f.jsxs("div",{className:"bg-brand-surface p-6 rounded-lg",children:[f.jsx("h2",{className:"text-xl font-semibold text-brand-text mb-4",children:"订单备注"}),f.jsx("textarea",{value:v,onChange:z=>_(z.target.value),className:"w-full p-3 bg-brand-bg border border-gray-600 rounded-md text-brand-text focus:border-brand-primary focus:outline-none",placeholder:"如有特殊要求请在此说明（可选）",rows:3})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-brand-surface p-6 rounded-lg",children:[f.jsx("h2",{className:"text-xl font-semibold text-brand-text mb-4",children:"订单摘要"}),f.jsx("div",{className:"space-y-4",children:e.map(z=>f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("img",{src:z.imageUrl,alt:z.name,className:"w-16 h-16 object-cover rounded-md"}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("p",{className:"text-brand-text font-medium text-sm",children:z.name}),f.jsxs("p",{className:"text-brand-text-secondary text-sm",children:["数量: ",z.quantity]})]}),f.jsxs("p",{className:"text-brand-primary font-semibold",children:["¥",(z.price*z.quantity).toLocaleString()]})]},z.id))}),f.jsxs("div",{className:"border-t border-gray-600 mt-6 pt-4 space-y-2",children:[f.jsxs("div",{className:"flex justify-between text-brand-text-secondary",children:[f.jsx("span",{children:"商品小计"}),f.jsxs("span",{children:["¥",I.toLocaleString()]})]}),f.jsxs("div",{className:"flex justify-between text-brand-text-secondary",children:[f.jsx("span",{children:"运费"}),f.jsx("span",{children:V===0?"免运费":`¥${V}`})]}),q>0&&f.jsxs("div",{className:"flex justify-between text-brand-text-secondary",children:[f.jsx("span",{children:"税费"}),f.jsxs("span",{children:["¥",q.toLocaleString()]})]}),f.jsxs("div",{className:"flex justify-between text-xl font-bold text-brand-primary border-t border-gray-600 pt-2",children:[f.jsx("span",{children:"总计"}),f.jsxs("span",{children:["¥",Z.toLocaleString()]})]})]}),I<5e3&&f.jsx("div",{className:"mt-4 p-3 bg-brand-primary/10 border border-brand-primary/30 rounded-md",children:f.jsxs("p",{className:"text-brand-primary text-sm",children:["购满¥5,000即可享受免运费！还差¥",(5e3-I).toLocaleString()]})})]}),f.jsx("button",{type:"submit",disabled:b,className:"w-full bg-brand-primary text-brand-bg font-bold py-4 px-6 rounded-md text-lg hover:bg-brand-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:b?"创建订单中...":`提交订单 - ¥${Z.toLocaleString()}`}),f.jsx("p",{className:"text-brand-text-secondary text-sm text-center",children:'点击"提交订单"即表示您同意我们的服务条款和隐私政策'})]})]})]})},la={alipay:{account:"seagullwatch@example.com",name:"海鸥表专卖店",qrCodeUrl:"images/payment/alipay-qr.png"},wechat:{account:"SeagullWatch2024",name:"海鸥表专卖店",qrCodeUrl:"images/payment/wechat-qr.png"},bank:{bankName:"中国工商银行",accountNumber:"6222 **** **** 1234",accountName:"海鸥表（天津）有限公司",branch:"天津分行营业部"}};class Fs{static async createPayment(e,t){try{const i=await kt.createOrder({user_id:t||void 0,order_number:e.id,payment_method:this.convertPaymentMethod(e.paymentMethod),subtotal:e.subtotal,shipping_fee:e.shipping,tax_fee:e.tax,discount_amount:0,total_amount:e.total,shipping_address:{name:e.shippingAddress.name,phone:e.shippingAddress.phone,province:e.shippingAddress.province,city:e.shippingAddress.city,district:e.shippingAddress.district,street:e.shippingAddress.address,postal_code:e.shippingAddress.postalCode||"",is_default:!1},notes:e.notes||"",ordered_at:new Date().toISOString()});for(const o of e.items){const m={order_id:i.id,product_id:o.productId,product_name:o.name,product_image:o.imageUrl,sku:o.sku,price:o.price,quantity:o.quantity,total_price:o.price*o.quantity,product_snapshot:{...o,timestamp:new Date().toISOString()}};await kt.getEngine().insert("order_items",m)}const l={orderId:i.id,amount:e.total,method:e.paymentMethod};switch(e.paymentMethod){case Ne.ALIPAY:l.qrCode=la.alipay.qrCodeUrl,l.accountInfo=`支付宝账号：${la.alipay.account}`;break;case Ne.WECHAT:l.qrCode=la.wechat.qrCodeUrl,l.accountInfo=`微信号：${la.wechat.account}`;break;case Ne.BANK_TRANSFER:l.accountInfo=`
            银行：${la.bank.bankName}
            账号：${la.bank.accountNumber}
            户名：${la.bank.accountName}
            开户行：${la.bank.branch}
          `;break}return l}catch(i){throw console.error("创建支付订单失败:",i),new Error("创建支付订单失败")}}static async confirmPayment(e){try{const t=await kt.getEngine().findById("orders",e);if(!t)throw new Error("订单不存在");return await kt.updateOrderStatus(e,"paid"),await kt.getEngine().insert("payments",{order_id:e,payment_method:t.payment_method,amount:t.total_amount,status:"success",paid_at:new Date().toISOString()}),!0}catch(t){return console.error("确认支付失败:",t),!1}}static async getOrderStatus(e){try{const t=await kt.getEngine().findById("orders",e);return t?this.convertDbOrderStatus(t.status):null}catch(t){return console.error("查询订单状态失败:",t),null}}static async getOrder(e){try{const t=await kt.getEngine().findById("orders",e);if(!t)return null;const i=await kt.getEngine().find("order_items",{where:[{field:"order_id",operator:"=",value:e}]});return{id:t.id,orderNumber:t.order_number,items:i.map(o=>({id:o.product_id,name:o.product_name,image:o.product_image,price:o.price,quantity:o.quantity,model:o.sku,total:o.total_price})),subtotal:t.subtotal,shipping:t.shipping_fee,tax:t.tax_fee,discount:t.discount_amount,total:t.total_amount,customerInfo:{name:t.shipping_address.name,email:"",phone:t.shipping_address.phone,address:{province:t.shipping_address.province,city:t.shipping_address.city,district:t.shipping_address.district,street:t.shipping_address.street,postalCode:t.shipping_address.postal_code}},paymentMethod:this.convertDbPaymentMethod(t.payment_method),status:this.convertDbOrderStatus(t.status),createdAt:t.created_at,paidAt:t.paid_at,notes:t.notes,userId:t.user_id}}catch(t){return console.error("获取订单详情失败:",t),null}}static async getUserOrders(e){try{let t;e?t=await kt.findOrdersByUser(e):t=await kt.getEngine().find("orders",{orderBy:[{field:"ordered_at",direction:"desc"}]});const i=[];for(const l of t){const o=await kt.getEngine().find("order_items",{where:[{field:"order_id",operator:"=",value:l.id}]}),m={id:l.id,orderNumber:l.order_number,items:o.map(g=>({id:g.product_id,name:g.product_name,image:g.product_image,price:g.price,quantity:g.quantity,model:g.sku,total:g.total_price})),subtotal:l.subtotal,shipping:l.shipping_fee,tax:l.tax_fee,discount:l.discount_amount,total:l.total_amount,customerInfo:{name:l.shipping_address.name,email:"",phone:l.shipping_address.phone,address:{province:l.shipping_address.province,city:l.shipping_address.city,district:l.shipping_address.district,street:l.shipping_address.street,postalCode:l.shipping_address.postal_code}},paymentMethod:this.convertDbPaymentMethod(l.payment_method),status:this.convertDbOrderStatus(l.status),createdAt:l.created_at,paidAt:l.paid_at,notes:l.notes,userId:l.user_id};i.push(m)}return i}catch(t){return console.error("获取用户订单失败:",t),[]}}static async cancelOrder(e){try{const t=await kt.getEngine().findById("orders",e);if(!t)return!1;if(t.status==="paid"||t.status==="shipped")throw new Error("已支付或已发货的订单无法取消");return await kt.updateOrderStatus(e,"cancelled"),!0}catch(t){return console.error("取消订单失败:",t),!1}}static generateOrderId(){const e=Date.now(),t=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`SG${e}${t}`}static calculateShipping(e,t){return e>=5e3?0:["新疆","西藏","青海","内蒙古"].includes(t)?25:15}static calculateTax(e){return e>=5e4?e*.1:0}static convertPaymentMethod(e){switch(e){case Ne.ALIPAY:return"alipay";case Ne.WECHAT:return"wechat";case Ne.BANK_TRANSFER:return"bank_transfer";default:return"alipay"}}static convertDbPaymentMethod(e){switch(e){case"alipay":return Ne.ALIPAY;case"wechat":return Ne.WECHAT;case"bank_transfer":return Ne.BANK_TRANSFER;default:return Ne.ALIPAY}}static convertDbOrderStatus(e){switch(e){case"pending":return ee.PENDING;case"paid":return ee.PAID;case"processing":return ee.PROCESSING;case"shipped":return ee.SHIPPED;case"delivered":return ee.DELIVERED;case"cancelled":return ee.CANCELLED;case"refunded":return ee.REFUNDED;default:return ee.PENDING}}}const OM=()=>{var N,E;const{orderId:s}=Oc(),e=tn(),t=ca(),[i,l]=M.useState(((N=e.state)==null?void 0:N.paymentInfo)||null),[o,m]=M.useState(((E=e.state)==null?void 0:E.order)||null),[g,x]=M.useState(!1),[p,v]=M.useState(!1);M.useEffect(()=>{!i&&s&&(async()=>{try{const I=await Fs.getOrder(s);if(I){m(I);const V=await Fs.createPayment(I);l(V)}else t("/orders")}catch(I){console.error("加载订单信息失败:",I),t("/orders")}})()},[s,i,t]);const _=async()=>{if(s){x(!0);try{await Fs.confirmPayment(s)&&(v(!0),setTimeout(()=>{t(`/orders/${s}`)},3e3))}catch(D){console.error("确认支付失败:",D),alert("确认支付失败，请重试")}finally{x(!1)}}},b=async()=>{if(s&&window.confirm("确定要取消这个订单吗？"))try{await Fs.cancelOrder(s),t("/orders")}catch(D){console.error("取消订单失败:",D),alert("取消订单失败，请重试")}};if(!i||!o)return f.jsx("div",{className:"flex justify-center items-center min-h-screen",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-brand-primary mx-auto"}),f.jsx("p",{className:"text-brand-text mt-4",children:"加载支付信息中..."})]})});if(p)return f.jsx("div",{className:"max-w-2xl mx-auto text-center py-16",children:f.jsxs("div",{className:"bg-brand-surface p-8 rounded-lg",children:[f.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),f.jsx("h1",{className:"text-3xl font-serif font-bold text-brand-text mb-4",children:"支付确认成功！"}),f.jsxs("p",{className:"text-brand-text-secondary mb-6",children:["您的订单 ",s," 已确认支付。我们将尽快为您安排发货。"]}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:"即将跳转到订单详情页面..."})]})});const S=D=>{switch(D){case Ne.ALIPAY:return"支付宝转账";case Ne.WECHAT:return"微信转账";case Ne.BANK_TRANSFER:return"银行转账";default:return"未知支付方式"}};return f.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[f.jsx("h1",{className:"text-4xl font-serif font-bold text-brand-text text-center",children:"支付订单"}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-brand-surface p-6 rounded-lg",children:[f.jsx("h2",{className:"text-xl font-semibold text-brand-text mb-4",children:"支付信息"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-brand-text-secondary",children:"订单号:"}),f.jsx("span",{className:"text-brand-text font-mono",children:s})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-brand-text-secondary",children:"支付方式:"}),f.jsx("span",{className:"text-brand-text",children:S(i.method)})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-brand-text-secondary",children:"支付金额:"}),f.jsxs("span",{className:"text-brand-primary font-bold text-xl",children:["¥",i.amount.toLocaleString()]})]})]})]}),i.method!==Ne.BANK_TRANSFER&&i.qrCode&&f.jsxs("div",{className:"bg-brand-surface p-6 rounded-lg text-center",children:[f.jsx("h3",{className:"text-lg font-semibold text-brand-text mb-4",children:i.method===Ne.ALIPAY?"支付宝收款码":"微信收款码"}),f.jsx("div",{className:"bg-white p-4 rounded-lg inline-block mb-4",children:f.jsx("img",{src:i.qrCode,alt:"支付二维码",className:"w-48 h-48 mx-auto",onError:D=>{D.currentTarget.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><rect width="200" height="200" fill="%23f3f4f6"/><text x="100" y="100" text-anchor="middle" fill="%236b7280" font-size="14">二维码占位符</text></svg>'}})}),f.jsxs("p",{className:"text-brand-text-secondary text-sm",children:["请使用",i.method===Ne.ALIPAY?"支付宝":"微信","扫描二维码完成支付"]}),i.accountInfo&&f.jsx("p",{className:"text-brand-text-secondary text-xs mt-2",children:i.accountInfo})]}),i.method===Ne.BANK_TRANSFER&&f.jsxs("div",{className:"bg-brand-surface p-6 rounded-lg",children:[f.jsx("h3",{className:"text-lg font-semibold text-brand-text mb-4",children:"银行转账信息"}),f.jsxs("div",{className:"space-y-2 text-sm",children:[f.jsx("div",{className:"bg-brand-bg p-4 rounded-md",children:f.jsx("pre",{className:"text-brand-text whitespace-pre-wrap",children:i.accountInfo})}),f.jsx("p",{className:"text-brand-text-secondary text-xs",children:"请将上述信息截图保存，前往银行或使用网银完成转账"})]})]}),f.jsxs("div",{className:"bg-brand-surface p-6 rounded-lg",children:[f.jsx("h3",{className:"text-lg font-semibold text-brand-text mb-4",children:"支付说明"}),f.jsxs("div",{className:"space-y-2 text-sm text-brand-text-secondary",children:[f.jsx("p",{children:"• 请在24小时内完成支付，超时订单将自动取消"}),f.jsx("p",{children:'• 完成支付后，请点击下方"我已完成支付"按钮'}),f.jsx("p",{children:"• 我们将在确认收款后1-2个工作日内安排发货"}),f.jsx("p",{children:"• 如有问题，请联系客服：400-123-4567"})]})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-brand-surface p-6 rounded-lg",children:[f.jsx("h2",{className:"text-xl font-semibold text-brand-text mb-4",children:"订单详情"}),f.jsx("div",{className:"space-y-4",children:o.items.map(D=>f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("img",{src:D.imageUrl,alt:D.name,className:"w-16 h-16 object-cover rounded-md"}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("p",{className:"text-brand-text font-medium text-sm",children:D.name}),f.jsxs("p",{className:"text-brand-text-secondary text-sm",children:["¥",D.price.toLocaleString()," × ",D.quantity]})]}),f.jsxs("p",{className:"text-brand-primary font-semibold",children:["¥",(D.price*D.quantity).toLocaleString()]})]},D.productId))}),f.jsxs("div",{className:"border-t border-gray-600 mt-6 pt-4 space-y-2",children:[f.jsxs("div",{className:"flex justify-between text-brand-text-secondary",children:[f.jsx("span",{children:"商品小计"}),f.jsxs("span",{children:["¥",o.subtotal.toLocaleString()]})]}),f.jsxs("div",{className:"flex justify-between text-brand-text-secondary",children:[f.jsx("span",{children:"运费"}),f.jsx("span",{children:o.shipping===0?"免运费":`¥${o.shipping}`})]}),o.tax>0&&f.jsxs("div",{className:"flex justify-between text-brand-text-secondary",children:[f.jsx("span",{children:"税费"}),f.jsxs("span",{children:["¥",o.tax.toLocaleString()]})]}),f.jsxs("div",{className:"flex justify-between text-xl font-bold text-brand-primary border-t border-gray-600 pt-2",children:[f.jsx("span",{children:"总计"}),f.jsxs("span",{children:["¥",o.total.toLocaleString()]})]})]})]}),f.jsxs("div",{className:"bg-brand-surface p-6 rounded-lg",children:[f.jsx("h3",{className:"text-lg font-semibold text-brand-text mb-4",children:"收货信息"}),f.jsxs("div",{className:"text-brand-text-secondary text-sm space-y-1",children:[f.jsxs("p",{children:[f.jsx("strong",{className:"text-brand-text",children:"收件人:"})," ",o.shippingAddress.name]}),f.jsxs("p",{children:[f.jsx("strong",{className:"text-brand-text",children:"电话:"})," ",o.shippingAddress.phone]}),f.jsxs("p",{children:[f.jsx("strong",{className:"text-brand-text",children:"地址:"})," ",o.shippingAddress.province," ",o.shippingAddress.city," ",o.shippingAddress.district]}),f.jsx("p",{className:"pl-12",children:o.shippingAddress.address}),o.shippingAddress.postalCode&&f.jsxs("p",{children:[f.jsx("strong",{className:"text-brand-text",children:"邮编:"})," ",o.shippingAddress.postalCode]})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("button",{onClick:_,disabled:g,className:"w-full bg-brand-primary text-brand-bg font-bold py-3 px-6 rounded-md text-lg hover:bg-brand-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?"确认中...":"我已完成支付"}),f.jsx("button",{onClick:b,className:"w-full border border-gray-600 text-brand-text-secondary font-medium py-3 px-6 rounded-md hover:bg-gray-800 transition-colors",children:"取消订单"}),f.jsx("button",{onClick:()=>t("/user-center#orders"),className:"w-full text-center text-brand-primary hover:underline",children:"查看我的订单"})]})]})]})]})},jg=()=>{const{orderId:s}=Oc(),{user:e,isAuthenticated:t}=da(),[i,l]=M.useState([]),[o,m]=M.useState(null),[g,x]=M.useState(!0);M.useEffect(()=>{p()},[]),M.useEffect(()=>{if(s&&i.length>0){const S=i.find(N=>N.id===s);m(S||null)}},[s,i]);const p=async()=>{try{const S=await Ei.getUserOrders(e==null?void 0:e.id);l(S)}catch(S){console.error("加载订单失败:",S)}finally{x(!1)}},v=S=>{switch(S){case ee.PENDING:return"text-yellow-400 bg-yellow-400/10";case ee.PAID:return"text-green-400 bg-green-400/10";case ee.PROCESSING:return"text-blue-400 bg-blue-400/10";case ee.SHIPPED:return"text-purple-400 bg-purple-400/10";case ee.DELIVERED:return"text-green-500 bg-green-500/10";case ee.CANCELLED:return"text-red-400 bg-red-400/10";default:return"text-gray-400 bg-gray-400/10"}},_=S=>{switch(S){case ee.PENDING:return"待支付";case ee.PAID:return"已支付";case ee.PROCESSING:return"处理中";case ee.SHIPPED:return"已发货";case ee.DELIVERED:return"已送达";case ee.CANCELLED:return"已取消";default:return"未知状态"}},b=S=>new Date(S).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return g?f.jsx("div",{className:"flex justify-center items-center min-h-screen",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-brand-primary mx-auto"}),f.jsx("p",{className:"text-brand-text mt-4",children:"加载订单中..."})]})}):s&&o?f.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h1",{className:"text-3xl font-serif font-bold text-brand-text",children:"订单详情"}),f.jsx(oe,{to:"/orders",className:"text-brand-primary hover:underline",children:"← 返回订单列表"})]}),f.jsxs("div",{className:"bg-brand-surface p-6 rounded-lg",children:[f.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-brand-text mb-3",children:"订单信息"}),f.jsxs("div",{className:"space-y-2 text-sm",children:[f.jsxs("p",{children:[f.jsx("span",{className:"text-brand-text-secondary",children:"订单号:"})," ",f.jsx("span",{className:"text-brand-text font-mono",children:o.id})]}),f.jsxs("p",{children:[f.jsx("span",{className:"text-brand-text-secondary",children:"创建时间:"})," ",f.jsx("span",{className:"text-brand-text",children:b(o.createdAt)})]}),o.paidAt&&f.jsxs("p",{children:[f.jsx("span",{className:"text-brand-text-secondary",children:"支付时间:"})," ",f.jsx("span",{className:"text-brand-text",children:b(o.paidAt)})]}),f.jsxs("p",{children:[f.jsx("span",{className:"text-brand-text-secondary",children:"订单状态:"}),f.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ml-2 ${v(o.status)}`,children:_(o.status)})]})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-brand-text mb-3",children:"收货信息"}),f.jsxs("div",{className:"text-brand-text-secondary text-sm space-y-1",children:[f.jsxs("p",{children:[f.jsx("span",{className:"text-brand-text",children:"收件人:"})," ",o.shippingAddress.name]}),f.jsxs("p",{children:[f.jsx("span",{className:"text-brand-text",children:"电话:"})," ",o.shippingAddress.phone]}),f.jsxs("p",{children:[f.jsx("span",{className:"text-brand-text",children:"地址:"})," ",o.shippingAddress.province," ",o.shippingAddress.city," ",o.shippingAddress.district]}),f.jsx("p",{className:"pl-12",children:o.shippingAddress.address})]})]})]}),f.jsxs("div",{className:"border-t border-gray-600 pt-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-brand-text mb-4",children:"商品清单"}),f.jsx("div",{className:"space-y-4",children:o.items.map(S=>f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("img",{src:S.imageUrl,alt:S.name,className:"w-20 h-20 object-cover rounded-md"}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("p",{className:"text-brand-text font-medium",children:S.name}),f.jsxs("p",{className:"text-brand-text-secondary text-sm",children:["SKU: ",S.sku]}),f.jsxs("p",{className:"text-brand-text-secondary text-sm",children:["¥",S.price.toLocaleString()," × ",S.quantity]})]}),f.jsxs("p",{className:"text-brand-primary font-semibold",children:["¥",(S.price*S.quantity).toLocaleString()]})]},S.productId))}),f.jsx("div",{className:"border-t border-gray-600 mt-6 pt-4",children:f.jsx("div",{className:"flex justify-end",children:f.jsxs("div",{className:"w-64 space-y-2",children:[f.jsxs("div",{className:"flex justify-between text-brand-text-secondary",children:[f.jsx("span",{children:"商品小计"}),f.jsxs("span",{children:["¥",o.subtotal.toLocaleString()]})]}),f.jsxs("div",{className:"flex justify-between text-brand-text-secondary",children:[f.jsx("span",{children:"运费"}),f.jsx("span",{children:o.shipping===0?"免运费":`¥${o.shipping}`})]}),o.tax>0&&f.jsxs("div",{className:"flex justify-between text-brand-text-secondary",children:[f.jsx("span",{children:"税费"}),f.jsxs("span",{children:["¥",o.tax.toLocaleString()]})]}),f.jsxs("div",{className:"flex justify-between text-xl font-bold text-brand-primary border-t border-gray-600 pt-2",children:[f.jsx("span",{children:"总计"}),f.jsxs("span",{children:["¥",o.total.toLocaleString()]})]})]})})})]}),o.notes&&f.jsxs("div",{className:"border-t border-gray-600 pt-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-brand-text mb-2",children:"订单备注"}),f.jsx("p",{className:"text-brand-text-secondary",children:o.notes})]}),f.jsx("div",{className:"border-t border-gray-600 pt-6",children:f.jsxs("div",{className:"flex space-x-4",children:[o.status===ee.PENDING&&f.jsx(oe,{to:`/payment/${o.id}`,className:"bg-brand-primary text-brand-bg font-semibold py-2 px-4 rounded-md hover:bg-brand-primary-dark transition-colors",children:"去支付"}),f.jsx(oe,{to:"/products",className:"border border-brand-primary text-brand-primary font-semibold py-2 px-4 rounded-md hover:bg-brand-primary hover:text-brand-bg transition-colors",children:"继续购物"})]})})]})]}):f.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[f.jsx("h1",{className:"text-4xl font-serif font-bold text-brand-text text-center",children:t?"我的订单":"所有订单"}),!t&&f.jsxs("div",{className:"bg-brand-primary/10 border border-brand-primary/30 p-4 rounded-lg text-center",children:[f.jsx("h3",{className:"text-brand-primary font-medium mb-2",children:"提示"}),f.jsx("p",{className:"text-brand-text-secondary text-sm mb-4",children:"您当前以游客模式浏览。登录后可以查看和管理您的个人订单。"}),f.jsxs("div",{className:"space-x-3",children:[f.jsx(oe,{to:"/login",className:"bg-brand-primary text-brand-bg px-4 py-2 rounded-md text-sm hover:bg-brand-primary-dark transition-colors",children:"登录"}),f.jsx(oe,{to:"/register",className:"border border-brand-primary text-brand-primary px-4 py-2 rounded-md text-sm hover:bg-brand-primary hover:text-brand-bg transition-colors",children:"注册"})]})]}),i.length===0?f.jsxs("div",{className:"text-center py-16",children:[f.jsx("h2",{className:"text-2xl font-serif font-bold text-brand-text mb-4",children:"暂无订单"}),f.jsx("p",{className:"text-brand-text-secondary text-lg mb-8",children:"您还没有任何订单记录"}),f.jsx(oe,{to:"/products",className:"bg-brand-primary text-brand-bg font-semibold py-3 px-6 rounded-md hover:bg-brand-primary-dark transition-colors",children:"开始购物"})]}):f.jsx("div",{className:"space-y-4",children:i.map(S=>f.jsxs("div",{className:"bg-brand-surface p-6 rounded-lg shadow-lg",children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-semibold text-brand-text",children:["订单号: ",S.id]}),f.jsxs("p",{className:"text-brand-text-secondary text-sm",children:["创建时间: ",b(S.createdAt)]})]}),f.jsxs("div",{className:"flex items-center space-x-4 mt-2 md:mt-0",children:[f.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${v(S.status)}`,children:_(S.status)}),f.jsxs("span",{className:"text-brand-primary font-bold text-lg",children:["¥",S.total.toLocaleString()]})]})]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-brand-text font-medium mb-2",children:"商品信息"}),f.jsxs("div",{className:"space-y-2",children:[S.items.slice(0,2).map(N=>f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("img",{src:N.imageUrl,alt:N.name,className:"w-12 h-12 object-cover rounded-md"}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("p",{className:"text-brand-text text-sm font-medium truncate",children:N.name}),f.jsxs("p",{className:"text-brand-text-secondary text-xs",children:["¥",N.price.toLocaleString()," × ",N.quantity]})]})]},N.productId)),S.items.length>2&&f.jsxs("p",{className:"text-brand-text-secondary text-sm",children:["等 ",S.items.length," 件商品"]})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-brand-text font-medium mb-2",children:"收货信息"}),f.jsxs("div",{className:"text-brand-text-secondary text-sm",children:[f.jsxs("p",{children:[S.shippingAddress.name," ",S.shippingAddress.phone]}),f.jsxs("p",{children:[S.shippingAddress.province," ",S.shippingAddress.city," ",S.shippingAddress.district]}),f.jsx("p",{className:"truncate",children:S.shippingAddress.address})]})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mt-6 pt-4 border-t border-gray-600",children:[f.jsxs("div",{className:"flex space-x-4 mb-2 sm:mb-0",children:[f.jsx(oe,{to:`/orders/${S.id}`,className:"text-brand-primary hover:underline text-sm",children:"查看详情"}),S.status===ee.PENDING&&f.jsx(oe,{to:`/payment/${S.id}`,className:"text-brand-primary hover:underline text-sm",children:"去支付"})]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("p",{className:"text-brand-text-secondary text-sm",children:["共 ",S.items.reduce((N,E)=>N+E.quantity,0)," 件商品"]}),f.jsxs("p",{className:"text-brand-text-secondary text-sm",children:["实付 ",f.jsxs("span",{className:"text-brand-primary font-semibold",children:["¥",S.total.toLocaleString()]})]})]})]})]},S.id))})]})},BM=()=>{const s=ca(),e=tn(),{login:t,isAuthenticated:i,loading:l}=da(),[o,m]=M.useState({email:"",password:"",rememberMe:!1}),[g,x]=M.useState({}),[p,v]=M.useState(!1),[_,b]=M.useState(null);M.useEffect(()=>{var D,I;if(i){const V=((I=(D=e.state)==null?void 0:D.from)==null?void 0:I.pathname)||"/";s(V,{replace:!0})}},[i,s,e]);const S=()=>{const D={};return o.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)||(D.email="邮箱格式不正确"):D.email="请输入邮箱",o.password||(D.password="请输入密码"),x(D),Object.keys(D).length===0},N=async D=>{if(D.preventDefault(),!!S()){v(!0),b(null);try{const I=await t(o);I.success?b({type:"success",text:I.message}):b({type:"error",text:I.message})}catch{b({type:"error",text:"登录失败，请重试"})}finally{v(!1)}}},E=D=>{const{name:I,value:V,type:q,checked:Z}=D.target;m(F=>({...F,[I]:q==="checkbox"?Z:V})),g[I]&&x(F=>({...F,[I]:""}))};return l?f.jsx("div",{className:"flex justify-center items-center min-h-screen",children:f.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-brand-primary"})}):f.jsxs("div",{className:"max-w-md mx-auto",children:[f.jsxs("div",{className:"bg-brand-surface p-8 rounded-lg shadow-xl",children:[f.jsx("h1",{className:"text-3xl font-serif font-bold text-brand-text text-center mb-6",children:"登录"}),_&&f.jsx("div",{className:`mb-6 p-4 rounded-md ${_.type==="success"?"bg-green-500/10 border border-green-500/30 text-green-400":"bg-red-500/10 border border-red-500/30 text-red-400"}`,children:_.text}),f.jsxs("form",{onSubmit:N,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-brand-text-secondary mb-2",children:"邮箱 *"}),f.jsx("input",{type:"email",id:"email",name:"email",value:o.email,onChange:E,className:"w-full p-3 bg-brand-bg border border-gray-600 rounded-md text-brand-text focus:border-brand-primary focus:outline-none",placeholder:"请输入邮箱",autoComplete:"email"}),g.email&&f.jsx("p",{className:"text-red-400 text-sm mt-1",children:g.email})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-brand-text-secondary mb-2",children:"密码 *"}),f.jsx("input",{type:"password",id:"password",name:"password",value:o.password,onChange:E,className:"w-full p-3 bg-brand-bg border border-gray-600 rounded-md text-brand-text focus:border-brand-primary focus:outline-none",placeholder:"请输入密码",autoComplete:"current-password"}),g.password&&f.jsx("p",{className:"text-red-400 text-sm mt-1",children:g.password})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[f.jsx("input",{type:"checkbox",name:"rememberMe",checked:o.rememberMe,onChange:E,className:"w-4 h-4 text-brand-primary bg-brand-bg border-gray-600 rounded focus:ring-brand-primary focus:ring-2"}),f.jsx("span",{className:"text-brand-text-secondary text-sm",children:"记住我"})]}),f.jsx(oe,{to:"/forgot-password",className:"text-brand-primary hover:underline text-sm",children:"忘记密码？"})]}),f.jsx("button",{type:"submit",disabled:p,className:"w-full bg-brand-primary text-brand-bg font-bold py-3 px-6 rounded-md text-lg hover:bg-brand-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:p?"登录中...":"登录"})]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsxs("p",{className:"text-brand-text-secondary",children:["还没有账户？"," ",f.jsx(oe,{to:"/register",className:"text-brand-primary hover:underline font-medium",children:"立即注册"})]})}),f.jsx("div",{className:"mt-6 text-center",children:f.jsxs("p",{className:"text-brand-text-secondary text-sm",children:["登录即表示您同意我们的"," ",f.jsx(oe,{to:"/terms",className:"text-brand-primary hover:underline",children:"服务条款"})," ","和"," ",f.jsx(oe,{to:"/privacy",className:"text-brand-primary hover:underline",children:"隐私政策"})]})})]}),f.jsxs("div",{className:"mt-6 bg-brand-surface/50 p-4 rounded-lg",children:[f.jsx("h3",{className:"text-brand-text font-medium mb-2",children:"🚀 快速体验"}),f.jsx("p",{className:"text-brand-text-secondary text-sm mb-3",children:"您可以先注册一个账户，或者以游客身份继续购物。登录后可以："}),f.jsxs("ul",{className:"text-brand-text-secondary text-sm space-y-1",children:[f.jsx("li",{children:"• 查看和管理您的订单"}),f.jsx("li",{children:"• 保存收货地址"}),f.jsx("li",{children:"• 享受会员专享优惠"}),f.jsx("li",{children:"• 获得更好的购物体验"})]}),f.jsxs("div",{className:"mt-4 space-x-3",children:[f.jsx(oe,{to:"/register",className:"inline-block bg-brand-primary text-brand-bg text-sm font-medium py-2 px-4 rounded-md hover:bg-brand-primary-dark transition-colors",children:"立即注册"}),f.jsx(oe,{to:"/products",className:"inline-block border border-brand-primary text-brand-primary text-sm font-medium py-2 px-4 rounded-md hover:bg-brand-primary hover:text-brand-bg transition-colors",children:"继续购物"})]})]})]})},qM=()=>{const s=ca(),{register:e,isAuthenticated:t,loading:i}=da(),[l,o]=M.useState({email:"",password:"",confirmPassword:"",name:"",phone:"",acceptTerms:!1}),[m,g]=M.useState({}),[x,p]=M.useState(!1),[v,_]=M.useState(null);M.useEffect(()=>{t&&s("/",{replace:!0})},[t,s]);const b=()=>{const E={};return l.name.trim()?l.name.trim().length<2&&(E.name="姓名至少2个字符"):E.name="请输入姓名",l.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)||(E.email="邮箱格式不正确"):E.email="请输入邮箱",l.password?l.password.length<6?E.password="密码长度至少6位":/(?=.*[a-zA-Z])(?=.*\d)/.test(l.password)||(E.password="密码需包含字母和数字"):E.password="请输入密码",l.confirmPassword?l.password!==l.confirmPassword&&(E.confirmPassword="两次输入的密码不一致"):E.confirmPassword="请确认密码",l.phone&&!/^1[3-9]\d{9}$/.test(l.phone)&&(E.phone="手机号格式不正确"),l.acceptTerms||(E.acceptTerms="请同意服务条款和隐私政策"),g(E),Object.keys(E).length===0},S=async E=>{if(E.preventDefault(),!!b()){p(!0),_(null);try{const D=await e(l);D.success?(_({type:"success",text:"注册成功！正在为您登录..."}),setTimeout(()=>{s("/",{replace:!0})},2e3)):_({type:"error",text:D.message})}catch{_({type:"error",text:"注册失败，请重试"})}finally{p(!1)}}},N=E=>{const{name:D,value:I,type:V,checked:q}=E.target;o(Z=>({...Z,[D]:V==="checkbox"?q:I})),m[D]&&g(Z=>({...Z,[D]:""}))};return i?f.jsx("div",{className:"flex justify-center items-center min-h-screen",children:f.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-brand-primary"})}):f.jsxs("div",{className:"max-w-md mx-auto",children:[f.jsxs("div",{className:"bg-brand-surface p-8 rounded-lg shadow-xl",children:[f.jsx("h1",{className:"text-3xl font-serif font-bold text-brand-text text-center mb-6",children:"注册"}),v&&f.jsx("div",{className:`mb-6 p-4 rounded-md ${v.type==="success"?"bg-green-500/10 border border-green-500/30 text-green-400":"bg-red-500/10 border border-red-500/30 text-red-400"}`,children:v.text}),f.jsxs("form",{onSubmit:S,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"name",className:"block text-brand-text-secondary mb-2",children:"姓名 *"}),f.jsx("input",{type:"text",id:"name",name:"name",value:l.name,onChange:N,className:"w-full p-3 bg-brand-bg border border-gray-600 rounded-md text-brand-text focus:border-brand-primary focus:outline-none",placeholder:"请输入您的姓名",autoComplete:"name"}),m.name&&f.jsx("p",{className:"text-red-400 text-sm mt-1",children:m.name})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-brand-text-secondary mb-2",children:"邮箱 *"}),f.jsx("input",{type:"email",id:"email",name:"email",value:l.email,onChange:N,className:"w-full p-3 bg-brand-bg border border-gray-600 rounded-md text-brand-text focus:border-brand-primary focus:outline-none",placeholder:"请输入邮箱",autoComplete:"email"}),m.email&&f.jsx("p",{className:"text-red-400 text-sm mt-1",children:m.email})]}),f.jsxs("div",{children:[f.jsxs("label",{htmlFor:"phone",className:"block text-brand-text-secondary mb-2",children:["手机号 ",f.jsx("span",{className:"text-gray-500",children:"(可选)"})]}),f.jsx("input",{type:"tel",id:"phone",name:"phone",value:l.phone,onChange:N,className:"w-full p-3 bg-brand-bg border border-gray-600 rounded-md text-brand-text focus:border-brand-primary focus:outline-none",placeholder:"请输入手机号",autoComplete:"tel"}),m.phone&&f.jsx("p",{className:"text-red-400 text-sm mt-1",children:m.phone})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-brand-text-secondary mb-2",children:"密码 *"}),f.jsx("input",{type:"password",id:"password",name:"password",value:l.password,onChange:N,className:"w-full p-3 bg-brand-bg border border-gray-600 rounded-md text-brand-text focus:border-brand-primary focus:outline-none",placeholder:"请输入密码（至少6位，包含字母和数字）",autoComplete:"new-password"}),m.password&&f.jsx("p",{className:"text-red-400 text-sm mt-1",children:m.password})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"confirmPassword",className:"block text-brand-text-secondary mb-2",children:"确认密码 *"}),f.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:l.confirmPassword,onChange:N,className:"w-full p-3 bg-brand-bg border border-gray-600 rounded-md text-brand-text focus:border-brand-primary focus:outline-none",placeholder:"请再次输入密码",autoComplete:"new-password"}),m.confirmPassword&&f.jsx("p",{className:"text-red-400 text-sm mt-1",children:m.confirmPassword})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[f.jsx("input",{type:"checkbox",name:"acceptTerms",checked:l.acceptTerms,onChange:N,className:"w-4 h-4 text-brand-primary bg-brand-bg border-gray-600 rounded focus:ring-brand-primary focus:ring-2 mt-1"}),f.jsxs("span",{className:"text-brand-text-secondary text-sm",children:["我已阅读并同意"," ",f.jsx(oe,{to:"/terms",className:"text-brand-primary hover:underline",children:"服务条款"})," ","和"," ",f.jsx(oe,{to:"/privacy",className:"text-brand-primary hover:underline",children:"隐私政策"})]})]}),m.acceptTerms&&f.jsx("p",{className:"text-red-400 text-sm mt-1",children:m.acceptTerms})]}),f.jsx("button",{type:"submit",disabled:x,className:"w-full bg-brand-primary text-brand-bg font-bold py-3 px-6 rounded-md text-lg hover:bg-brand-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?"注册中...":"注册"})]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsxs("p",{className:"text-brand-text-secondary",children:["已有账户？"," ",f.jsx(oe,{to:"/login",className:"text-brand-primary hover:underline font-medium",children:"立即登录"})]})})]}),f.jsxs("div",{className:"mt-6 bg-brand-surface/50 p-4 rounded-lg",children:[f.jsx("h3",{className:"text-brand-text font-medium mb-2",children:"🎯 注册即享专属权益"}),f.jsxs("div",{className:"grid grid-cols-2 gap-3 text-brand-text-secondary text-sm",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-brand-primary font-medium mb-1",children:"购物便利"}),f.jsxs("ul",{className:"space-y-1",children:[f.jsx("li",{children:"• 订单追踪管理"}),f.jsx("li",{children:"• 收货地址保存"}),f.jsx("li",{children:"• 购物车同步"})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-brand-primary font-medium mb-1",children:"专享服务"}),f.jsxs("ul",{className:"space-y-1",children:[f.jsx("li",{children:"• 会员专属优惠"}),f.jsx("li",{children:"• 生日特惠礼品"}),f.jsx("li",{children:"• 优先客服支持"})]})]})]}),f.jsx("div",{className:"mt-4 text-center",children:f.jsx(oe,{to:"/products",className:"inline-block text-brand-primary hover:underline text-sm",children:"暂不注册，继续浏览商品 →"})})]})]})},GM=()=>{const s=ca(),{user:e,isAuthenticated:t,logout:i,updateProfile:l,changePassword:o}=da(),[m,g]=M.useState("profile"),[x,p]=M.useState([]),[v,_]=M.useState(!0),[b,S]=M.useState(null),[N,E]=M.useState({name:"",email:"",phone:""}),[D,I]=M.useState({oldPassword:"",newPassword:"",confirmPassword:""}),[V,q]=M.useState(!1);M.useEffect(()=>{if(!t){s("/login",{state:{from:{pathname:"/profile"}},replace:!0});return}e&&E({name:e.name,email:e.email,phone:e.phone||""}),Z()},[t,e,s]);const Z=async()=>{try{const J=await Fs.getUserOrders(),te=e?J.filter(ue=>ue.userId===e.id):[];p(te)}catch(J){console.error("加载订单失败:",J)}finally{_(!1)}},F=async()=>{window.confirm("确定要退出登录吗？")&&(await i(),s("/",{replace:!0}))},ae=J=>{switch(J){case ee.PENDING:return"待支付";case ee.PAID:return"已支付";case ee.PROCESSING:return"处理中";case ee.SHIPPED:return"已发货";case ee.DELIVERED:return"已送达";case ee.CANCELLED:return"已取消";default:return"未知状态"}},z=J=>new Date(J).toLocaleString("zh-CN");return v?f.jsx("div",{className:"flex justify-center items-center min-h-screen",children:f.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-brand-primary"})}):e?f.jsxs("div",{className:"max-w-6xl mx-auto",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-4xl font-serif font-bold text-brand-text mb-2",children:"个人中心"}),f.jsxs("p",{className:"text-brand-text-secondary",children:["欢迎回来，",e.name,"！管理您的个人信息和订单。"]})]}),b&&f.jsx("div",{className:`mb-6 p-4 rounded-md ${b.type==="success"?"bg-green-500/10 border border-green-500/30 text-green-400":"bg-red-500/10 border border-red-500/30 text-red-400"}`,children:b.text}),f.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[f.jsx("div",{className:"lg:col-span-1",children:f.jsxs("div",{className:"bg-brand-surface p-6 rounded-lg",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("div",{className:"w-20 h-20 bg-brand-primary rounded-full flex items-center justify-center mx-auto mb-3",children:f.jsx("span",{className:"text-brand-bg text-2xl font-bold",children:e.name.charAt(0).toUpperCase()})}),f.jsx("h3",{className:"text-brand-text font-semibold",children:e.name}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:e.email})]}),f.jsxs("nav",{className:"space-y-2",children:[f.jsx("button",{onClick:()=>g("profile"),className:`w-full text-left px-4 py-3 rounded-md transition-colors ${m==="profile"?"bg-brand-primary text-brand-bg":"text-brand-text-secondary hover:bg-gray-700 hover:text-brand-text"}`,children:"个人信息"}),f.jsxs("button",{onClick:()=>g("orders"),className:`w-full text-left px-4 py-3 rounded-md transition-colors ${m==="orders"?"bg-brand-primary text-brand-bg":"text-brand-text-secondary hover:bg-gray-700 hover:text-brand-text"}`,children:["我的订单 (",x.length,")"]}),f.jsx("button",{onClick:F,className:"w-full text-left px-4 py-3 rounded-md text-red-400 hover:bg-red-800/50 transition-colors",children:"退出登录"})]})]})}),f.jsx("div",{className:"lg:col-span-3",children:f.jsxs("div",{className:"bg-brand-surface p-6 rounded-lg",children:[m==="profile"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-semibold text-brand-text mb-6",children:"个人信息"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-2",children:"姓名"}),f.jsx("p",{className:"text-brand-text",children:e.name})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-2",children:"邮箱"}),f.jsx("p",{className:"text-brand-text",children:e.email})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-2",children:"手机号"}),f.jsx("p",{className:"text-brand-text",children:e.phone||"未设置"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-2",children:"注册时间"}),f.jsx("p",{className:"text-brand-text",children:z(e.createdAt)})]})]})]}),m==="orders"&&f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-semibold text-brand-text",children:"我的订单"}),f.jsx(oe,{to:"/user-center#orders",className:"text-brand-primary hover:underline",children:"查看全部订单 →"})]}),x.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("h3",{className:"text-xl text-brand-text mb-2",children:"暂无订单"}),f.jsx("p",{className:"text-brand-text-secondary mb-6",children:"您还没有任何订单记录"}),f.jsx(oe,{to:"/products",className:"bg-brand-primary text-brand-bg font-semibold py-3 px-6 rounded-md hover:bg-brand-primary-dark transition-colors",children:"开始购物"})]}):f.jsx("div",{className:"space-y-4",children:x.slice(0,5).map(J=>f.jsxs("div",{className:"border border-gray-600 rounded-lg p-4",children:[f.jsxs("div",{className:"flex justify-between items-start mb-3",children:[f.jsxs("div",{children:[f.jsxs("h4",{className:"text-brand-text font-medium",children:["订单号: ",J.id]}),f.jsxs("p",{className:"text-brand-text-secondary text-sm",children:["下单时间: ",z(J.createdAt)]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-brand-primary/20 text-brand-primary",children:ae(J.status)}),f.jsxs("p",{className:"text-brand-primary font-semibold mt-1",children:["¥",J.total.toLocaleString()]})]})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("span",{className:"text-brand-text-secondary text-sm",children:["共",J.items.length,"件商品"]}),f.jsx(oe,{to:`/orders/${J.id}`,className:"text-brand-primary hover:underline text-sm",children:"查看详情"})]})]},J.id))})]})]})})]})]}):null},zM=({orders:s,onRefresh:e})=>{const[t,i]=M.useState("all"),[l,o]=M.useState("date"),g=[...s.filter(b=>t==="all"?!0:b.status===t)].sort((b,S)=>l==="date"?new Date(S.createdAt).getTime()-new Date(b.createdAt).getTime():S.total-b.total),x=b=>{switch(b){case ee.PENDING:return"bg-yellow-500 bg-opacity-20 text-yellow-400 border-yellow-500";case ee.PAID:return"bg-green-500 bg-opacity-20 text-green-400 border-green-500";case ee.PROCESSING:return"bg-blue-500 bg-opacity-20 text-blue-400 border-blue-500";case ee.SHIPPED:return"bg-purple-500 bg-opacity-20 text-purple-400 border-purple-500";case ee.DELIVERED:return"bg-emerald-500 bg-opacity-20 text-emerald-400 border-emerald-500";case ee.CANCELLED:return"bg-red-500 bg-opacity-20 text-red-400 border-red-500";default:return"bg-gray-500 bg-opacity-20 text-gray-400 border-gray-500"}},p=b=>{switch(b){case ee.PENDING:return"待支付";case ee.PAID:return"已支付";case ee.PROCESSING:return"处理中";case ee.SHIPPED:return"已发货";case ee.DELIVERED:return"已送达";case ee.CANCELLED:return"已取消";default:return"未知状态"}},v=b=>new Date(b).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),_=b=>b==="all"?s.length:s.filter(S=>S.status===b).length;return f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-8",children:[f.jsxs("h2",{className:"text-3xl font-semibold text-brand-text flex items-center",children:[f.jsx("span",{className:"mr-3",children:"📦"}),"我的订单"]}),f.jsx("button",{onClick:e,className:"px-4 py-2 bg-brand-gold text-brand-bg rounded-lg hover:bg-yellow-600 transition-colors font-medium",children:"🔄 刷新"})]}),f.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[f.jsxs("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${t==="all"?"bg-brand-gold text-brand-bg shadow-md":"bg-gray-700 text-brand-text-secondary hover:bg-gray-600 hover:text-brand-text"}`,children:["全部 (",_("all"),")"]}),f.jsxs("button",{onClick:()=>i(ee.PENDING),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${t===ee.PENDING?"bg-yellow-500 text-brand-bg shadow-md":"bg-gray-700 text-brand-text-secondary hover:bg-gray-600 hover:text-brand-text"}`,children:["待支付 (",_(ee.PENDING),")"]}),f.jsxs("button",{onClick:()=>i(ee.PAID),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${t===ee.PAID?"bg-green-500 text-brand-bg shadow-md":"bg-gray-700 text-brand-text-secondary hover:bg-gray-600 hover:text-brand-text"}`,children:["已支付 (",_(ee.PAID),")"]}),f.jsxs("button",{onClick:()=>i(ee.SHIPPED),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${t===ee.SHIPPED?"bg-purple-500 text-brand-bg shadow-md":"bg-gray-700 text-brand-text-secondary hover:bg-gray-600 hover:text-brand-text"}`,children:["已发货 (",_(ee.SHIPPED),")"]}),f.jsxs("button",{onClick:()=>i(ee.DELIVERED),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${t===ee.DELIVERED?"bg-emerald-500 text-brand-bg shadow-md":"bg-gray-700 text-brand-text-secondary hover:bg-gray-600 hover:text-brand-text"}`,children:["已完成 (",_(ee.DELIVERED),")"]})]}),f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("span",{className:"text-brand-text-secondary text-sm",children:"排序方式："}),f.jsxs("select",{value:l,onChange:b=>o(b.target.value),className:"bg-gray-700 text-brand-text border border-gray-600 rounded px-3 py-1 text-sm focus:outline-none focus:border-brand-gold",children:[f.jsx("option",{value:"date",children:"按时间排序"}),f.jsx("option",{value:"amount",children:"按金额排序"})]})]}),f.jsxs("p",{className:"text-brand-text-secondary text-sm",children:["共 ",g.length," 个订单"]})]}),g.length>0?f.jsx("div",{className:"space-y-4",children:g.map(b=>f.jsxs("div",{className:"border border-gray-700 rounded-xl p-6 hover:border-brand-gold transition-all duration-200 hover:shadow-lg",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-semibold text-brand-text mb-1",children:["订单 #",b.id.slice(-8)]}),f.jsxs("p",{className:"text-brand-text-secondary text-sm",children:["下单时间：",v(b.createdAt)]}),b.paidAt&&f.jsxs("p",{className:"text-brand-text-secondary text-sm",children:["支付时间：",v(b.paidAt)]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium border ${x(b.status)}`,children:p(b.status)}),f.jsxs("p",{className:"text-brand-gold font-bold text-xl mt-2",children:["¥",b.total.toLocaleString()]})]})]}),f.jsx("div",{className:"space-y-3 mb-4",children:b.items.map((S,N)=>f.jsxs("div",{className:"flex items-center space-x-4 bg-gray-800 bg-opacity-30 rounded-lg p-3",children:[f.jsx("img",{src:S.imageUrl,alt:S.name,className:"w-16 h-16 object-cover rounded-md"}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("p",{className:"text-brand-text font-medium",children:S.name}),f.jsxs("p",{className:"text-brand-text-secondary text-sm",children:["SKU: ",S.sku]}),f.jsxs("p",{className:"text-brand-text-secondary text-sm",children:["¥",S.price.toLocaleString()," × ",S.quantity]})]}),f.jsxs("p",{className:"text-brand-gold font-semibold",children:["¥",(S.price*S.quantity).toLocaleString()]})]},N))}),f.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-700",children:[f.jsxs("div",{className:"flex space-x-3",children:[f.jsx(oe,{to:`/orders/${b.id}`,className:"px-4 py-2 border border-brand-gold text-brand-gold rounded-lg hover:bg-brand-gold hover:text-brand-bg transition-colors font-medium",children:"查看详情"}),b.status===ee.PENDING&&f.jsx(oe,{to:`/payment/${b.id}`,className:"px-4 py-2 bg-brand-gold text-brand-bg rounded-lg hover:bg-yellow-600 transition-colors font-medium",children:"立即支付"}),b.status===ee.DELIVERED&&f.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"再次购买"})]}),f.jsxs("div",{className:"text-brand-text-secondary text-sm",children:[b.items.length," 件商品"]})]})]},b.id))}):f.jsxs("div",{className:"text-center py-16",children:[f.jsx("span",{className:"text-8xl mb-6 block",children:"📭"}),f.jsx("h3",{className:"text-xl font-semibold text-brand-text mb-2",children:t==="all"?"还没有订单":"暂无相关订单"}),f.jsx("p",{className:"text-brand-text-secondary mb-6",children:t==="all"?"开始您的第一次购物之旅吧！":"试试其他状态的订单或去购买新商品"}),f.jsx(oe,{to:"/products",className:"inline-block px-8 py-3 bg-brand-gold text-brand-bg rounded-lg hover:bg-yellow-600 transition-colors font-medium",children:"去购物"})]})]})},HM=({user:s})=>{const{updateProfile:e,changePassword:t}=da(),[i,l]=M.useState("profile"),[o,m]=M.useState(!1),[g,x]=M.useState(null),[p,v]=M.useState({name:s.name,email:s.email,phone:s.phone||"",avatar:s.avatar||""}),[_,b]=M.useState({oldPassword:"",newPassword:"",confirmPassword:""}),[S,N]=M.useState([{id:"1",name:s.name,phone:s.phone||"",province:"上海市",city:"上海市",district:"浦东新区",address:"陆家嘴金融中心 888号",isDefault:!0}]),[E,D]=M.useState({}),[I,V]=M.useState(!1),[q,Z]=M.useState(null),[F,ae]=M.useState({emailNotifications:!0,smsNotifications:!1,promotionalEmails:!0,orderUpdates:!0,newsletter:!1}),z=(K,we)=>{x({type:K,text:we}),setTimeout(()=>x(null),3e3)},J=async K=>{K.preventDefault(),m(!0);try{await e(p),z("success","个人信息更新成功！")}catch{z("error","更新失败，请重试。")}finally{m(!1)}},te=async K=>{if(K.preventDefault(),_.newPassword!==_.confirmPassword){z("error","两次输入的密码不一致！");return}if(_.newPassword.length<6){z("error","新密码长度至少6位！");return}m(!0);try{await t(_.oldPassword,_.newPassword),z("success","密码修改成功！"),b({oldPassword:"",newPassword:"",confirmPassword:""})}catch{z("error","密码修改失败，请检查原密码是否正确。")}finally{m(!1)}},ue=K=>{if(K.preventDefault(),!E.name||!E.phone||!E.address){z("error","请填写完整的地址信息！");return}const we={id:q||Date.now().toString(),name:E.name,phone:E.phone,province:E.province||"上海市",city:E.city||"上海市",district:E.district||"",address:E.address,isDefault:E.isDefault||!1};q?(N(S.map(O=>O.id===q?we:O)),z("success","地址更新成功！")):(N([...S,we]),z("success","地址添加成功！")),D({}),V(!1),Z(null)},Ue=K=>{window.confirm("确定要删除此地址吗？")&&(N(S.filter(we=>we.id!==K)),z("success","地址删除成功！"))},Pe=K=>{N(S.map(we=>({...we,isDefault:we.id===K}))),z("success","默认地址设置成功！")},Pt=K=>new Date(K).toLocaleDateString("zh-CN");return f.jsxs("div",{children:[f.jsx("div",{className:"flex justify-between items-center mb-8",children:f.jsxs("h2",{className:"text-3xl font-semibold text-brand-text flex items-center",children:[f.jsx("span",{className:"mr-3",children:"⚙️"}),"设置"]})}),g&&f.jsx("div",{className:`mb-6 p-4 rounded-lg border ${g.type==="success"?"bg-green-500 bg-opacity-20 border-green-500 text-green-400":"bg-red-500 bg-opacity-20 border-red-500 text-red-400"}`,children:g.text}),f.jsxs("div",{className:"flex flex-wrap gap-3 mb-8",children:[f.jsx("button",{onClick:()=>l("profile"),className:`px-6 py-3 rounded-lg font-medium transition-all duration-200 ${i==="profile"?"bg-brand-gold text-brand-bg shadow-md":"bg-gray-700 text-brand-text-secondary hover:bg-gray-600 hover:text-brand-text"}`,children:"👤 个人信息"}),f.jsx("button",{onClick:()=>l("addresses"),className:`px-6 py-3 rounded-lg font-medium transition-all duration-200 ${i==="addresses"?"bg-brand-gold text-brand-bg shadow-md":"bg-gray-700 text-brand-text-secondary hover:bg-gray-600 hover:text-brand-text"}`,children:"📍 收货地址"}),f.jsx("button",{onClick:()=>l("password"),className:`px-6 py-3 rounded-lg font-medium transition-all duration-200 ${i==="password"?"bg-brand-gold text-brand-bg shadow-md":"bg-gray-700 text-brand-text-secondary hover:bg-gray-600 hover:text-brand-text"}`,children:"🔒 修改密码"}),f.jsx("button",{onClick:()=>l("preferences"),className:`px-6 py-3 rounded-lg font-medium transition-all duration-200 ${i==="preferences"?"bg-brand-gold text-brand-bg shadow-md":"bg-gray-700 text-brand-text-secondary hover:bg-gray-600 hover:text-brand-text"}`,children:"🔔 通知偏好"})]}),i==="profile"&&f.jsxs("div",{className:"bg-gray-800 bg-opacity-30 rounded-xl p-6",children:[f.jsx("h3",{className:"text-xl font-semibold text-brand-text mb-6",children:"个人信息"}),f.jsxs("form",{onSubmit:J,className:"space-y-6",children:[f.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text mb-2 font-medium",children:"姓名"}),f.jsx("input",{type:"text",value:p.name,onChange:K=>v({...p,name:K.target.value}),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-brand-text focus:outline-none focus:border-brand-gold",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text mb-2 font-medium",children:"邮箱"}),f.jsx("input",{type:"email",value:p.email,onChange:K=>v({...p,email:K.target.value}),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-brand-text focus:outline-none focus:border-brand-gold",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text mb-2 font-medium",children:"手机号"}),f.jsx("input",{type:"tel",value:p.phone,onChange:K=>v({...p,phone:K.target.value}),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-brand-text focus:outline-none focus:border-brand-gold"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text mb-2 font-medium",children:"注册时间"}),f.jsx("div",{className:"px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-brand-text",children:Pt(s.createdAt)})]})]}),f.jsx("button",{type:"submit",disabled:o,className:"px-6 py-3 bg-brand-gold text-brand-bg rounded-lg hover:bg-yellow-600 transition-colors font-medium disabled:opacity-50",children:o?"更新中...":"保存修改"})]})]}),i==="addresses"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h3",{className:"text-xl font-semibold text-brand-text",children:"收货地址"}),f.jsx("button",{onClick:()=>{D({}),Z(null),V(!0)},className:"px-4 py-2 bg-brand-gold text-brand-bg rounded-lg hover:bg-yellow-600 transition-colors font-medium",children:"➕ 添加地址"})]}),f.jsx("div",{className:"space-y-4",children:S.map(K=>f.jsx("div",{className:"bg-gray-800 bg-opacity-30 rounded-xl p-6 border border-gray-700",children:f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[f.jsx("h4",{className:"text-brand-text font-semibold",children:K.name}),f.jsx("span",{className:"text-brand-text opacity-80",children:K.phone}),K.isDefault&&f.jsx("span",{className:"bg-brand-gold bg-opacity-20 text-white text-xs px-2 py-1 rounded-full",children:"默认地址"})]}),f.jsxs("p",{className:"text-brand-text-secondary",children:[K.province," ",K.city," ",K.district," ",K.address]})]}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:()=>{D(K),Z(K.id),V(!0)},className:"text-brand-gold hover:text-yellow-300 transition-colors",children:"编辑"}),!K.isDefault&&f.jsx("button",{onClick:()=>Pe(K.id),className:"text-blue-400 hover:text-blue-300 transition-colors",children:"设为默认"}),f.jsx("button",{onClick:()=>Ue(K.id),className:"text-red-400 hover:text-red-300 transition-colors",children:"删除"})]})]})},K.id))}),I&&f.jsxs("div",{className:"bg-gray-800 bg-opacity-50 rounded-xl p-6 border border-brand-gold",children:[f.jsx("h4",{className:"text-lg font-semibold text-brand-text mb-4",children:q?"编辑地址":"添加新地址"}),f.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[f.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-2",children:"收件人姓名"}),f.jsx("input",{type:"text",value:E.name||"",onChange:K=>D({...E,name:K.target.value}),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-brand-text focus:outline-none focus:border-brand-gold",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-2",children:"手机号"}),f.jsx("input",{type:"tel",value:E.phone||"",onChange:K=>D({...E,phone:K.target.value}),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-brand-text focus:outline-none focus:border-brand-gold",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-2",children:"省份"}),f.jsxs("select",{value:E.province||"上海市",onChange:K=>D({...E,province:K.target.value}),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-brand-text focus:outline-none focus:border-brand-gold",children:[f.jsx("option",{value:"上海市",children:"上海市"}),f.jsx("option",{value:"北京市",children:"北京市"}),f.jsx("option",{value:"广东省",children:"广东省"}),f.jsx("option",{value:"江苏省",children:"江苏省"}),f.jsx("option",{value:"浙江省",children:"浙江省"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-2",children:"城市"}),f.jsx("input",{type:"text",value:E.city||"",onChange:K=>D({...E,city:K.target.value}),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-brand-text focus:outline-none focus:border-brand-gold",placeholder:"请输入城市"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-2",children:"详细地址"}),f.jsx("textarea",{value:E.address||"",onChange:K=>D({...E,address:K.target.value}),rows:3,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-brand-text focus:outline-none focus:border-brand-gold",placeholder:"请输入详细地址",required:!0})]}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("input",{type:"checkbox",id:"isDefault",checked:E.isDefault||!1,onChange:K=>D({...E,isDefault:K.target.checked}),className:"w-4 h-4 text-brand-gold bg-gray-700 border-gray-600 rounded focus:ring-brand-gold"}),f.jsx("label",{htmlFor:"isDefault",className:"text-brand-text-secondary",children:"设为默认地址"})]}),f.jsxs("div",{className:"flex space-x-4",children:[f.jsx("button",{type:"submit",className:"px-6 py-3 bg-brand-gold text-brand-bg rounded-lg hover:bg-yellow-600 transition-colors font-medium",children:q?"更新地址":"保存地址"}),f.jsx("button",{type:"button",onClick:()=>{V(!1),D({}),Z(null)},className:"px-6 py-3 bg-gray-600 text-brand-text rounded-lg hover:bg-gray-500 transition-colors font-medium",children:"取消"})]})]})]})]}),i==="password"&&f.jsxs("div",{className:"bg-gray-800 bg-opacity-30 rounded-xl p-6",children:[f.jsx("h3",{className:"text-xl font-semibold text-brand-text mb-6",children:"修改密码"}),f.jsxs("form",{onSubmit:te,className:"space-y-6 max-w-md",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-2",children:"当前密码"}),f.jsx("input",{type:"password",value:_.oldPassword,onChange:K=>b({..._,oldPassword:K.target.value}),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-brand-text focus:outline-none focus:border-brand-gold",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-2",children:"新密码"}),f.jsx("input",{type:"password",value:_.newPassword,onChange:K=>b({..._,newPassword:K.target.value}),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-brand-text focus:outline-none focus:border-brand-gold",required:!0,minLength:6}),f.jsx("p",{className:"text-brand-text-secondary text-sm mt-1",children:"密码长度至少6位"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-2",children:"确认新密码"}),f.jsx("input",{type:"password",value:_.confirmPassword,onChange:K=>b({..._,confirmPassword:K.target.value}),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-brand-text focus:outline-none focus:border-brand-gold",required:!0})]}),f.jsx("button",{type:"submit",disabled:o,className:"px-6 py-3 bg-brand-gold text-brand-bg rounded-lg hover:bg-yellow-600 transition-colors font-medium disabled:opacity-50",children:o?"修改中...":"修改密码"})]})]}),i==="preferences"&&f.jsxs("div",{className:"bg-gray-800 bg-opacity-30 rounded-xl p-6",children:[f.jsx("h3",{className:"text-xl font-semibold text-brand-text mb-6",children:"通知偏好"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-700",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-brand-text font-medium",children:"邮件通知"}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:"接收重要的账户和订单通知"})]}),f.jsx("input",{type:"checkbox",checked:F.emailNotifications,onChange:K=>ae({...F,emailNotifications:K.target.checked}),className:"w-5 h-5 text-brand-gold bg-gray-700 border-gray-600 rounded focus:ring-brand-gold"})]}),f.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-700",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-brand-text font-medium",children:"短信通知"}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:"接收订单状态更新短信"})]}),f.jsx("input",{type:"checkbox",checked:F.smsNotifications,onChange:K=>ae({...F,smsNotifications:K.target.checked}),className:"w-5 h-5 text-brand-gold bg-gray-700 border-gray-600 rounded focus:ring-brand-gold"})]}),f.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-700",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-brand-text font-medium",children:"促销邮件"}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:"接收促销活动和优惠信息"})]}),f.jsx("input",{type:"checkbox",checked:F.promotionalEmails,onChange:K=>ae({...F,promotionalEmails:K.target.checked}),className:"w-5 h-5 text-brand-gold bg-gray-700 border-gray-600 rounded focus:ring-brand-gold"})]}),f.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-700",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-brand-text font-medium",children:"订单更新"}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:"订单状态变化时发送通知"})]}),f.jsx("input",{type:"checkbox",checked:F.orderUpdates,onChange:K=>ae({...F,orderUpdates:K.target.checked}),className:"w-5 h-5 text-brand-gold bg-gray-700 border-gray-600 rounded focus:ring-brand-gold"})]}),f.jsxs("div",{className:"flex items-center justify-between py-3",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-brand-text font-medium",children:"新闻资讯"}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:"接收品牌新闻和产品资讯"})]}),f.jsx("input",{type:"checkbox",checked:F.newsletter,onChange:K=>ae({...F,newsletter:K.target.checked}),className:"w-5 h-5 text-brand-gold bg-gray-700 border-gray-600 rounded focus:ring-brand-gold"})]})]}),f.jsx("button",{onClick:()=>z("success","偏好设置已保存！"),className:"mt-6 px-6 py-3 bg-brand-gold text-brand-bg rounded-lg hover:bg-yellow-600 transition-colors font-medium",children:"保存设置"})]})]})},FM=({user:s})=>{const[e,t]=M.useState([]),[i,l]=M.useState(!0),[o,m]=M.useState("all"),g=[{id:"all",name:"全部推荐",icon:"💎"},{id:"trending",name:"热销推荐",icon:"🔥"},{id:"similar",name:"相似偏好",icon:"💫"},{id:"new",name:"新品推荐",icon:"✨"}];M.useEffect(()=>{x()},[s.id]);const x=async()=>{l(!0);try{const N=(await Qt.getInstance().findProducts()).map(E=>({id:E.id,name:E.name,brand:E.brand,price:E.price,originalPrice:E.price*1.2,imageUrl:E.images&&E.images.length>0?E.images[0]:"./images/seagull-logo.png",category:E.category,description:E.description,rating:4.2+Math.random()*.8,isNew:Math.random()>.7,isHot:Math.random()>.6,discount:Math.random()>.5?Math.floor(Math.random()*30)+10:void 0})).slice(0,12);t(N)}catch(b){console.error("加载推荐产品失败:",b)}finally{l(!1)}},p=()=>{switch(o){case"trending":return e.filter(b=>b.isHot);case"similar":return e.filter((b,S)=>S%3===0);case"new":return e.filter(b=>b.isNew);default:return e}},v=b=>b.toLocaleString("zh-CN"),_=b=>{const S=Math.floor(b),N=b%1!==0,E=[];for(let D=0;D<S;D++)E.push("⭐");return N&&E.push("🌟"),E.join("")};return i?f.jsx("div",{className:"flex justify-center items-center py-16",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-brand-gold border-t-transparent mx-auto mb-4"}),f.jsx("p",{className:"text-brand-text",children:"正在为您推荐精选好表..."})]})}):f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-8",children:[f.jsxs("h2",{className:"text-3xl font-semibold text-brand-text flex items-center",children:[f.jsx("span",{className:"mr-3",children:"💎"}),"猜你喜欢"]}),f.jsx("button",{onClick:x,className:"px-4 py-2 bg-brand-gold text-brand-bg rounded-lg hover:bg-yellow-600 transition-colors font-medium",children:"🔄 换一批"})]}),f.jsx("div",{className:"bg-gradient-to-r from-brand-gold/10 to-yellow-600/10 rounded-xl p-6 mb-8 border border-brand-gold/30",children:f.jsxs("div",{className:"flex items-start space-x-4",children:[f.jsx("span",{className:"text-3xl",children:"🎯"}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-brand-text mb-2",children:"专属推荐"}),f.jsx("p",{className:"text-brand-text-secondary",children:"基于您的购买历史、浏览偏好和个人品味，我们为您精心挑选了以下腕表。 每一款都经过专业团队的严格筛选，确保品质与您的期待相符。"})]})]})}),f.jsx("div",{className:"flex flex-wrap gap-3 mb-8",children:g.map(b=>f.jsxs("button",{onClick:()=>m(b.id),className:`px-6 py-3 rounded-lg font-medium transition-all duration-200 flex items-center space-x-2 ${o===b.id?"bg-brand-gold text-brand-bg shadow-md":"bg-gray-700 text-brand-text-secondary hover:bg-gray-600 hover:text-brand-text"}`,children:[f.jsx("span",{children:b.icon}),f.jsx("span",{children:b.name})]},b.id))}),f.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:p().map(b=>f.jsxs("div",{className:"bg-gray-800 bg-opacity-30 rounded-xl overflow-hidden border border-gray-700 hover:border-brand-gold transition-all duration-300 hover:shadow-xl group",children:[f.jsxs("div",{className:"relative overflow-hidden",children:[f.jsx("img",{src:b.imageUrl,alt:b.name,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300",onError:S=>{const N=S.target;N.src="./images/seagull-logo.png"},loading:"lazy"}),f.jsxs("div",{className:"absolute top-3 left-3 flex flex-col gap-2",children:[b.isNew&&f.jsx("span",{className:"bg-green-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:"新品"}),b.isHot&&f.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:"热销"}),b.discount&&f.jsxs("span",{className:"bg-brand-gold text-brand-bg text-xs px-2 py-1 rounded-full font-medium",children:["-",b.discount,"%"]})]}),f.jsx("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:f.jsx("button",{className:"bg-white bg-opacity-20 backdrop-blur-sm text-white p-2 rounded-full hover:bg-opacity-30 transition-colors",children:"❤️"})})]}),f.jsxs("div",{className:"p-4",children:[f.jsxs("div",{className:"mb-2",children:[f.jsx("h3",{className:"text-brand-text font-semibold text-lg leading-tight group-hover:text-brand-gold transition-colors",children:b.name}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:b.brand})]}),f.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[f.jsx("span",{className:"text-yellow-400 text-sm",children:_(b.rating)}),f.jsx("span",{className:"text-brand-text-secondary text-sm",children:b.rating.toFixed(1)})]}),f.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[f.jsxs("span",{className:"text-brand-gold font-bold text-xl",children:["¥",v(b.price)]}),b.originalPrice&&f.jsxs("span",{className:"text-brand-text-secondary text-sm line-through",children:["¥",v(b.originalPrice)]})]}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx(oe,{to:`/products/${b.id}`,className:"flex-1 bg-brand-gold text-brand-bg py-2 px-4 rounded-lg hover:bg-yellow-600 transition-colors font-medium text-center",children:"查看详情"}),f.jsx("button",{className:"bg-gray-700 text-brand-text py-2 px-4 rounded-lg hover:bg-gray-600 transition-colors",children:"🛒"})]})]})]},b.id))}),p().length===0&&f.jsxs("div",{className:"text-center py-16",children:[f.jsx("span",{className:"text-8xl mb-6 block",children:"🔍"}),f.jsx("h3",{className:"text-xl font-semibold text-brand-text mb-2",children:"暂无推荐产品"}),f.jsx("p",{className:"text-brand-text-secondary mb-6",children:"试试其他分类或稍后再来看看"}),f.jsx("button",{onClick:x,className:"px-6 py-3 bg-brand-gold text-brand-bg rounded-lg hover:bg-yellow-600 transition-colors font-medium",children:"重新推荐"})]}),p().length>0&&f.jsxs("div",{className:"mt-12 bg-gray-800 bg-opacity-30 rounded-xl p-6",children:[f.jsxs("h3",{className:"text-xl font-semibold text-brand-text mb-4 flex items-center",children:[f.jsx("span",{className:"mr-3",children:"🧠"}),"推荐理由"]}),f.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx("span",{className:"text-2xl",children:"📊"}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-brand-text font-medium mb-1",children:"个人偏好分析"}),f.jsx("p",{className:"text-brand-text text-sm opacity-80",children:"基于您的浏览和购买历史，推荐符合您品味的腕表"})]})]}),f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx("span",{className:"text-2xl",children:"🔥"}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-brand-text font-medium mb-1",children:"热门趋势"}),f.jsx("p",{className:"text-brand-text text-sm opacity-80",children:"结合当前流行趋势和其他用户的购买行为"})]})]}),f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx("span",{className:"text-2xl",children:"⭐"}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-brand-text font-medium mb-1",children:"品质保证"}),f.jsx("p",{className:"text-brand-text text-sm opacity-80",children:"只推荐高评分和优质品牌的精选产品"})]})]})]})]}),f.jsx("div",{className:"mt-8 text-center",children:f.jsxs("div",{className:"inline-flex items-center space-x-4 bg-gradient-to-r from-brand-gold/20 to-yellow-600/20 rounded-xl p-6 border border-brand-gold/30",children:[f.jsx("span",{className:"text-3xl",children:"💼"}),f.jsxs("div",{className:"text-left",children:[f.jsx("h4",{className:"text-brand-text font-semibold mb-1",children:"找不到心仪的腕表？"}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:"浏览全部产品，发现更多精彩"})]}),f.jsx(oe,{to:"/products",className:"px-6 py-3 bg-brand-gold text-brand-bg rounded-lg hover:bg-yellow-600 transition-colors font-medium whitespace-nowrap",children:"查看全部"})]})})]})},YM=()=>{const s=ca(),e=tn(),{user:t,isAuthenticated:i,logout:l}=da(),o=()=>{const I=e.hash;return I==="#orders"?"orders":I==="#settings"?"settings":I==="#recommendations"?"recommendations":"overview"},[m,g]=M.useState(o()),[x,p]=M.useState([]),[v,_]=M.useState(!0),[b,S]=M.useState({pending:0,paid:0,shipped:0,delivered:0});M.useEffect(()=>{if(!i){s("/login",{state:{from:{pathname:"/user-center"}},replace:!0});return}N()},[i,t,s]),M.useEffect(()=>{g(o())},[e.hash]);const N=async()=>{try{_(!0);const I=await Ei.getUserOrders(t==null?void 0:t.id);p(I);const V={pending:I.filter(q=>q.status===ee.PENDING).length,paid:I.filter(q=>q.status===ee.PAID).length,shipped:I.filter(q=>q.status===ee.SHIPPED).length,delivered:I.filter(q=>q.status===ee.DELIVERED).length};S(V)}catch(I){console.error("加载用户数据失败:",I)}finally{_(!1)}},E=async()=>{window.confirm("确定要退出登录吗？")&&(await l(),s("/",{replace:!0}))},D=I=>{g(I),s(`/user-center#${I==="overview"?"":I}`,{replace:!0})};return v?f.jsx("div",{className:"flex justify-center items-center min-h-screen",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-brand-gold border-t-transparent mx-auto mb-4"}),f.jsx("p",{className:"text-brand-text",children:"正在加载个人中心..."})]})}):t?f.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-4xl font-serif font-bold text-brand-text mb-2",children:"个人中心"}),f.jsxs("p",{className:"text-brand-text-secondary",children:["欢迎回来，",t.name,"！管理您的订单、设置和发现精选推荐。"]})]}),f.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[f.jsx("div",{className:"lg:col-span-1",children:f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg border border-gray-800",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-brand-gold to-yellow-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:f.jsx("span",{className:"text-brand-bg text-3xl font-bold",children:t.name.charAt(0).toUpperCase()})}),f.jsx("h3",{className:"text-brand-text font-semibold text-lg",children:t.name}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:t.email}),f.jsx("div",{className:"mt-2 inline-flex items-center px-2 py-1 bg-brand-gold bg-opacity-20 rounded-full",children:f.jsx("span",{className:"text-brand-gold text-xs font-medium",children:"VIP 会员"})})]}),f.jsxs("nav",{className:"space-y-3",children:[f.jsxs("button",{onClick:()=>D("overview"),className:`w-full text-left px-4 py-3 rounded-lg transition-all duration-200 flex items-center space-x-3 ${m==="overview"?"bg-brand-gold text-brand-bg shadow-md":"text-brand-text-secondary hover:bg-gray-700 hover:text-brand-text"}`,children:[f.jsx("span",{className:"text-xl",children:"📊"}),f.jsx("span",{className:"font-medium",children:"概览"})]}),f.jsxs("button",{onClick:()=>D("orders"),className:`w-full text-left px-4 py-3 rounded-lg transition-all duration-200 flex items-center space-x-3 ${m==="orders"?"bg-brand-gold text-brand-bg shadow-md":"text-brand-text-secondary hover:bg-gray-700 hover:text-brand-text"}`,children:[f.jsx("span",{className:"text-xl",children:"📦"}),f.jsxs("div",{className:"flex-1 flex justify-between items-center",children:[f.jsx("span",{className:"font-medium",children:"我的订单"}),x.length>0&&f.jsx("span",{className:"bg-brand-gold bg-opacity-20 text-brand-gold text-xs px-2 py-1 rounded-full",children:x.length})]})]}),f.jsxs("button",{onClick:()=>D("settings"),className:`w-full text-left px-4 py-3 rounded-lg transition-all duration-200 flex items-center space-x-3 ${m==="settings"?"bg-brand-gold text-brand-bg shadow-md":"text-brand-text-secondary hover:bg-gray-700 hover:text-brand-text"}`,children:[f.jsx("span",{className:"text-xl",children:"⚙️"}),f.jsx("span",{className:"font-medium",children:"设置"})]}),f.jsxs("button",{onClick:()=>D("recommendations"),className:`w-full text-left px-4 py-3 rounded-lg transition-all duration-200 flex items-center space-x-3 ${m==="recommendations"?"bg-brand-gold text-brand-bg shadow-md":"text-brand-text-secondary hover:bg-gray-700 hover:text-brand-text"}`,children:[f.jsx("span",{className:"text-xl",children:"💎"}),f.jsx("span",{className:"font-medium",children:"猜你喜欢"})]}),f.jsx("div",{className:"border-t border-gray-700 pt-4 mt-6",children:f.jsxs("button",{onClick:E,className:"w-full text-left px-4 py-3 rounded-lg text-red-400 hover:bg-red-800 hover:bg-opacity-20 transition-all duration-200 flex items-center space-x-3",children:[f.jsx("span",{className:"text-xl",children:"🚪"}),f.jsx("span",{className:"font-medium",children:"退出登录"})]})})]})]})}),f.jsx("div",{className:"lg:col-span-3",children:f.jsxs("div",{className:"bg-brand-surface rounded-xl p-8 shadow-lg border border-gray-800",children:[m==="overview"&&f.jsxs("div",{children:[f.jsxs("h2",{className:"text-3xl font-semibold text-brand-text mb-8 flex items-center",children:[f.jsx("span",{className:"mr-3",children:"📊"}),"账户概览"]}),f.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[f.jsx("div",{className:"bg-gradient-to-br from-yellow-600 to-yellow-700 rounded-lg p-6 text-white",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-yellow-100 text-sm",children:"待支付"}),f.jsx("p",{className:"text-3xl font-bold",children:b.pending})]}),f.jsx("span",{className:"text-4xl opacity-80",children:"⏳"})]})}),f.jsx("div",{className:"bg-gradient-to-br from-green-600 to-green-700 rounded-lg p-6 text-white",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-green-100 text-sm",children:"已支付"}),f.jsx("p",{className:"text-3xl font-bold",children:b.paid})]}),f.jsx("span",{className:"text-4xl opacity-80",children:"✅"})]})}),f.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 rounded-lg p-6 text-white",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-blue-100 text-sm",children:"已发货"}),f.jsx("p",{className:"text-3xl font-bold",children:b.shipped})]}),f.jsx("span",{className:"text-4xl opacity-80",children:"🚚"})]})}),f.jsx("div",{className:"bg-gradient-to-br from-purple-600 to-purple-700 rounded-lg p-6 text-white",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-purple-100 text-sm",children:"已完成"}),f.jsx("p",{className:"text-3xl font-bold",children:b.delivered})]}),f.jsx("span",{className:"text-4xl opacity-80",children:"🎉"})]})})]}),f.jsxs("div",{className:"mb-8",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h3",{className:"text-xl font-semibold text-brand-text",children:"最近订单"}),f.jsx("button",{onClick:()=>D("orders"),className:"text-brand-gold hover:text-yellow-300 transition-colors text-sm font-medium",children:"查看全部 →"})]}),x.length>0?f.jsx("div",{className:"space-y-4",children:x.slice(0,3).map(I=>f.jsx("div",{className:"border border-gray-700 rounded-lg p-4 hover:border-brand-gold transition-colors",children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsxs("p",{className:"text-brand-text font-medium",children:["订单 #",I.id.slice(-8)]}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:new Date(I.createdAt).toLocaleDateString("zh-CN")})]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("p",{className:"text-brand-gold font-semibold",children:["¥",I.total.toLocaleString()]}),f.jsx("span",{className:"inline-block px-2 py-1 bg-green-500 bg-opacity-20 text-green-400 text-xs rounded-full",children:I.status===ee.PENDING?"待支付":I.status===ee.PAID?"已支付":I.status===ee.SHIPPED?"已发货":"已完成"})]})]})},I.id))}):f.jsxs("div",{className:"text-center py-12",children:[f.jsx("span",{className:"text-6xl mb-4 block",children:"📦"}),f.jsx("p",{className:"text-brand-text-secondary",children:"还没有订单"}),f.jsx(oe,{to:"/products",className:"inline-block mt-4 px-6 py-2 bg-brand-gold text-brand-bg rounded-lg hover:bg-yellow-600 transition-colors",children:"去购物"})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-semibold text-brand-text mb-6",children:"快捷操作"}),f.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[f.jsxs("button",{onClick:()=>D("orders"),className:"p-6 border border-gray-700 rounded-lg hover:border-brand-gold transition-colors text-center group",children:[f.jsx("span",{className:"text-3xl mb-2 block group-hover:scale-110 transition-transform",children:"📋"}),f.jsx("p",{className:"text-brand-text font-medium",children:"查看订单"}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:"管理我的订单"})]}),f.jsxs("button",{onClick:()=>D("settings"),className:"p-6 border border-gray-700 rounded-lg hover:border-brand-gold transition-colors text-center group",children:[f.jsx("span",{className:"text-3xl mb-2 block group-hover:scale-110 transition-transform",children:"👤"}),f.jsx("p",{className:"text-brand-text font-medium",children:"个人设置"}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:"修改个人信息"})]}),f.jsxs(oe,{to:"/products",className:"p-6 border border-gray-700 rounded-lg hover:border-brand-gold transition-colors text-center group block",children:[f.jsx("span",{className:"text-3xl mb-2 block group-hover:scale-110 transition-transform",children:"🛍️"}),f.jsx("p",{className:"text-brand-text font-medium",children:"继续购物"}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:"发现更多产品"})]})]})]})]}),m==="orders"&&f.jsx(zM,{orders:x,onRefresh:N}),m==="settings"&&f.jsx(HM,{user:t}),m==="recommendations"&&f.jsx(FM,{user:t})]})})]})]}):null},$M=()=>f.jsxs("div",{className:"space-y-12 bg-brand-surface p-6 sm:p-10 rounded-lg shadow-2xl",children:[f.jsxs("header",{className:"text-center",children:[f.jsxs("h1",{className:"text-4xl sm:text-5xl font-serif font-bold text-brand-text mb-3",children:["品牌故事：",nt.chineseName,"的传承"]}),f.jsx("p",{className:"text-lg text-brand-primary",children:nt.tagline})]}),f.jsxs("section",{className:"grid md:grid-cols-2 gap-8 items-center",children:[f.jsx("div",{className:"aspect-w-4 aspect-h-3 rounded-lg overflow-hidden shadow-lg",children:f.jsx("img",{src:"./images/seagull_background_(watch)_main.jpg",alt:"海鸥表制表工坊",className:"object-cover w-full h-full"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-3xl font-serif font-semibold text-brand-text mb-4",children:"70年制表传承"}),f.jsxs("p",{className:"text-brand-text-secondary leading-relaxed mb-4",children:[nt.chineseName,"始创于1955年，是中国制表行业的开创者和领先者。70年来，品牌始终致力于高品质机芯的研发制造与中国原创机械腕表的研发生产。从一个小小的制表工坊开始，我们的制表大师们专注于掌握齿轮与发条的精密配合。"]}),f.jsxs("p",{className:"text-brand-text-secondary leading-relaxed",children:["如今，",nt.chineseName,"已发展为集机芯和成品表于一身，研发、生产、组装、销售于一体的企业集团。我们在追求创新卓越的道路上永不停息，成为现代中国钟表制造业的典范。"]})]})]}),f.jsxs("section",{children:[f.jsx("h2",{className:"text-3xl font-serif font-semibold text-brand-text mb-6 text-center",children:"制表工艺"}),f.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow",children:[f.jsx("h3",{className:"text-xl font-semibold text-brand-primary mb-2",children:"超复杂功能"}),f.jsxs("p",{className:"text-sm text-brand-text-secondary leading-relaxed",children:["融合三问报时、万年历、陀飞轮等多种超复杂功能的腕表，代表着世界制表业最顶级的技术和工艺。",nt.chineseName,"是中国唯一攻克此难题的腕表品牌。"]})]}),f.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow",children:[f.jsx("h3",{className:"text-xl font-semibold text-brand-primary mb-2",children:"传统手艺"}),f.jsx("p",{className:"text-sm text-brand-text-secondary leading-relaxed",children:'国家非物质文化遗产"花丝"工艺起源于先秦，海鸥传承华夏瑰宝，将纯银细丝，直径0.02毫米，相当于头发丝粗细的银丝，镶嵌并层层叠加于表盘之上。'})]}),f.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow",children:[f.jsx("h3",{className:"text-xl font-semibold text-brand-primary mb-2",children:"机芯技术"}),f.jsxs("p",{className:"text-sm text-brand-text-secondary leading-relaxed",children:["每一枚",nt.chineseName,"腕表都经过严格的精度、防水性和耐久性测试，确保在任何条件下都能完美运行。我们的机芯技术代表了中国制表工艺的最高水平。"]})]})]})]}),f.jsxs("section",{className:"grid md:grid-cols-2 gap-8 items-center",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-3xl font-serif font-semibold text-brand-text mb-4",children:"大师系列"}),f.jsxs("p",{className:"text-brand-text-secondary leading-relaxed mb-4",children:["大师海鸥系列代表了",nt.chineseName,"最高制表技艺的巅峰之作。「三足金乌」三问报时金雕动偶腕表、「斗转星移」中华年历陀飞轮、「曜翼」立体陀飞轮等作品，每一枚都是传世经典。"]}),f.jsx("p",{className:"text-brand-text-secondary leading-relaxed",children:"这些腕表不仅展现了精湛的制表技艺，更承载着中华文化的深厚底蕴，将传统工艺与现代创新完美融合。"})]}),f.jsx("div",{className:"aspect-w-4 aspect-h-3 rounded-lg overflow-hidden shadow-lg",children:f.jsx("img",{src:"./images/seagull_product_tourbillon_skeleton_main_skeleton.jpg",alt:"海鸥表大师系列",className:"object-cover w-full h-full"})})]}),f.jsxs("section",{className:"text-center",children:[f.jsx("h2",{className:"text-3xl font-serif font-semibold text-brand-text mb-4",children:"品牌理念"}),f.jsxs("p",{className:"text-brand-text-secondary leading-relaxed max-w-2xl mx-auto",children:['"我们不仅仅是制造腕表，我们更是在雕琢时间。我们的理念根植于对细节的一丝不苟，对完美的不懈追求，以及对能够启发灵感的艺术品的创造。我们诚邀您体验',nt.chineseName,'的世界，寻找与您心灵产生共鸣的时计伴侣。"']}),f.jsxs("p",{className:"mt-4 text-md font-medium text-brand-primary",children:["- ",nt.chineseName,"团队"]})]})]}),ZM=()=>f.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center px-4",children:[f.jsx("h1",{className:"text-8xl font-serif font-bold text-brand-primary mb-4",children:"404"}),f.jsx("h2",{className:"text-3xl font-semibold text-brand-text mb-6",children:"页面未找到"}),f.jsx("p",{className:"text-brand-text-secondary mb-8 max-w-md",children:"抱歉！您访问的页面似乎不存在。它可能已被移动、删除，或者从未存在过。"}),f.jsxs("div",{className:"flex space-x-4",children:[f.jsx(oe,{to:"/",className:"bg-brand-primary text-brand-bg font-semibold py-3 px-6 rounded-md hover:bg-brand-primary-dark transition-colors",children:"返回首页"}),f.jsx(oe,{to:"/products",className:"border-2 border-brand-primary text-brand-primary font-semibold py-3 px-6 rounded-md hover:bg-brand-primary hover:text-brand-bg transition-colors",children:"探索腕表"})]})]}),KM=()=>{const[s,e]=M.useState(!1),[t,i]=M.useState(null);return M.useEffect(()=>{(async()=>{try{console.log("🔄 初始化数据库..."),await Qt.getInstance().initialize(),console.log("✅ 数据库初始化成功"),e(!0)}catch(o){console.error("❌ 数据库初始化失败:",o),i("数据库初始化失败，请刷新页面重试")}})()},[]),t?f.jsx("div",{className:"flex items-center justify-center min-h-screen bg-red-50",children:f.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-lg max-w-md",children:[f.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"⚠️"}),f.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"系统初始化失败"}),f.jsx("p",{className:"text-gray-600 mb-6",children:t}),f.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-brand-primary text-brand-bg rounded-lg hover:bg-brand-primary-dark transition-all duration-200 font-medium",children:"🔄 重新加载页面"})]})}):s?f.jsx(Mb,{children:f.jsx(qb,{children:f.jsxs("div",{className:"flex flex-col min-h-screen bg-brand-bg",children:[f.jsx(Qb,{}),f.jsx("main",{className:"flex-grow container mx-auto px-4 py-8",children:f.jsxs(ib,{children:[f.jsx(gt,{path:"/",element:f.jsx(nT,{})}),f.jsx(gt,{path:"/products",element:f.jsx(aT,{})}),f.jsx(gt,{path:"/products/:productId",element:f.jsx(PM,{})}),f.jsx(gt,{path:"/cart",element:f.jsx(jM,{})}),f.jsx(gt,{path:"/checkout",element:f.jsx(VM,{})}),f.jsx(gt,{path:"/payment/:orderId",element:f.jsx(OM,{})}),f.jsx(gt,{path:"/orders",element:f.jsx(jg,{})}),f.jsx(gt,{path:"/orders/:orderId",element:f.jsx(jg,{})}),f.jsx(gt,{path:"/login",element:f.jsx(BM,{})}),f.jsx(gt,{path:"/register",element:f.jsx(qM,{})}),f.jsx(gt,{path:"/profile",element:f.jsx(GM,{})}),f.jsx(gt,{path:"/user-center",element:f.jsx(YM,{})}),f.jsx(gt,{path:"/about",element:f.jsx($M,{})}),f.jsx(gt,{path:"*",element:f.jsx(ZM,{})})]})}),f.jsx(Wb,{})]})})}):f.jsx("div",{className:"flex items-center justify-center min-h-screen bg-brand-bg",children:f.jsxs("div",{className:"text-center p-8",children:[f.jsx("div",{className:"inline-block animate-spin rounded-full h-16 w-16 border-4 border-brand-primary border-t-transparent mb-6"}),f.jsx("h2",{className:"text-2xl font-semibold text-brand-text mb-2",children:"🕰️ 正在初始化海鸥表系统"}),f.jsx("p",{className:"text-brand-text-secondary",children:"正在加载产品数据和用户信息..."}),f.jsxs("div",{className:"mt-4 flex justify-center space-x-1",children:[f.jsx("div",{className:"h-2 w-2 bg-brand-primary rounded-full animate-bounce",style:{animationDelay:"0ms"}}),f.jsx("div",{className:"h-2 w-2 bg-brand-primary rounded-full animate-bounce",style:{animationDelay:"150ms"}}),f.jsx("div",{className:"h-2 w-2 bg-brand-primary rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})})},Uy=document.getElementById("root");if(!Uy)throw new Error("Could not find root element to mount to");const JM=m0.createRoot(Uy);JM.render(f.jsx(s0.StrictMode,{children:f.jsx(zb,{children:f.jsx(KM,{})})}));
