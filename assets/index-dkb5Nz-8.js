(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const m of o.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function Gg(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var nc={exports:{}},Ps={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $h;function l0(){if($h)return Ps;$h=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,o){var m=null;if(o!==void 0&&(m=""+o),r.key!==void 0&&(m=""+r.key),"key"in r){o={};for(var g in r)g!=="key"&&(o[g]=r[g])}else o=r;return r=o.ref,{$$typeof:s,type:i,key:m,ref:r!==void 0?r:null,props:o}}return Ps.Fragment=e,Ps.jsx=t,Ps.jsxs=t,Ps}var Zh;function o0(){return Zh||(Zh=1,nc.exports=l0()),nc.exports}var f=o0(),ac={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kh;function u0(){if(Kh)return ve;Kh=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),C=Symbol.iterator;function b(R){return R===null||typeof R!="object"?null:(R=C&&R[C]||R["@@iterator"],typeof R=="function"?R:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,E={};function M(R,Y,ne){this.props=R,this.context=Y,this.refs=E,this.updater=ne||S}M.prototype.isReactComponent={},M.prototype.setState=function(R,Y){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,Y,"setState")},M.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function I(){}I.prototype=M.prototype;function j(R,Y,ne){this.props=R,this.context=Y,this.refs=E,this.updater=ne||S}var B=j.prototype=new I;B.constructor=j,N(B,M.prototype),B.isPureReactComponent=!0;var Z=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},ae=Object.prototype.hasOwnProperty;function z(R,Y,ne,X,ce,Me){return ne=Me.ref,{$$typeof:s,type:R,key:Y,ref:ne!==void 0?ne:null,props:Me}}function J(R,Y){return z(R.type,Y,void 0,void 0,void 0,R.props)}function te(R){return typeof R=="object"&&R!==null&&R.$$typeof===s}function ue(R){var Y={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ne){return Y[ne]})}var ke=/\/+/g;function Pe(R,Y){return typeof R=="object"&&R!==null&&R.key!=null?ue(""+R.key):Y.toString(36)}function Pt(){}function K(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(Pt,Pt):(R.status="pending",R.then(function(Y){R.status==="pending"&&(R.status="fulfilled",R.value=Y)},function(Y){R.status==="pending"&&(R.status="rejected",R.reason=Y)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function we(R,Y,ne,X,ce){var Me=typeof R;(Me==="undefined"||Me==="boolean")&&(R=null);var xe=!1;if(R===null)xe=!0;else switch(Me){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(R.$$typeof){case s:case e:xe=!0;break;case v:return xe=R._init,we(xe(R._payload),Y,ne,X,ce)}}if(xe)return ce=ce(R),xe=X===""?"."+Pe(R,0):X,Z(ce)?(ne="",xe!=null&&(ne=xe.replace(ke,"$&/")+"/"),we(ce,Y,ne,"",function(kn){return kn})):ce!=null&&(te(ce)&&(ce=J(ce,ne+(ce.key==null||R&&R.key===ce.key?"":(""+ce.key).replace(ke,"$&/")+"/")+xe)),Y.push(ce)),1;xe=0;var St=X===""?".":X+":";if(Z(R))for(var Fe=0;Fe<R.length;Fe++)X=R[Fe],Me=St+Pe(X,Fe),xe+=we(X,Y,ne,Me,ce);else if(Fe=b(R),typeof Fe=="function")for(R=Fe.call(R),Fe=0;!(X=R.next()).done;)X=X.value,Me=St+Pe(X,Fe++),xe+=we(X,Y,ne,Me,ce);else if(Me==="object"){if(typeof R.then=="function")return we(K(R),Y,ne,X,ce);throw Y=String(R),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return xe}function O(R,Y,ne){if(R==null)return R;var X=[],ce=0;return we(R,X,"","",function(Me){return Y.call(ne,Me,ce++)}),X}function Q(R){if(R._status===-1){var Y=R._result;Y=Y(),Y.then(function(ne){(R._status===0||R._status===-1)&&(R._status=1,R._result=ne)},function(ne){(R._status===0||R._status===-1)&&(R._status=2,R._result=ne)}),R._status===-1&&(R._status=0,R._result=Y)}if(R._status===1)return R._result.default;throw R._result}var me=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function Be(){}return ve.Children={map:O,forEach:function(R,Y,ne){O(R,function(){Y.apply(this,arguments)},ne)},count:function(R){var Y=0;return O(R,function(){Y++}),Y},toArray:function(R){return O(R,function(Y){return Y})||[]},only:function(R){if(!te(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},ve.Component=M,ve.Fragment=t,ve.Profiler=r,ve.PureComponent=j,ve.StrictMode=i,ve.Suspense=x,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,ve.__COMPILER_RUNTIME={__proto__:null,c:function(R){return F.H.useMemoCache(R)}},ve.cache=function(R){return function(){return R.apply(null,arguments)}},ve.cloneElement=function(R,Y,ne){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var X=N({},R.props),ce=R.key,Me=void 0;if(Y!=null)for(xe in Y.ref!==void 0&&(Me=void 0),Y.key!==void 0&&(ce=""+Y.key),Y)!ae.call(Y,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&Y.ref===void 0||(X[xe]=Y[xe]);var xe=arguments.length-2;if(xe===1)X.children=ne;else if(1<xe){for(var St=Array(xe),Fe=0;Fe<xe;Fe++)St[Fe]=arguments[Fe+2];X.children=St}return z(R.type,ce,void 0,void 0,Me,X)},ve.createContext=function(R){return R={$$typeof:m,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:o,_context:R},R},ve.createElement=function(R,Y,ne){var X,ce={},Me=null;if(Y!=null)for(X in Y.key!==void 0&&(Me=""+Y.key),Y)ae.call(Y,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ce[X]=Y[X]);var xe=arguments.length-2;if(xe===1)ce.children=ne;else if(1<xe){for(var St=Array(xe),Fe=0;Fe<xe;Fe++)St[Fe]=arguments[Fe+2];ce.children=St}if(R&&R.defaultProps)for(X in xe=R.defaultProps,xe)ce[X]===void 0&&(ce[X]=xe[X]);return z(R,Me,void 0,void 0,null,ce)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(R){return{$$typeof:g,render:R}},ve.isValidElement=te,ve.lazy=function(R){return{$$typeof:v,_payload:{_status:-1,_result:R},_init:Q}},ve.memo=function(R,Y){return{$$typeof:p,type:R,compare:Y===void 0?null:Y}},ve.startTransition=function(R){var Y=F.T,ne={};F.T=ne;try{var X=R(),ce=F.S;ce!==null&&ce(ne,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(Be,me)}catch(Me){me(Me)}finally{F.T=Y}},ve.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},ve.use=function(R){return F.H.use(R)},ve.useActionState=function(R,Y,ne){return F.H.useActionState(R,Y,ne)},ve.useCallback=function(R,Y){return F.H.useCallback(R,Y)},ve.useContext=function(R){return F.H.useContext(R)},ve.useDebugValue=function(){},ve.useDeferredValue=function(R,Y){return F.H.useDeferredValue(R,Y)},ve.useEffect=function(R,Y,ne){var X=F.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(R,Y)},ve.useId=function(){return F.H.useId()},ve.useImperativeHandle=function(R,Y,ne){return F.H.useImperativeHandle(R,Y,ne)},ve.useInsertionEffect=function(R,Y){return F.H.useInsertionEffect(R,Y)},ve.useLayoutEffect=function(R,Y){return F.H.useLayoutEffect(R,Y)},ve.useMemo=function(R,Y){return F.H.useMemo(R,Y)},ve.useOptimistic=function(R,Y){return F.H.useOptimistic(R,Y)},ve.useReducer=function(R,Y,ne){return F.H.useReducer(R,Y,ne)},ve.useRef=function(R){return F.H.useRef(R)},ve.useState=function(R){return F.H.useState(R)},ve.useSyncExternalStore=function(R,Y,ne){return F.H.useSyncExternalStore(R,Y,ne)},ve.useTransition=function(){return F.H.useTransition()},ve.version="19.1.0",ve}var Jh;function Oc(){return Jh||(Jh=1,ac.exports=u0()),ac.exports}var w=Oc();const Bc=Gg(w);var ic={exports:{}},js={},sc={exports:{}},rc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xh;function c0(){return Xh||(Xh=1,function(s){function e(O,Q){var me=O.length;O.push(Q);e:for(;0<me;){var Be=me-1>>>1,R=O[Be];if(0<r(R,Q))O[Be]=Q,O[me]=R,me=Be;else break e}}function t(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var Q=O[0],me=O.pop();if(me!==Q){O[0]=me;e:for(var Be=0,R=O.length,Y=R>>>1;Be<Y;){var ne=2*(Be+1)-1,X=O[ne],ce=ne+1,Me=O[ce];if(0>r(X,me))ce<R&&0>r(Me,X)?(O[Be]=Me,O[ce]=me,Be=ce):(O[Be]=X,O[ne]=me,Be=ne);else if(ce<R&&0>r(Me,me))O[Be]=Me,O[ce]=me,Be=ce;else break e}}return Q}function r(O,Q){var me=O.sortIndex-Q.sortIndex;return me!==0?me:O.id-Q.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;s.unstable_now=function(){return o.now()}}else{var m=Date,g=m.now();s.unstable_now=function(){return m.now()-g}}var x=[],p=[],v=1,C=null,b=3,S=!1,N=!1,E=!1,M=!1,I=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function Z(O){for(var Q=t(p);Q!==null;){if(Q.callback===null)i(p);else if(Q.startTime<=O)i(p),Q.sortIndex=Q.expirationTime,e(x,Q);else break;Q=t(p)}}function F(O){if(E=!1,Z(O),!N)if(t(x)!==null)N=!0,ae||(ae=!0,Pe());else{var Q=t(p);Q!==null&&we(F,Q.startTime-O)}}var ae=!1,z=-1,J=5,te=-1;function ue(){return M?!0:!(s.unstable_now()-te<J)}function ke(){if(M=!1,ae){var O=s.unstable_now();te=O;var Q=!0;try{e:{N=!1,E&&(E=!1,j(z),z=-1),S=!0;var me=b;try{t:{for(Z(O),C=t(x);C!==null&&!(C.expirationTime>O&&ue());){var Be=C.callback;if(typeof Be=="function"){C.callback=null,b=C.priorityLevel;var R=Be(C.expirationTime<=O);if(O=s.unstable_now(),typeof R=="function"){C.callback=R,Z(O),Q=!0;break t}C===t(x)&&i(x),Z(O)}else i(x);C=t(x)}if(C!==null)Q=!0;else{var Y=t(p);Y!==null&&we(F,Y.startTime-O),Q=!1}}break e}finally{C=null,b=me,S=!1}Q=void 0}}finally{Q?Pe():ae=!1}}}var Pe;if(typeof B=="function")Pe=function(){B(ke)};else if(typeof MessageChannel<"u"){var Pt=new MessageChannel,K=Pt.port2;Pt.port1.onmessage=ke,Pe=function(){K.postMessage(null)}}else Pe=function(){I(ke,0)};function we(O,Q){z=I(function(){O(s.unstable_now())},Q)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(O){O.callback=null},s.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<O?Math.floor(1e3/O):5},s.unstable_getCurrentPriorityLevel=function(){return b},s.unstable_next=function(O){switch(b){case 1:case 2:case 3:var Q=3;break;default:Q=b}var me=b;b=Q;try{return O()}finally{b=me}},s.unstable_requestPaint=function(){M=!0},s.unstable_runWithPriority=function(O,Q){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var me=b;b=O;try{return Q()}finally{b=me}},s.unstable_scheduleCallback=function(O,Q,me){var Be=s.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Be+me:Be):me=Be,O){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=me+R,O={id:v++,callback:Q,priorityLevel:O,startTime:me,expirationTime:R,sortIndex:-1},me>Be?(O.sortIndex=me,e(p,O),t(x)===null&&O===t(p)&&(E?(j(z),z=-1):E=!0,we(F,me-Be))):(O.sortIndex=R,e(x,O),N||S||(N=!0,ae||(ae=!0,Pe()))),O},s.unstable_shouldYield=ue,s.unstable_wrapCallback=function(O){var Q=b;return function(){var me=b;b=Q;try{return O.apply(this,arguments)}finally{b=me}}}}(rc)),rc}var Qh;function d0(){return Qh||(Qh=1,sc.exports=c0()),sc.exports}var lc={exports:{}},ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wh;function f0(){if(Wh)return ht;Wh=1;var s=Oc();function e(x){var p="https://react.dev/errors/"+x;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+x+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(x,p,v){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:C==null?null:""+C,children:x,containerInfo:p,implementation:v}}var m=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(x,p){if(x==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ht.createPortal=function(x,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(x,p,null,v)},ht.flushSync=function(x){var p=m.T,v=i.p;try{if(m.T=null,i.p=2,x)return x()}finally{m.T=p,i.p=v,i.d.f()}},ht.preconnect=function(x,p){typeof x=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(x,p))},ht.prefetchDNS=function(x){typeof x=="string"&&i.d.D(x)},ht.preinit=function(x,p){if(typeof x=="string"&&p&&typeof p.as=="string"){var v=p.as,C=g(v,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(x,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:C,integrity:b,fetchPriority:S}):v==="script"&&i.d.X(x,{crossOrigin:C,integrity:b,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ht.preinitModule=function(x,p){if(typeof x=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=g(p.as,p.crossOrigin);i.d.M(x,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(x)},ht.preload=function(x,p){if(typeof x=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,C=g(v,p.crossOrigin);i.d.L(x,v,{crossOrigin:C,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ht.preloadModule=function(x,p){if(typeof x=="string")if(p){var v=g(p.as,p.crossOrigin);i.d.m(x,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(x)},ht.requestFormReset=function(x){i.d.r(x)},ht.unstable_batchedUpdates=function(x,p){return x(p)},ht.useFormState=function(x,p,v){return m.H.useFormState(x,p,v)},ht.useFormStatus=function(){return m.H.useHostTransitionStatus()},ht.version="19.1.0",ht}var ep;function m0(){if(ep)return lc.exports;ep=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),lc.exports=f0(),lc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp;function h0(){if(tp)return js;tp=1;var s=d0(),e=Oc(),t=m0();function i(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var a=n,l=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(l=a.return),n=a.return;while(n)}return a.tag===3?l:null}function m(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function g(n){if(o(n)!==n)throw Error(i(188))}function x(n){var a=n.alternate;if(!a){if(a=o(n),a===null)throw Error(i(188));return a!==n?null:n}for(var l=n,u=a;;){var h=l.return;if(h===null)break;var y=h.alternate;if(y===null){if(u=h.return,u!==null){l=u;continue}break}if(h.child===y.child){for(y=h.child;y;){if(y===l)return g(h),n;if(y===u)return g(h),a;y=y.sibling}throw Error(i(188))}if(l.return!==u.return)l=h,u=y;else{for(var T=!1,_=h.child;_;){if(_===l){T=!0,l=h,u=y;break}if(_===u){T=!0,u=h,l=y;break}_=_.sibling}if(!T){for(_=y.child;_;){if(_===l){T=!0,l=y,u=h;break}if(_===u){T=!0,u=y,l=h;break}_=_.sibling}if(!T)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?n:a}function p(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=p(n),a!==null)return a;n=n.sibling}return null}var v=Object.assign,C=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),B=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),ke=Symbol.iterator;function Pe(n){return n===null||typeof n!="object"?null:(n=ke&&n[ke]||n["@@iterator"],typeof n=="function"?n:null)}var Pt=Symbol.for("react.client.reference");function K(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Pt?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case M:return"Profiler";case E:return"StrictMode";case F:return"Suspense";case ae:return"SuspenseList";case te:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case S:return"Portal";case B:return(n.displayName||"Context")+".Provider";case j:return(n._context.displayName||"Context")+".Consumer";case Z:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case z:return a=n.displayName||null,a!==null?a:K(n.type)||"Memo";case J:a=n._payload,n=n._init;try{return K(n(a))}catch{}}return null}var we=Array.isArray,O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Be=[],R=-1;function Y(n){return{current:n}}function ne(n){0>R||(n.current=Be[R],Be[R]=null,R--)}function X(n,a){R++,Be[R]=n.current,n.current=a}var ce=Y(null),Me=Y(null),xe=Y(null),St=Y(null);function Fe(n,a){switch(X(xe,a),X(Me,n),X(ce,null),a.nodeType){case 9:case 11:n=(n=a.documentElement)&&(n=n.namespaceURI)?Th(n):0;break;default:if(n=a.tagName,a=a.namespaceURI)a=Th(a),n=Ch(a,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ne(ce),X(ce,n)}function kn(){ne(ce),ne(Me),ne(xe)}function Bl(n){n.memoizedState!==null&&X(St,n);var a=ce.current,l=Ch(a,n.type);a!==l&&(X(Me,n),X(ce,l))}function tr(n){Me.current===n&&(ne(ce),ne(Me)),St.current===n&&(ne(St),Ds._currentValue=me)}var ql=Object.prototype.hasOwnProperty,Gl=s.unstable_scheduleCallback,zl=s.unstable_cancelCallback,Oy=s.unstable_shouldYield,By=s.unstable_requestPaint,nn=s.unstable_now,qy=s.unstable_getCurrentPriorityLevel,ed=s.unstable_ImmediatePriority,td=s.unstable_UserBlockingPriority,nr=s.unstable_NormalPriority,Gy=s.unstable_LowPriority,nd=s.unstable_IdlePriority,zy=s.log,Hy=s.unstable_setDisableYieldValue,Oi=null,Nt=null;function Un(n){if(typeof zy=="function"&&Hy(n),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(Oi,n)}catch{}}var Et=Math.clz32?Math.clz32:$y,Fy=Math.log,Yy=Math.LN2;function $y(n){return n>>>=0,n===0?32:31-(Fy(n)/Yy|0)|0}var ar=256,ir=4194304;function ha(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function sr(n,a,l){var u=n.pendingLanes;if(u===0)return 0;var h=0,y=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var _=u&134217727;return _!==0?(u=_&~y,u!==0?h=ha(u):(T&=_,T!==0?h=ha(T):l||(l=_&~n,l!==0&&(h=ha(l))))):(_=u&~y,_!==0?h=ha(_):T!==0?h=ha(T):l||(l=u&~n,l!==0&&(h=ha(l)))),h===0?0:a!==0&&a!==h&&(a&y)===0&&(y=h&-h,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:h}function Bi(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function Zy(n,a){switch(n){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ad(){var n=ar;return ar<<=1,(ar&4194048)===0&&(ar=256),n}function id(){var n=ir;return ir<<=1,(ir&62914560)===0&&(ir=4194304),n}function Hl(n){for(var a=[],l=0;31>l;l++)a.push(n);return a}function qi(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ky(n,a,l,u,h,y){var T=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var _=n.entanglements,A=n.expirationTimes,L=n.hiddenUpdates;for(l=T&~l;0<l;){var q=31-Et(l),H=1<<q;_[q]=0,A[q]=-1;var P=L[q];if(P!==null)for(L[q]=null,q=0;q<P.length;q++){var V=P[q];V!==null&&(V.lane&=-536870913)}l&=~H}u!==0&&sd(n,u,0),y!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=y&~(T&~a))}function sd(n,a,l){n.pendingLanes|=a,n.suspendedLanes&=~a;var u=31-Et(a);n.entangledLanes|=a,n.entanglements[u]=n.entanglements[u]|1073741824|l&4194090}function rd(n,a){var l=n.entangledLanes|=a;for(n=n.entanglements;l;){var u=31-Et(l),h=1<<u;h&a|n[u]&a&&(n[u]|=a),l&=~h}}function Fl(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Yl(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function ld(){var n=Q.p;return n!==0?n:(n=window.event,n===void 0?32:qh(n.type))}function Jy(n,a){var l=Q.p;try{return Q.p=n,a()}finally{Q.p=l}}var Ln=Math.random().toString(36).slice(2),ft="__reactFiber$"+Ln,vt="__reactProps$"+Ln,Va="__reactContainer$"+Ln,$l="__reactEvents$"+Ln,Xy="__reactListeners$"+Ln,Qy="__reactHandles$"+Ln,od="__reactResources$"+Ln,Gi="__reactMarker$"+Ln;function Zl(n){delete n[ft],delete n[vt],delete n[$l],delete n[Xy],delete n[Qy]}function Oa(n){var a=n[ft];if(a)return a;for(var l=n.parentNode;l;){if(a=l[Va]||l[ft]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(n=Eh(n);n!==null;){if(l=n[ft])return l;n=Eh(n)}return a}n=l,l=n.parentNode}return null}function Ba(n){if(n=n[ft]||n[Va]){var a=n.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return n}return null}function zi(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(i(33))}function qa(n){var a=n[od];return a||(a=n[od]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function st(n){n[Gi]=!0}var ud=new Set,cd={};function pa(n,a){Ga(n,a),Ga(n+"Capture",a)}function Ga(n,a){for(cd[n]=a,n=0;n<a.length;n++)ud.add(a[n])}var Wy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dd={},fd={};function ex(n){return ql.call(fd,n)?!0:ql.call(dd,n)?!1:Wy.test(n)?fd[n]=!0:(dd[n]=!0,!1)}function rr(n,a,l){if(ex(a))if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+l)}}function lr(n,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+l)}}function pn(n,a,l,u){if(u===null)n.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(a,l,""+u)}}var Kl,md;function za(n){if(Kl===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Kl=a&&a[1]||"",md=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kl+n+md}var Jl=!1;function Xl(n,a){if(!n||Jl)return"";Jl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(V){var P=V}Reflect.construct(n,[],H)}else{try{H.call()}catch(V){P=V}n.call(H.prototype)}}else{try{throw Error()}catch(V){P=V}(H=n())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(V){if(V&&P&&typeof V.stack=="string")return[V.stack,P.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),T=y[0],_=y[1];if(T&&_){var A=T.split(`
`),L=_.split(`
`);for(h=u=0;u<A.length&&!A[u].includes("DetermineComponentFrameRoot");)u++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(u===A.length||h===L.length)for(u=A.length-1,h=L.length-1;1<=u&&0<=h&&A[u]!==L[h];)h--;for(;1<=u&&0<=h;u--,h--)if(A[u]!==L[h]){if(u!==1||h!==1)do if(u--,h--,0>h||A[u]!==L[h]){var q=`
`+A[u].replace(" at new "," at ");return n.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",n.displayName)),q}while(1<=u&&0<=h);break}}}finally{Jl=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?za(l):""}function tx(n){switch(n.tag){case 26:case 27:case 5:return za(n.type);case 16:return za("Lazy");case 13:return za("Suspense");case 19:return za("SuspenseList");case 0:case 15:return Xl(n.type,!1);case 11:return Xl(n.type.render,!1);case 1:return Xl(n.type,!0);case 31:return za("Activity");default:return""}}function hd(n){try{var a="";do a+=tx(n),n=n.return;while(n);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function jt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function pd(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function nx(n){var a=pd(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,a),u=""+n[a];if(!n.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,y=l.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return h.call(this)},set:function(T){u=""+T,y.call(this,T)}}),Object.defineProperty(n,a,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function or(n){n._valueTracker||(n._valueTracker=nx(n))}function gd(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return n&&(u=pd(n)?n.checked?"true":"false":n.value),n=u,n!==l?(a.setValue(n),!0):!1}function ur(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var ax=/[\n"\\]/g;function Vt(n){return n.replace(ax,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Ql(n,a,l,u,h,y,T,_){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),a!=null?T==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+jt(a)):n.value!==""+jt(a)&&(n.value=""+jt(a)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),a!=null?Wl(n,T,jt(a)):l!=null?Wl(n,T,jt(l)):u!=null&&n.removeAttribute("value"),h==null&&y!=null&&(n.defaultChecked=!!y),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.name=""+jt(_):n.removeAttribute("name")}function yd(n,a,l,u,h,y,T,_){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+jt(l):"",a=a!=null?""+jt(a):l,_||a===n.value||(n.value=a),n.defaultValue=a}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=_?n.checked:!!u,n.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function Wl(n,a,l){a==="number"&&ur(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function Ha(n,a,l,u){if(n=n.options,a){a={};for(var h=0;h<l.length;h++)a["$"+l[h]]=!0;for(l=0;l<n.length;l++)h=a.hasOwnProperty("$"+n[l].value),n[l].selected!==h&&(n[l].selected=h),h&&u&&(n[l].defaultSelected=!0)}else{for(l=""+jt(l),a=null,h=0;h<n.length;h++){if(n[h].value===l){n[h].selected=!0,u&&(n[h].defaultSelected=!0);return}a!==null||n[h].disabled||(a=n[h])}a!==null&&(a.selected=!0)}}function xd(n,a,l){if(a!=null&&(a=""+jt(a),a!==n.value&&(n.value=a),l==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=l!=null?""+jt(l):""}function vd(n,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(we(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=jt(a),n.defaultValue=l,u=n.textContent,u===l&&u!==""&&u!==null&&(n.value=u)}function Fa(n,a){if(a){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=a;return}}n.textContent=a}var ix=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bd(n,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":u?n.setProperty(a,l):typeof l!="number"||l===0||ix.has(a)?a==="float"?n.cssFloat=l:n[a]=(""+l).trim():n[a]=l+"px"}function Td(n,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(n=n.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var h in a)u=a[h],a.hasOwnProperty(h)&&l[h]!==u&&bd(n,h,u)}else for(var y in a)a.hasOwnProperty(y)&&bd(n,y,a[y])}function eo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cr(n){return rx.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var to=null;function no(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ya=null,$a=null;function Cd(n){var a=Ba(n);if(a&&(n=a.stateNode)){var l=n[vt]||null;e:switch(n=a.stateNode,a.type){case"input":if(Ql(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Vt(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==n&&u.form===n.form){var h=u[vt]||null;if(!h)throw Error(i(90));Ql(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===n.form&&gd(u)}break e;case"textarea":xd(n,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Ha(n,!!l.multiple,a,!1)}}}var ao=!1;function _d(n,a,l){if(ao)return n(a,l);ao=!0;try{var u=n(a);return u}finally{if(ao=!1,(Ya!==null||$a!==null)&&(Kr(),Ya&&(a=Ya,n=$a,$a=Ya=null,Cd(a),n)))for(a=0;a<n.length;a++)Cd(n[a])}}function Hi(n,a){var l=n.stateNode;if(l===null)return null;var u=l[vt]||null;if(u===null)return null;l=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),io=!1;if(gn)try{var Fi={};Object.defineProperty(Fi,"passive",{get:function(){io=!0}}),window.addEventListener("test",Fi,Fi),window.removeEventListener("test",Fi,Fi)}catch{io=!1}var Pn=null,so=null,dr=null;function Sd(){if(dr)return dr;var n,a=so,l=a.length,u,h="value"in Pn?Pn.value:Pn.textContent,y=h.length;for(n=0;n<l&&a[n]===h[n];n++);var T=l-n;for(u=1;u<=T&&a[l-u]===h[y-u];u++);return dr=h.slice(n,1<u?1-u:void 0)}function fr(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function mr(){return!0}function Nd(){return!1}function bt(n){function a(l,u,h,y,T){this._reactName=l,this._targetInst=h,this.type=u,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var _ in n)n.hasOwnProperty(_)&&(l=n[_],this[_]=l?l(y):y[_]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?mr:Nd,this.isPropagationStopped=Nd,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=mr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=mr)},persist:function(){},isPersistent:mr}),a}var ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hr=bt(ga),Yi=v({},ga,{view:0,detail:0}),lx=bt(Yi),ro,lo,$i,pr=v({},Yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uo,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==$i&&($i&&n.type==="mousemove"?(ro=n.screenX-$i.screenX,lo=n.screenY-$i.screenY):lo=ro=0,$i=n),ro)},movementY:function(n){return"movementY"in n?n.movementY:lo}}),Ed=bt(pr),ox=v({},pr,{dataTransfer:0}),ux=bt(ox),cx=v({},Yi,{relatedTarget:0}),oo=bt(cx),dx=v({},ga,{animationName:0,elapsedTime:0,pseudoElement:0}),fx=bt(dx),mx=v({},ga,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),hx=bt(mx),px=v({},ga,{data:0}),Ad=bt(px),gx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vx(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=xx[n])?!!a[n]:!1}function uo(){return vx}var bx=v({},Yi,{key:function(n){if(n.key){var a=gx[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=fr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?yx[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uo,charCode:function(n){return n.type==="keypress"?fr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?fr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Tx=bt(bx),Cx=v({},pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wd=bt(Cx),_x=v({},Yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uo}),Sx=bt(_x),Nx=v({},ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ex=bt(Nx),Ax=v({},pr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),wx=bt(Ax),Mx=v({},ga,{newState:0,oldState:0}),Rx=bt(Mx),Dx=[9,13,27,32],co=gn&&"CompositionEvent"in window,Zi=null;gn&&"documentMode"in document&&(Zi=document.documentMode);var Ix=gn&&"TextEvent"in window&&!Zi,Md=gn&&(!co||Zi&&8<Zi&&11>=Zi),Rd=" ",Dd=!1;function Id(n,a){switch(n){case"keyup":return Dx.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kd(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Za=!1;function kx(n,a){switch(n){case"compositionend":return kd(a);case"keypress":return a.which!==32?null:(Dd=!0,Rd);case"textInput":return n=a.data,n===Rd&&Dd?null:n;default:return null}}function Ux(n,a){if(Za)return n==="compositionend"||!co&&Id(n,a)?(n=Sd(),dr=so=Pn=null,Za=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Md&&a.locale!=="ko"?null:a.data;default:return null}}var Lx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ud(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!Lx[n.type]:a==="textarea"}function Ld(n,a,l,u){Ya?$a?$a.push(u):$a=[u]:Ya=u,a=tl(a,"onChange"),0<a.length&&(l=new hr("onChange","change",null,l,u),n.push({event:l,listeners:a}))}var Ki=null,Ji=null;function Px(n){gh(n,0)}function gr(n){var a=zi(n);if(gd(a))return n}function Pd(n,a){if(n==="change")return a}var jd=!1;if(gn){var fo;if(gn){var mo="oninput"in document;if(!mo){var Vd=document.createElement("div");Vd.setAttribute("oninput","return;"),mo=typeof Vd.oninput=="function"}fo=mo}else fo=!1;jd=fo&&(!document.documentMode||9<document.documentMode)}function Od(){Ki&&(Ki.detachEvent("onpropertychange",Bd),Ji=Ki=null)}function Bd(n){if(n.propertyName==="value"&&gr(Ji)){var a=[];Ld(a,Ji,n,no(n)),_d(Px,a)}}function jx(n,a,l){n==="focusin"?(Od(),Ki=a,Ji=l,Ki.attachEvent("onpropertychange",Bd)):n==="focusout"&&Od()}function Vx(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return gr(Ji)}function Ox(n,a){if(n==="click")return gr(a)}function Bx(n,a){if(n==="input"||n==="change")return gr(a)}function qx(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var At=typeof Object.is=="function"?Object.is:qx;function Xi(n,a){if(At(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var l=Object.keys(n),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var h=l[u];if(!ql.call(a,h)||!At(n[h],a[h]))return!1}return!0}function qd(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Gd(n,a){var l=qd(n);n=0;for(var u;l;){if(l.nodeType===3){if(u=n+l.textContent.length,n<=a&&u>=a)return{node:l,offset:a-n};n=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=qd(l)}}function zd(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?zd(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function Hd(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=ur(n.document);a instanceof n.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)n=a.contentWindow;else break;a=ur(n.document)}return a}function ho(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}var Gx=gn&&"documentMode"in document&&11>=document.documentMode,Ka=null,po=null,Qi=null,go=!1;function Fd(n,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;go||Ka==null||Ka!==ur(u)||(u=Ka,"selectionStart"in u&&ho(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Qi&&Xi(Qi,u)||(Qi=u,u=tl(po,"onSelect"),0<u.length&&(a=new hr("onSelect","select",null,a,l),n.push({event:a,listeners:u}),a.target=Ka)))}function ya(n,a){var l={};return l[n.toLowerCase()]=a.toLowerCase(),l["Webkit"+n]="webkit"+a,l["Moz"+n]="moz"+a,l}var Ja={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionrun:ya("Transition","TransitionRun"),transitionstart:ya("Transition","TransitionStart"),transitioncancel:ya("Transition","TransitionCancel"),transitionend:ya("Transition","TransitionEnd")},yo={},Yd={};gn&&(Yd=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function xa(n){if(yo[n])return yo[n];if(!Ja[n])return n;var a=Ja[n],l;for(l in a)if(a.hasOwnProperty(l)&&l in Yd)return yo[n]=a[l];return n}var $d=xa("animationend"),Zd=xa("animationiteration"),Kd=xa("animationstart"),zx=xa("transitionrun"),Hx=xa("transitionstart"),Fx=xa("transitioncancel"),Jd=xa("transitionend"),Xd=new Map,xo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xo.push("scrollEnd");function Kt(n,a){Xd.set(n,a),pa(a,[n])}var Qd=new WeakMap;function Ot(n,a){if(typeof n=="object"&&n!==null){var l=Qd.get(n);return l!==void 0?l:(a={value:n,source:a,stack:hd(a)},Qd.set(n,a),a)}return{value:n,source:a,stack:hd(a)}}var Bt=[],Xa=0,vo=0;function yr(){for(var n=Xa,a=vo=Xa=0;a<n;){var l=Bt[a];Bt[a++]=null;var u=Bt[a];Bt[a++]=null;var h=Bt[a];Bt[a++]=null;var y=Bt[a];if(Bt[a++]=null,u!==null&&h!==null){var T=u.pending;T===null?h.next=h:(h.next=T.next,T.next=h),u.pending=h}y!==0&&Wd(l,h,y)}}function xr(n,a,l,u){Bt[Xa++]=n,Bt[Xa++]=a,Bt[Xa++]=l,Bt[Xa++]=u,vo|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function bo(n,a,l,u){return xr(n,a,l,u),vr(n)}function Qa(n,a){return xr(n,null,null,a),vr(n)}function Wd(n,a,l){n.lanes|=l;var u=n.alternate;u!==null&&(u.lanes|=l);for(var h=!1,y=n.return;y!==null;)y.childLanes|=l,u=y.alternate,u!==null&&(u.childLanes|=l),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(h=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,h&&a!==null&&(h=31-Et(l),n=y.hiddenUpdates,u=n[h],u===null?n[h]=[a]:u.push(a),a.lane=l|536870912),y):null}function vr(n){if(50<_s)throw _s=0,Eu=null,Error(i(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var Wa={};function Yx(n,a,l,u){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(n,a,l,u){return new Yx(n,a,l,u)}function To(n){return n=n.prototype,!(!n||!n.isReactComponent)}function yn(n,a){var l=n.alternate;return l===null?(l=wt(n.tag,a,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=a,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,a=n.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function ef(n,a){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,a=l.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function br(n,a,l,u,h,y){var T=0;if(u=n,typeof n=="function")To(n)&&(T=1);else if(typeof n=="string")T=Zv(n,l,ce.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case te:return n=wt(31,l,a,h),n.elementType=te,n.lanes=y,n;case N:return va(l.children,h,y,a);case E:T=8,h|=24;break;case M:return n=wt(12,l,a,h|2),n.elementType=M,n.lanes=y,n;case F:return n=wt(13,l,a,h),n.elementType=F,n.lanes=y,n;case ae:return n=wt(19,l,a,h),n.elementType=ae,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case I:case B:T=10;break e;case j:T=9;break e;case Z:T=11;break e;case z:T=14;break e;case J:T=16,u=null;break e}T=29,l=Error(i(130,n===null?"null":typeof n,"")),u=null}return a=wt(T,l,a,h),a.elementType=n,a.type=u,a.lanes=y,a}function va(n,a,l,u){return n=wt(7,n,u,a),n.lanes=l,n}function Co(n,a,l){return n=wt(6,n,null,a),n.lanes=l,n}function _o(n,a,l){return a=wt(4,n.children!==null?n.children:[],n.key,a),a.lanes=l,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}var ei=[],ti=0,Tr=null,Cr=0,qt=[],Gt=0,ba=null,xn=1,vn="";function Ta(n,a){ei[ti++]=Cr,ei[ti++]=Tr,Tr=n,Cr=a}function tf(n,a,l){qt[Gt++]=xn,qt[Gt++]=vn,qt[Gt++]=ba,ba=n;var u=xn;n=vn;var h=32-Et(u)-1;u&=~(1<<h),l+=1;var y=32-Et(a)+h;if(30<y){var T=h-h%5;y=(u&(1<<T)-1).toString(32),u>>=T,h-=T,xn=1<<32-Et(a)+h|l<<h|u,vn=y+n}else xn=1<<y|l<<h|u,vn=n}function So(n){n.return!==null&&(Ta(n,1),tf(n,1,0))}function No(n){for(;n===Tr;)Tr=ei[--ti],ei[ti]=null,Cr=ei[--ti],ei[ti]=null;for(;n===ba;)ba=qt[--Gt],qt[Gt]=null,vn=qt[--Gt],qt[Gt]=null,xn=qt[--Gt],qt[Gt]=null}var pt=null,Ke=null,Ie=!1,Ca=null,an=!1,Eo=Error(i(519));function _a(n){var a=Error(i(418,""));throw ts(Ot(a,n)),Eo}function nf(n){var a=n.stateNode,l=n.type,u=n.memoizedProps;switch(a[ft]=n,a[vt]=u,l){case"dialog":Se("cancel",a),Se("close",a);break;case"iframe":case"object":case"embed":Se("load",a);break;case"video":case"audio":for(l=0;l<Ns.length;l++)Se(Ns[l],a);break;case"source":Se("error",a);break;case"img":case"image":case"link":Se("error",a),Se("load",a);break;case"details":Se("toggle",a);break;case"input":Se("invalid",a),yd(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),or(a);break;case"select":Se("invalid",a);break;case"textarea":Se("invalid",a),vd(a,u.value,u.defaultValue,u.children),or(a)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||bh(a.textContent,l)?(u.popover!=null&&(Se("beforetoggle",a),Se("toggle",a)),u.onScroll!=null&&Se("scroll",a),u.onScrollEnd!=null&&Se("scrollend",a),u.onClick!=null&&(a.onclick=nl),a=!0):a=!1,a||_a(n)}function af(n){for(pt=n.return;pt;)switch(pt.tag){case 5:case 13:an=!1;return;case 27:case 3:an=!0;return;default:pt=pt.return}}function Wi(n){if(n!==pt)return!1;if(!Ie)return af(n),Ie=!0,!1;var a=n.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||Gu(n.type,n.memoizedProps)),l=!l),l&&Ke&&_a(n),af(n),a===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));e:{for(n=n.nextSibling,a=0;n;){if(n.nodeType===8)if(l=n.data,l==="/$"){if(a===0){Ke=Xt(n.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;n=n.nextSibling}Ke=null}}else a===27?(a=Ke,Qn(n.type)?(n=Yu,Yu=null,Ke=n):Ke=a):Ke=pt?Xt(n.stateNode.nextSibling):null;return!0}function es(){Ke=pt=null,Ie=!1}function sf(){var n=Ca;return n!==null&&(_t===null?_t=n:_t.push.apply(_t,n),Ca=null),n}function ts(n){Ca===null?Ca=[n]:Ca.push(n)}var Ao=Y(null),Sa=null,bn=null;function jn(n,a,l){X(Ao,a._currentValue),a._currentValue=l}function Tn(n){n._currentValue=Ao.current,ne(Ao)}function wo(n,a,l){for(;n!==null;){var u=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),n===l)break;n=n.return}}function Mo(n,a,l,u){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var y=h.dependencies;if(y!==null){var T=h.child;y=y.firstContext;e:for(;y!==null;){var _=y;y=h;for(var A=0;A<a.length;A++)if(_.context===a[A]){y.lanes|=l,_=y.alternate,_!==null&&(_.lanes|=l),wo(y.return,l,n),u||(T=null);break e}y=_.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(i(341));T.lanes|=l,y=T.alternate,y!==null&&(y.lanes|=l),wo(T,l,n),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===n){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function ns(n,a,l,u){n=null;for(var h=a,y=!1;h!==null;){if(!y){if((h.flags&524288)!==0)y=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var _=h.type;At(h.pendingProps.value,T.value)||(n!==null?n.push(_):n=[_])}}else if(h===St.current){if(T=h.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(Ds):n=[Ds])}h=h.return}n!==null&&Mo(a,n,l,u),a.flags|=262144}function _r(n){for(n=n.firstContext;n!==null;){if(!At(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Na(n){Sa=n,bn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function mt(n){return rf(Sa,n)}function Sr(n,a){return Sa===null&&Na(n),rf(n,a)}function rf(n,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},bn===null){if(n===null)throw Error(i(308));bn=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else bn=bn.next=a;return l}var $x=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(l,u){n.push(u)}};this.abort=function(){a.aborted=!0,n.forEach(function(l){return l()})}},Zx=s.unstable_scheduleCallback,Kx=s.unstable_NormalPriority,at={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ro(){return{controller:new $x,data:new Map,refCount:0}}function as(n){n.refCount--,n.refCount===0&&Zx(Kx,function(){n.controller.abort()})}var is=null,Do=0,ni=0,ai=null;function Jx(n,a){if(is===null){var l=is=[];Do=0,ni=ku(),ai={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Do++,a.then(lf,lf),a}function lf(){if(--Do===0&&is!==null){ai!==null&&(ai.status="fulfilled");var n=is;is=null,ni=0,ai=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function Xx(n,a){var l=[],u={status:"pending",value:null,reason:null,then:function(h){l.push(h)}};return n.then(function(){u.status="fulfilled",u.value=a;for(var h=0;h<l.length;h++)(0,l[h])(a)},function(h){for(u.status="rejected",u.reason=h,h=0;h<l.length;h++)(0,l[h])(void 0)}),u}var of=O.S;O.S=function(n,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Jx(n,a),of!==null&&of(n,a)};var Ea=Y(null);function Io(){var n=Ea.current;return n!==null?n:Ge.pooledCache}function Nr(n,a){a===null?X(Ea,Ea.current):X(Ea,a.pool)}function uf(){var n=Io();return n===null?null:{parent:at._currentValue,pool:n}}var ss=Error(i(460)),cf=Error(i(474)),Er=Error(i(542)),ko={then:function(){}};function df(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Ar(){}function ff(n,a,l){switch(l=n[l],l===void 0?n.push(a):l!==a&&(a.then(Ar,Ar),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,hf(n),n;default:if(typeof a.status=="string")a.then(Ar,Ar);else{if(n=Ge,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=a,n.status="pending",n.then(function(u){if(a.status==="pending"){var h=a;h.status="fulfilled",h.value=u}},function(u){if(a.status==="pending"){var h=a;h.status="rejected",h.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,hf(n),n}throw rs=a,ss}}var rs=null;function mf(){if(rs===null)throw Error(i(459));var n=rs;return rs=null,n}function hf(n){if(n===ss||n===Er)throw Error(i(483))}var Vn=!1;function Uo(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lo(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function On(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Bn(n,a,l){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Ue&2)!==0){var h=u.pending;return h===null?a.next=a:(a.next=h.next,h.next=a),u.pending=a,a=vr(n),Wd(n,null,l),a}return xr(n,u,a,l),vr(n)}function ls(n,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=n.pendingLanes,l|=u,a.lanes=l,rd(n,l)}}function Po(n,a){var l=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var h=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?h=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?h=y=a:y=y.next=a}else h=y=a;l={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=a:n.next=a,l.lastBaseUpdate=a}var jo=!1;function os(){if(jo){var n=ai;if(n!==null)throw n}}function us(n,a,l,u){jo=!1;var h=n.updateQueue;Vn=!1;var y=h.firstBaseUpdate,T=h.lastBaseUpdate,_=h.shared.pending;if(_!==null){h.shared.pending=null;var A=_,L=A.next;A.next=null,T===null?y=L:T.next=L,T=A;var q=n.alternate;q!==null&&(q=q.updateQueue,_=q.lastBaseUpdate,_!==T&&(_===null?q.firstBaseUpdate=L:_.next=L,q.lastBaseUpdate=A))}if(y!==null){var H=h.baseState;T=0,q=L=A=null,_=y;do{var P=_.lane&-536870913,V=P!==_.lane;if(V?(Ae&P)===P:(u&P)===P){P!==0&&P===ni&&(jo=!0),q!==null&&(q=q.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var he=n,de=_;P=a;var Oe=l;switch(de.tag){case 1:if(he=de.payload,typeof he=="function"){H=he.call(Oe,H,P);break e}H=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=de.payload,P=typeof he=="function"?he.call(Oe,H,P):he,P==null)break e;H=v({},H,P);break e;case 2:Vn=!0}}P=_.callback,P!==null&&(n.flags|=64,V&&(n.flags|=8192),V=h.callbacks,V===null?h.callbacks=[P]:V.push(P))}else V={lane:P,tag:_.tag,payload:_.payload,callback:_.callback,next:null},q===null?(L=q=V,A=H):q=q.next=V,T|=P;if(_=_.next,_===null){if(_=h.shared.pending,_===null)break;V=_,_=V.next,V.next=null,h.lastBaseUpdate=V,h.shared.pending=null}}while(!0);q===null&&(A=H),h.baseState=A,h.firstBaseUpdate=L,h.lastBaseUpdate=q,y===null&&(h.shared.lanes=0),Zn|=T,n.lanes=T,n.memoizedState=H}}function pf(n,a){if(typeof n!="function")throw Error(i(191,n));n.call(a)}function gf(n,a){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)pf(l[n],a)}var ii=Y(null),wr=Y(0);function yf(n,a){n=wn,X(wr,n),X(ii,a),wn=n|a.baseLanes}function Vo(){X(wr,wn),X(ii,ii.current)}function Oo(){wn=wr.current,ne(ii),ne(wr)}var qn=0,Te=null,je=null,We=null,Mr=!1,si=!1,Aa=!1,Rr=0,cs=0,ri=null,Qx=0;function Xe(){throw Error(i(321))}function Bo(n,a){if(a===null)return!1;for(var l=0;l<a.length&&l<n.length;l++)if(!At(n[l],a[l]))return!1;return!0}function qo(n,a,l,u,h,y){return qn=y,Te=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,O.H=n===null||n.memoizedState===null?em:tm,Aa=!1,y=l(u,h),Aa=!1,si&&(y=vf(a,l,u,h)),xf(n),y}function xf(n){O.H=Pr;var a=je!==null&&je.next!==null;if(qn=0,We=je=Te=null,Mr=!1,cs=0,ri=null,a)throw Error(i(300));n===null||rt||(n=n.dependencies,n!==null&&_r(n)&&(rt=!0))}function vf(n,a,l,u){Te=n;var h=0;do{if(si&&(ri=null),cs=0,si=!1,25<=h)throw Error(i(301));if(h+=1,We=je=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}O.H=sv,y=a(l,u)}while(si);return y}function Wx(){var n=O.H,a=n.useState()[0];return a=typeof a.then=="function"?ds(a):a,n=n.useState()[0],(je!==null?je.memoizedState:null)!==n&&(Te.flags|=1024),a}function Go(){var n=Rr!==0;return Rr=0,n}function zo(n,a,l){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~l}function Ho(n){if(Mr){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Mr=!1}qn=0,We=je=Te=null,si=!1,cs=Rr=0,ri=null}function Tt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Te.memoizedState=We=n:We=We.next=n,We}function et(){if(je===null){var n=Te.alternate;n=n!==null?n.memoizedState:null}else n=je.next;var a=We===null?Te.memoizedState:We.next;if(a!==null)We=a,je=n;else{if(n===null)throw Te.alternate===null?Error(i(467)):Error(i(310));je=n,n={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},We===null?Te.memoizedState=We=n:We=We.next=n}return We}function Fo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ds(n){var a=cs;return cs+=1,ri===null&&(ri=[]),n=ff(ri,n,a),a=Te,(We===null?a.memoizedState:We.next)===null&&(a=a.alternate,O.H=a===null||a.memoizedState===null?em:tm),n}function Dr(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ds(n);if(n.$$typeof===B)return mt(n)}throw Error(i(438,String(n)))}function Yo(n){var a=null,l=Te.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=Te.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(h){return h.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Fo(),Te.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(n),u=0;u<n;u++)l[u]=ue;return a.index++,l}function Cn(n,a){return typeof a=="function"?a(n):a}function Ir(n){var a=et();return $o(a,je,n)}function $o(n,a,l){var u=n.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var h=n.baseQueue,y=u.pending;if(y!==null){if(h!==null){var T=h.next;h.next=y.next,y.next=T}a.baseQueue=h=y,u.pending=null}if(y=n.baseState,h===null)n.memoizedState=y;else{a=h.next;var _=T=null,A=null,L=a,q=!1;do{var H=L.lane&-536870913;if(H!==L.lane?(Ae&H)===H:(qn&H)===H){var P=L.revertLane;if(P===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),H===ni&&(q=!0);else if((qn&P)===P){L=L.next,P===ni&&(q=!0);continue}else H={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},A===null?(_=A=H,T=y):A=A.next=H,Te.lanes|=P,Zn|=P;H=L.action,Aa&&l(y,H),y=L.hasEagerState?L.eagerState:l(y,H)}else P={lane:H,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},A===null?(_=A=P,T=y):A=A.next=P,Te.lanes|=H,Zn|=H;L=L.next}while(L!==null&&L!==a);if(A===null?T=y:A.next=_,!At(y,n.memoizedState)&&(rt=!0,q&&(l=ai,l!==null)))throw l;n.memoizedState=y,n.baseState=T,n.baseQueue=A,u.lastRenderedState=y}return h===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Zo(n){var a=et(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var u=l.dispatch,h=l.pending,y=a.memoizedState;if(h!==null){l.pending=null;var T=h=h.next;do y=n(y,T.action),T=T.next;while(T!==h);At(y,a.memoizedState)||(rt=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,u]}function bf(n,a,l){var u=Te,h=et(),y=Ie;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=a();var T=!At((je||h).memoizedState,l);T&&(h.memoizedState=l,rt=!0),h=h.queue;var _=_f.bind(null,u,h,n);if(fs(2048,8,_,[n]),h.getSnapshot!==a||T||We!==null&&We.memoizedState.tag&1){if(u.flags|=2048,li(9,kr(),Cf.bind(null,u,h,l,a),null),Ge===null)throw Error(i(349));y||(qn&124)!==0||Tf(u,a,l)}return l}function Tf(n,a,l){n.flags|=16384,n={getSnapshot:a,value:l},a=Te.updateQueue,a===null?(a=Fo(),Te.updateQueue=a,a.stores=[n]):(l=a.stores,l===null?a.stores=[n]:l.push(n))}function Cf(n,a,l,u){a.value=l,a.getSnapshot=u,Sf(a)&&Nf(n)}function _f(n,a,l){return l(function(){Sf(a)&&Nf(n)})}function Sf(n){var a=n.getSnapshot;n=n.value;try{var l=a();return!At(n,l)}catch{return!0}}function Nf(n){var a=Qa(n,2);a!==null&&kt(a,n,2)}function Ko(n){var a=Tt();if(typeof n=="function"){var l=n;if(n=l(),Aa){Un(!0);try{l()}finally{Un(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:n},a}function Ef(n,a,l,u){return n.baseState=l,$o(n,je,typeof u=="function"?u:Cn)}function ev(n,a,l,u,h){if(Lr(n))throw Error(i(485));if(n=a.action,n!==null){var y={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};O.T!==null?l(!0):y.isTransition=!1,u(y),l=a.pending,l===null?(y.next=a.pending=y,Af(a,y)):(y.next=l.next,a.pending=l.next=y)}}function Af(n,a){var l=a.action,u=a.payload,h=n.state;if(a.isTransition){var y=O.T,T={};O.T=T;try{var _=l(h,u),A=O.S;A!==null&&A(T,_),wf(n,a,_)}catch(L){Jo(n,a,L)}finally{O.T=y}}else try{y=l(h,u),wf(n,a,y)}catch(L){Jo(n,a,L)}}function wf(n,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Mf(n,a,u)},function(u){return Jo(n,a,u)}):Mf(n,a,l)}function Mf(n,a,l){a.status="fulfilled",a.value=l,Rf(a),n.state=l,a=n.pending,a!==null&&(l=a.next,l===a?n.pending=null:(l=l.next,a.next=l,Af(n,l)))}function Jo(n,a,l){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,Rf(a),a=a.next;while(a!==u)}n.action=null}function Rf(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function Df(n,a){return a}function If(n,a){if(Ie){var l=Ge.formState;if(l!==null){e:{var u=Te;if(Ie){if(Ke){t:{for(var h=Ke,y=an;h.nodeType!==8;){if(!y){h=null;break t}if(h=Xt(h.nextSibling),h===null){h=null;break t}}y=h.data,h=y==="F!"||y==="F"?h:null}if(h){Ke=Xt(h.nextSibling),u=h.data==="F!";break e}}_a(u)}u=!1}u&&(a=l[0])}}return l=Tt(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Df,lastRenderedState:a},l.queue=u,l=Xf.bind(null,Te,u),u.dispatch=l,u=Ko(!1),y=tu.bind(null,Te,!1,u.queue),u=Tt(),h={state:a,dispatch:null,action:n,pending:null},u.queue=h,l=ev.bind(null,Te,h,y,l),h.dispatch=l,u.memoizedState=n,[a,l,!1]}function kf(n){var a=et();return Uf(a,je,n)}function Uf(n,a,l){if(a=$o(n,a,Df)[0],n=Ir(Cn)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=ds(a)}catch(T){throw T===ss?Er:T}else u=a;a=et();var h=a.queue,y=h.dispatch;return l!==a.memoizedState&&(Te.flags|=2048,li(9,kr(),tv.bind(null,h,l),null)),[u,y,n]}function tv(n,a){n.action=a}function Lf(n){var a=et(),l=je;if(l!==null)return Uf(a,l,n);et(),a=a.memoizedState,l=et();var u=l.queue.dispatch;return l.memoizedState=n,[a,u,!1]}function li(n,a,l,u){return n={tag:n,create:l,deps:u,inst:a,next:null},a=Te.updateQueue,a===null&&(a=Fo(),Te.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=n.next=n:(u=l.next,l.next=n,n.next=u,a.lastEffect=n),n}function kr(){return{destroy:void 0,resource:void 0}}function Pf(){return et().memoizedState}function Ur(n,a,l,u){var h=Tt();u=u===void 0?null:u,Te.flags|=n,h.memoizedState=li(1|a,kr(),l,u)}function fs(n,a,l,u){var h=et();u=u===void 0?null:u;var y=h.memoizedState.inst;je!==null&&u!==null&&Bo(u,je.memoizedState.deps)?h.memoizedState=li(a,y,l,u):(Te.flags|=n,h.memoizedState=li(1|a,y,l,u))}function jf(n,a){Ur(8390656,8,n,a)}function Vf(n,a){fs(2048,8,n,a)}function Of(n,a){return fs(4,2,n,a)}function Bf(n,a){return fs(4,4,n,a)}function qf(n,a){if(typeof a=="function"){n=n();var l=a(n);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function Gf(n,a,l){l=l!=null?l.concat([n]):null,fs(4,4,qf.bind(null,a,n),l)}function Xo(){}function zf(n,a){var l=et();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&Bo(a,u[1])?u[0]:(l.memoizedState=[n,a],n)}function Hf(n,a){var l=et();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&Bo(a,u[1]))return u[0];if(u=n(),Aa){Un(!0);try{n()}finally{Un(!1)}}return l.memoizedState=[u,a],u}function Qo(n,a,l){return l===void 0||(qn&1073741824)!==0?n.memoizedState=a:(n.memoizedState=l,n=$m(),Te.lanes|=n,Zn|=n,l)}function Ff(n,a,l,u){return At(l,a)?l:ii.current!==null?(n=Qo(n,l,u),At(n,a)||(rt=!0),n):(qn&42)===0?(rt=!0,n.memoizedState=l):(n=$m(),Te.lanes|=n,Zn|=n,a)}function Yf(n,a,l,u,h){var y=Q.p;Q.p=y!==0&&8>y?y:8;var T=O.T,_={};O.T=_,tu(n,!1,a,l);try{var A=h(),L=O.S;if(L!==null&&L(_,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var q=Xx(A,u);ms(n,a,q,It(n))}else ms(n,a,u,It(n))}catch(H){ms(n,a,{then:function(){},status:"rejected",reason:H},It())}finally{Q.p=y,O.T=T}}function nv(){}function Wo(n,a,l,u){if(n.tag!==5)throw Error(i(476));var h=$f(n).queue;Yf(n,h,a,me,l===null?nv:function(){return Zf(n),l(u)})}function $f(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:me},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:l},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function Zf(n){var a=$f(n).next.queue;ms(n,a,{},It())}function eu(){return mt(Ds)}function Kf(){return et().memoizedState}function Jf(){return et().memoizedState}function av(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var l=It();n=On(l);var u=Bn(a,n,l);u!==null&&(kt(u,a,l),ls(u,a,l)),a={cache:Ro()},n.payload=a;return}a=a.return}}function iv(n,a,l){var u=It();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Lr(n)?Qf(a,l):(l=bo(n,a,l,u),l!==null&&(kt(l,n,u),Wf(l,a,u)))}function Xf(n,a,l){var u=It();ms(n,a,l,u)}function ms(n,a,l,u){var h={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Lr(n))Qf(a,h);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var T=a.lastRenderedState,_=y(T,l);if(h.hasEagerState=!0,h.eagerState=_,At(_,T))return xr(n,a,h,0),Ge===null&&yr(),!1}catch{}finally{}if(l=bo(n,a,h,u),l!==null)return kt(l,n,u),Wf(l,a,u),!0}return!1}function tu(n,a,l,u){if(u={lane:2,revertLane:ku(),action:u,hasEagerState:!1,eagerState:null,next:null},Lr(n)){if(a)throw Error(i(479))}else a=bo(n,l,u,2),a!==null&&kt(a,n,2)}function Lr(n){var a=n.alternate;return n===Te||a!==null&&a===Te}function Qf(n,a){si=Mr=!0;var l=n.pending;l===null?a.next=a:(a.next=l.next,l.next=a),n.pending=a}function Wf(n,a,l){if((l&4194048)!==0){var u=a.lanes;u&=n.pendingLanes,l|=u,a.lanes=l,rd(n,l)}}var Pr={readContext:mt,use:Dr,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe},em={readContext:mt,use:Dr,useCallback:function(n,a){return Tt().memoizedState=[n,a===void 0?null:a],n},useContext:mt,useEffect:jf,useImperativeHandle:function(n,a,l){l=l!=null?l.concat([n]):null,Ur(4194308,4,qf.bind(null,a,n),l)},useLayoutEffect:function(n,a){return Ur(4194308,4,n,a)},useInsertionEffect:function(n,a){Ur(4,2,n,a)},useMemo:function(n,a){var l=Tt();a=a===void 0?null:a;var u=n();if(Aa){Un(!0);try{n()}finally{Un(!1)}}return l.memoizedState=[u,a],u},useReducer:function(n,a,l){var u=Tt();if(l!==void 0){var h=l(a);if(Aa){Un(!0);try{l(a)}finally{Un(!1)}}}else h=a;return u.memoizedState=u.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},u.queue=n,n=n.dispatch=iv.bind(null,Te,n),[u.memoizedState,n]},useRef:function(n){var a=Tt();return n={current:n},a.memoizedState=n},useState:function(n){n=Ko(n);var a=n.queue,l=Xf.bind(null,Te,a);return a.dispatch=l,[n.memoizedState,l]},useDebugValue:Xo,useDeferredValue:function(n,a){var l=Tt();return Qo(l,n,a)},useTransition:function(){var n=Ko(!1);return n=Yf.bind(null,Te,n.queue,!0,!1),Tt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,l){var u=Te,h=Tt();if(Ie){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),Ge===null)throw Error(i(349));(Ae&124)!==0||Tf(u,a,l)}h.memoizedState=l;var y={value:l,getSnapshot:a};return h.queue=y,jf(_f.bind(null,u,y,n),[n]),u.flags|=2048,li(9,kr(),Cf.bind(null,u,y,l,a),null),l},useId:function(){var n=Tt(),a=Ge.identifierPrefix;if(Ie){var l=vn,u=xn;l=(u&~(1<<32-Et(u)-1)).toString(32)+l,a=""+a+"R"+l,l=Rr++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=Qx++,a=""+a+"r"+l.toString(32)+"";return n.memoizedState=a},useHostTransitionStatus:eu,useFormState:If,useActionState:If,useOptimistic:function(n){var a=Tt();a.memoizedState=a.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=tu.bind(null,Te,!0,l),l.dispatch=a,[n,a]},useMemoCache:Yo,useCacheRefresh:function(){return Tt().memoizedState=av.bind(null,Te)}},tm={readContext:mt,use:Dr,useCallback:zf,useContext:mt,useEffect:Vf,useImperativeHandle:Gf,useInsertionEffect:Of,useLayoutEffect:Bf,useMemo:Hf,useReducer:Ir,useRef:Pf,useState:function(){return Ir(Cn)},useDebugValue:Xo,useDeferredValue:function(n,a){var l=et();return Ff(l,je.memoizedState,n,a)},useTransition:function(){var n=Ir(Cn)[0],a=et().memoizedState;return[typeof n=="boolean"?n:ds(n),a]},useSyncExternalStore:bf,useId:Kf,useHostTransitionStatus:eu,useFormState:kf,useActionState:kf,useOptimistic:function(n,a){var l=et();return Ef(l,je,n,a)},useMemoCache:Yo,useCacheRefresh:Jf},sv={readContext:mt,use:Dr,useCallback:zf,useContext:mt,useEffect:Vf,useImperativeHandle:Gf,useInsertionEffect:Of,useLayoutEffect:Bf,useMemo:Hf,useReducer:Zo,useRef:Pf,useState:function(){return Zo(Cn)},useDebugValue:Xo,useDeferredValue:function(n,a){var l=et();return je===null?Qo(l,n,a):Ff(l,je.memoizedState,n,a)},useTransition:function(){var n=Zo(Cn)[0],a=et().memoizedState;return[typeof n=="boolean"?n:ds(n),a]},useSyncExternalStore:bf,useId:Kf,useHostTransitionStatus:eu,useFormState:Lf,useActionState:Lf,useOptimistic:function(n,a){var l=et();return je!==null?Ef(l,je,n,a):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:Yo,useCacheRefresh:Jf},oi=null,hs=0;function jr(n){var a=hs;return hs+=1,oi===null&&(oi=[]),ff(oi,n,a)}function ps(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function Vr(n,a){throw a.$$typeof===C?Error(i(525)):(n=Object.prototype.toString.call(a),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function nm(n){var a=n._init;return a(n._payload)}function am(n){function a(k,D){if(n){var U=k.deletions;U===null?(k.deletions=[D],k.flags|=16):U.push(D)}}function l(k,D){if(!n)return null;for(;D!==null;)a(k,D),D=D.sibling;return null}function u(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=yn(k,D),k.index=0,k.sibling=null,k}function y(k,D,U){return k.index=U,n?(U=k.alternate,U!==null?(U=U.index,U<D?(k.flags|=67108866,D):U):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function T(k){return n&&k.alternate===null&&(k.flags|=67108866),k}function _(k,D,U,G){return D===null||D.tag!==6?(D=Co(U,k.mode,G),D.return=k,D):(D=h(D,U),D.return=k,D)}function A(k,D,U,G){var ie=U.type;return ie===N?q(k,D,U.props.children,G,U.key):D!==null&&(D.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===J&&nm(ie)===D.type)?(D=h(D,U.props),ps(D,U),D.return=k,D):(D=br(U.type,U.key,U.props,null,k.mode,G),ps(D,U),D.return=k,D)}function L(k,D,U,G){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=_o(U,k.mode,G),D.return=k,D):(D=h(D,U.children||[]),D.return=k,D)}function q(k,D,U,G,ie){return D===null||D.tag!==7?(D=va(U,k.mode,G,ie),D.return=k,D):(D=h(D,U),D.return=k,D)}function H(k,D,U){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Co(""+D,k.mode,U),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case b:return U=br(D.type,D.key,D.props,null,k.mode,U),ps(U,D),U.return=k,U;case S:return D=_o(D,k.mode,U),D.return=k,D;case J:var G=D._init;return D=G(D._payload),H(k,D,U)}if(we(D)||Pe(D))return D=va(D,k.mode,U,null),D.return=k,D;if(typeof D.then=="function")return H(k,jr(D),U);if(D.$$typeof===B)return H(k,Sr(k,D),U);Vr(k,D)}return null}function P(k,D,U,G){var ie=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ie!==null?null:_(k,D,""+U,G);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case b:return U.key===ie?A(k,D,U,G):null;case S:return U.key===ie?L(k,D,U,G):null;case J:return ie=U._init,U=ie(U._payload),P(k,D,U,G)}if(we(U)||Pe(U))return ie!==null?null:q(k,D,U,G,null);if(typeof U.then=="function")return P(k,D,jr(U),G);if(U.$$typeof===B)return P(k,D,Sr(k,U),G);Vr(k,U)}return null}function V(k,D,U,G,ie){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return k=k.get(U)||null,_(D,k,""+G,ie);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return k=k.get(G.key===null?U:G.key)||null,A(D,k,G,ie);case S:return k=k.get(G.key===null?U:G.key)||null,L(D,k,G,ie);case J:var Ce=G._init;return G=Ce(G._payload),V(k,D,U,G,ie)}if(we(G)||Pe(G))return k=k.get(U)||null,q(D,k,G,ie,null);if(typeof G.then=="function")return V(k,D,U,jr(G),ie);if(G.$$typeof===B)return V(k,D,U,Sr(D,G),ie);Vr(D,G)}return null}function he(k,D,U,G){for(var ie=null,Ce=null,le=D,fe=D=0,ot=null;le!==null&&fe<U.length;fe++){le.index>fe?(ot=le,le=null):ot=le.sibling;var Re=P(k,le,U[fe],G);if(Re===null){le===null&&(le=ot);break}n&&le&&Re.alternate===null&&a(k,le),D=y(Re,D,fe),Ce===null?ie=Re:Ce.sibling=Re,Ce=Re,le=ot}if(fe===U.length)return l(k,le),Ie&&Ta(k,fe),ie;if(le===null){for(;fe<U.length;fe++)le=H(k,U[fe],G),le!==null&&(D=y(le,D,fe),Ce===null?ie=le:Ce.sibling=le,Ce=le);return Ie&&Ta(k,fe),ie}for(le=u(le);fe<U.length;fe++)ot=V(le,k,fe,U[fe],G),ot!==null&&(n&&ot.alternate!==null&&le.delete(ot.key===null?fe:ot.key),D=y(ot,D,fe),Ce===null?ie=ot:Ce.sibling=ot,Ce=ot);return n&&le.forEach(function(aa){return a(k,aa)}),Ie&&Ta(k,fe),ie}function de(k,D,U,G){if(U==null)throw Error(i(151));for(var ie=null,Ce=null,le=D,fe=D=0,ot=null,Re=U.next();le!==null&&!Re.done;fe++,Re=U.next()){le.index>fe?(ot=le,le=null):ot=le.sibling;var aa=P(k,le,Re.value,G);if(aa===null){le===null&&(le=ot);break}n&&le&&aa.alternate===null&&a(k,le),D=y(aa,D,fe),Ce===null?ie=aa:Ce.sibling=aa,Ce=aa,le=ot}if(Re.done)return l(k,le),Ie&&Ta(k,fe),ie;if(le===null){for(;!Re.done;fe++,Re=U.next())Re=H(k,Re.value,G),Re!==null&&(D=y(Re,D,fe),Ce===null?ie=Re:Ce.sibling=Re,Ce=Re);return Ie&&Ta(k,fe),ie}for(le=u(le);!Re.done;fe++,Re=U.next())Re=V(le,k,fe,Re.value,G),Re!==null&&(n&&Re.alternate!==null&&le.delete(Re.key===null?fe:Re.key),D=y(Re,D,fe),Ce===null?ie=Re:Ce.sibling=Re,Ce=Re);return n&&le.forEach(function(r0){return a(k,r0)}),Ie&&Ta(k,fe),ie}function Oe(k,D,U,G){if(typeof U=="object"&&U!==null&&U.type===N&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case b:e:{for(var ie=U.key;D!==null;){if(D.key===ie){if(ie=U.type,ie===N){if(D.tag===7){l(k,D.sibling),G=h(D,U.props.children),G.return=k,k=G;break e}}else if(D.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===J&&nm(ie)===D.type){l(k,D.sibling),G=h(D,U.props),ps(G,U),G.return=k,k=G;break e}l(k,D);break}else a(k,D);D=D.sibling}U.type===N?(G=va(U.props.children,k.mode,G,U.key),G.return=k,k=G):(G=br(U.type,U.key,U.props,null,k.mode,G),ps(G,U),G.return=k,k=G)}return T(k);case S:e:{for(ie=U.key;D!==null;){if(D.key===ie)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){l(k,D.sibling),G=h(D,U.children||[]),G.return=k,k=G;break e}else{l(k,D);break}else a(k,D);D=D.sibling}G=_o(U,k.mode,G),G.return=k,k=G}return T(k);case J:return ie=U._init,U=ie(U._payload),Oe(k,D,U,G)}if(we(U))return he(k,D,U,G);if(Pe(U)){if(ie=Pe(U),typeof ie!="function")throw Error(i(150));return U=ie.call(U),de(k,D,U,G)}if(typeof U.then=="function")return Oe(k,D,jr(U),G);if(U.$$typeof===B)return Oe(k,D,Sr(k,U),G);Vr(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,D!==null&&D.tag===6?(l(k,D.sibling),G=h(D,U),G.return=k,k=G):(l(k,D),G=Co(U,k.mode,G),G.return=k,k=G),T(k)):l(k,D)}return function(k,D,U,G){try{hs=0;var ie=Oe(k,D,U,G);return oi=null,ie}catch(le){if(le===ss||le===Er)throw le;var Ce=wt(29,le,null,k.mode);return Ce.lanes=G,Ce.return=k,Ce}finally{}}}var ui=am(!0),im=am(!1),zt=Y(null),sn=null;function Gn(n){var a=n.alternate;X(it,it.current&1),X(zt,n),sn===null&&(a===null||ii.current!==null||a.memoizedState!==null)&&(sn=n)}function sm(n){if(n.tag===22){if(X(it,it.current),X(zt,n),sn===null){var a=n.alternate;a!==null&&a.memoizedState!==null&&(sn=n)}}else zn()}function zn(){X(it,it.current),X(zt,zt.current)}function _n(n){ne(zt),sn===n&&(sn=null),ne(it)}var it=Y(0);function Or(n){for(var a=n;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Fu(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function nu(n,a,l,u){a=n.memoizedState,l=l(u,a),l=l==null?a:v({},a,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var au={enqueueSetState:function(n,a,l){n=n._reactInternals;var u=It(),h=On(u);h.payload=a,l!=null&&(h.callback=l),a=Bn(n,h,u),a!==null&&(kt(a,n,u),ls(a,n,u))},enqueueReplaceState:function(n,a,l){n=n._reactInternals;var u=It(),h=On(u);h.tag=1,h.payload=a,l!=null&&(h.callback=l),a=Bn(n,h,u),a!==null&&(kt(a,n,u),ls(a,n,u))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var l=It(),u=On(l);u.tag=2,a!=null&&(u.callback=a),a=Bn(n,u,l),a!==null&&(kt(a,n,l),ls(a,n,l))}};function rm(n,a,l,u,h,y,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,y,T):a.prototype&&a.prototype.isPureReactComponent?!Xi(l,u)||!Xi(h,y):!0}function lm(n,a,l,u){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==n&&au.enqueueReplaceState(a,a.state,null)}function wa(n,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(n=n.defaultProps){l===a&&(l=v({},l));for(var h in n)l[h]===void 0&&(l[h]=n[h])}return l}var Br=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function om(n){Br(n)}function um(n){console.error(n)}function cm(n){Br(n)}function qr(n,a){try{var l=n.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function dm(n,a,l){try{var u=n.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function iu(n,a,l){return l=On(l),l.tag=3,l.payload={element:null},l.callback=function(){qr(n,a)},l}function fm(n){return n=On(n),n.tag=3,n}function mm(n,a,l,u){var h=l.type.getDerivedStateFromError;if(typeof h=="function"){var y=u.value;n.payload=function(){return h(y)},n.callback=function(){dm(a,l,u)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){dm(a,l,u),typeof h!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var _=u.stack;this.componentDidCatch(u.value,{componentStack:_!==null?_:""})})}function rv(n,a,l,u,h){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&ns(a,l,h,!0),l=zt.current,l!==null){switch(l.tag){case 13:return sn===null?wu():l.alternate===null&&Je===0&&(Je=3),l.flags&=-257,l.flags|=65536,l.lanes=h,u===ko?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),Ru(n,u,h)),!1;case 22:return l.flags|=65536,u===ko?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),Ru(n,u,h)),!1}throw Error(i(435,l.tag))}return Ru(n,u,h),wu(),!1}if(Ie)return a=zt.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=h,u!==Eo&&(n=Error(i(422),{cause:u}),ts(Ot(n,l)))):(u!==Eo&&(a=Error(i(423),{cause:u}),ts(Ot(a,l))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,u=Ot(u,l),h=iu(n.stateNode,u,h),Po(n,h),Je!==4&&(Je=2)),!1;var y=Error(i(520),{cause:u});if(y=Ot(y,l),Cs===null?Cs=[y]:Cs.push(y),Je!==4&&(Je=2),a===null)return!0;u=Ot(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,n=h&-h,l.lanes|=n,n=iu(l.stateNode,u,n),Po(l,n),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Kn===null||!Kn.has(y))))return l.flags|=65536,h&=-h,l.lanes|=h,h=fm(h),mm(h,n,l,u),Po(l,h),!1}l=l.return}while(l!==null);return!1}var hm=Error(i(461)),rt=!1;function ut(n,a,l,u){a.child=n===null?im(a,null,l,u):ui(a,n.child,l,u)}function pm(n,a,l,u,h){l=l.render;var y=a.ref;if("ref"in u){var T={};for(var _ in u)_!=="ref"&&(T[_]=u[_])}else T=u;return Na(a),u=qo(n,a,l,T,y,h),_=Go(),n!==null&&!rt?(zo(n,a,h),Sn(n,a,h)):(Ie&&_&&So(a),a.flags|=1,ut(n,a,u,h),a.child)}function gm(n,a,l,u,h){if(n===null){var y=l.type;return typeof y=="function"&&!To(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,ym(n,a,y,u,h)):(n=br(l.type,null,u,a,a.mode,h),n.ref=a.ref,n.return=a,a.child=n)}if(y=n.child,!fu(n,h)){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:Xi,l(T,u)&&n.ref===a.ref)return Sn(n,a,h)}return a.flags|=1,n=yn(y,u),n.ref=a.ref,n.return=a,a.child=n}function ym(n,a,l,u,h){if(n!==null){var y=n.memoizedProps;if(Xi(y,u)&&n.ref===a.ref)if(rt=!1,a.pendingProps=u=y,fu(n,h))(n.flags&131072)!==0&&(rt=!0);else return a.lanes=n.lanes,Sn(n,a,h)}return su(n,a,l,u,h)}function xm(n,a,l){var u=a.pendingProps,h=u.children,y=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=y!==null?y.baseLanes|l:l,n!==null){for(h=a.child=n.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;a.childLanes=y&~u}else a.childLanes=0,a.child=null;return vm(n,a,u,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&Nr(a,y!==null?y.cachePool:null),y!==null?yf(a,y):Vo(),sm(a);else return a.lanes=a.childLanes=536870912,vm(n,a,y!==null?y.baseLanes|l:l,l)}else y!==null?(Nr(a,y.cachePool),yf(a,y),zn(),a.memoizedState=null):(n!==null&&Nr(a,null),Vo(),zn());return ut(n,a,h,l),a.child}function vm(n,a,l,u){var h=Io();return h=h===null?null:{parent:at._currentValue,pool:h},a.memoizedState={baseLanes:l,cachePool:h},n!==null&&Nr(a,null),Vo(),sm(a),n!==null&&ns(n,a,u,!0),null}function Gr(n,a){var l=a.ref;if(l===null)n!==null&&n.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(n===null||n.ref!==l)&&(a.flags|=4194816)}}function su(n,a,l,u,h){return Na(a),l=qo(n,a,l,u,void 0,h),u=Go(),n!==null&&!rt?(zo(n,a,h),Sn(n,a,h)):(Ie&&u&&So(a),a.flags|=1,ut(n,a,l,h),a.child)}function bm(n,a,l,u,h,y){return Na(a),a.updateQueue=null,l=vf(a,u,l,h),xf(n),u=Go(),n!==null&&!rt?(zo(n,a,y),Sn(n,a,y)):(Ie&&u&&So(a),a.flags|=1,ut(n,a,l,y),a.child)}function Tm(n,a,l,u,h){if(Na(a),a.stateNode===null){var y=Wa,T=l.contextType;typeof T=="object"&&T!==null&&(y=mt(T)),y=new l(u,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=au,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=u,y.state=a.memoizedState,y.refs={},Uo(a),T=l.contextType,y.context=typeof T=="object"&&T!==null?mt(T):Wa,y.state=a.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(nu(a,l,T,u),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&au.enqueueReplaceState(y,y.state,null),us(a,u,y,h),os(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(n===null){y=a.stateNode;var _=a.memoizedProps,A=wa(l,_);y.props=A;var L=y.context,q=l.contextType;T=Wa,typeof q=="object"&&q!==null&&(T=mt(q));var H=l.getDerivedStateFromProps;q=typeof H=="function"||typeof y.getSnapshotBeforeUpdate=="function",_=a.pendingProps!==_,q||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_||L!==T)&&lm(a,y,u,T),Vn=!1;var P=a.memoizedState;y.state=P,us(a,u,y,h),os(),L=a.memoizedState,_||P!==L||Vn?(typeof H=="function"&&(nu(a,l,H,u),L=a.memoizedState),(A=Vn||rm(a,l,A,u,P,L,T))?(q||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=L),y.props=u,y.state=L,y.context=T,u=A):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{y=a.stateNode,Lo(n,a),T=a.memoizedProps,q=wa(l,T),y.props=q,H=a.pendingProps,P=y.context,L=l.contextType,A=Wa,typeof L=="object"&&L!==null&&(A=mt(L)),_=l.getDerivedStateFromProps,(L=typeof _=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==H||P!==A)&&lm(a,y,u,A),Vn=!1,P=a.memoizedState,y.state=P,us(a,u,y,h),os();var V=a.memoizedState;T!==H||P!==V||Vn||n!==null&&n.dependencies!==null&&_r(n.dependencies)?(typeof _=="function"&&(nu(a,l,_,u),V=a.memoizedState),(q=Vn||rm(a,l,q,u,P,V,A)||n!==null&&n.dependencies!==null&&_r(n.dependencies))?(L||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,V,A),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,V,A)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===n.memoizedProps&&P===n.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&P===n.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=V),y.props=u,y.state=V,y.context=A,u=q):(typeof y.componentDidUpdate!="function"||T===n.memoizedProps&&P===n.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&P===n.memoizedState||(a.flags|=1024),u=!1)}return y=u,Gr(n,a),u=(a.flags&128)!==0,y||u?(y=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,n!==null&&u?(a.child=ui(a,n.child,null,h),a.child=ui(a,null,l,h)):ut(n,a,l,h),a.memoizedState=y.state,n=a.child):n=Sn(n,a,h),n}function Cm(n,a,l,u){return es(),a.flags|=256,ut(n,a,l,u),a.child}var ru={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lu(n){return{baseLanes:n,cachePool:uf()}}function ou(n,a,l){return n=n!==null?n.childLanes&~l:0,a&&(n|=Ht),n}function _m(n,a,l){var u=a.pendingProps,h=!1,y=(a.flags&128)!==0,T;if((T=y)||(T=n!==null&&n.memoizedState===null?!1:(it.current&2)!==0),T&&(h=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,n===null){if(Ie){if(h?Gn(a):zn(),Ie){var _=Ke,A;if(A=_){e:{for(A=_,_=an;A.nodeType!==8;){if(!_){_=null;break e}if(A=Xt(A.nextSibling),A===null){_=null;break e}}_=A}_!==null?(a.memoizedState={dehydrated:_,treeContext:ba!==null?{id:xn,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},A=wt(18,null,null,0),A.stateNode=_,A.return=a,a.child=A,pt=a,Ke=null,A=!0):A=!1}A||_a(a)}if(_=a.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return Fu(_)?a.lanes=32:a.lanes=536870912,null;_n(a)}return _=u.children,u=u.fallback,h?(zn(),h=a.mode,_=zr({mode:"hidden",children:_},h),u=va(u,h,l,null),_.return=a,u.return=a,_.sibling=u,a.child=_,h=a.child,h.memoizedState=lu(l),h.childLanes=ou(n,T,l),a.memoizedState=ru,u):(Gn(a),uu(a,_))}if(A=n.memoizedState,A!==null&&(_=A.dehydrated,_!==null)){if(y)a.flags&256?(Gn(a),a.flags&=-257,a=cu(n,a,l)):a.memoizedState!==null?(zn(),a.child=n.child,a.flags|=128,a=null):(zn(),h=u.fallback,_=a.mode,u=zr({mode:"visible",children:u.children},_),h=va(h,_,l,null),h.flags|=2,u.return=a,h.return=a,u.sibling=h,a.child=u,ui(a,n.child,null,l),u=a.child,u.memoizedState=lu(l),u.childLanes=ou(n,T,l),a.memoizedState=ru,a=h);else if(Gn(a),Fu(_)){if(T=_.nextSibling&&_.nextSibling.dataset,T)var L=T.dgst;T=L,u=Error(i(419)),u.stack="",u.digest=T,ts({value:u,source:null,stack:null}),a=cu(n,a,l)}else if(rt||ns(n,a,l,!1),T=(l&n.childLanes)!==0,rt||T){if(T=Ge,T!==null&&(u=l&-l,u=(u&42)!==0?1:Fl(u),u=(u&(T.suspendedLanes|l))!==0?0:u,u!==0&&u!==A.retryLane))throw A.retryLane=u,Qa(n,u),kt(T,n,u),hm;_.data==="$?"||wu(),a=cu(n,a,l)}else _.data==="$?"?(a.flags|=192,a.child=n.child,a=null):(n=A.treeContext,Ke=Xt(_.nextSibling),pt=a,Ie=!0,Ca=null,an=!1,n!==null&&(qt[Gt++]=xn,qt[Gt++]=vn,qt[Gt++]=ba,xn=n.id,vn=n.overflow,ba=a),a=uu(a,u.children),a.flags|=4096);return a}return h?(zn(),h=u.fallback,_=a.mode,A=n.child,L=A.sibling,u=yn(A,{mode:"hidden",children:u.children}),u.subtreeFlags=A.subtreeFlags&65011712,L!==null?h=yn(L,h):(h=va(h,_,l,null),h.flags|=2),h.return=a,u.return=a,u.sibling=h,a.child=u,u=h,h=a.child,_=n.child.memoizedState,_===null?_=lu(l):(A=_.cachePool,A!==null?(L=at._currentValue,A=A.parent!==L?{parent:L,pool:L}:A):A=uf(),_={baseLanes:_.baseLanes|l,cachePool:A}),h.memoizedState=_,h.childLanes=ou(n,T,l),a.memoizedState=ru,u):(Gn(a),l=n.child,n=l.sibling,l=yn(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,n!==null&&(T=a.deletions,T===null?(a.deletions=[n],a.flags|=16):T.push(n)),a.child=l,a.memoizedState=null,l)}function uu(n,a){return a=zr({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function zr(n,a){return n=wt(22,n,null,a),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function cu(n,a,l){return ui(a,n.child,null,l),n=uu(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function Sm(n,a,l){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a),wo(n.return,a,l)}function du(n,a,l,u,h){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:h}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=l,y.tailMode=h)}function Nm(n,a,l){var u=a.pendingProps,h=u.revealOrder,y=u.tail;if(ut(n,a,u.children,l),u=it.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Sm(n,l,a);else if(n.tag===19)Sm(n,l,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(X(it,u),h){case"forwards":for(l=a.child,h=null;l!==null;)n=l.alternate,n!==null&&Or(n)===null&&(h=l),l=l.sibling;l=h,l===null?(h=a.child,a.child=null):(h=l.sibling,l.sibling=null),du(a,!1,h,l,y);break;case"backwards":for(l=null,h=a.child,a.child=null;h!==null;){if(n=h.alternate,n!==null&&Or(n)===null){a.child=h;break}n=h.sibling,h.sibling=l,l=h,h=n}du(a,!0,l,null,y);break;case"together":du(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Sn(n,a,l){if(n!==null&&(a.dependencies=n.dependencies),Zn|=a.lanes,(l&a.childLanes)===0)if(n!==null){if(ns(n,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(i(153));if(a.child!==null){for(n=a.child,l=yn(n,n.pendingProps),a.child=l,l.return=a;n.sibling!==null;)n=n.sibling,l=l.sibling=yn(n,n.pendingProps),l.return=a;l.sibling=null}return a.child}function fu(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&_r(n)))}function lv(n,a,l){switch(a.tag){case 3:Fe(a,a.stateNode.containerInfo),jn(a,at,n.memoizedState.cache),es();break;case 27:case 5:Bl(a);break;case 4:Fe(a,a.stateNode.containerInfo);break;case 10:jn(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Gn(a),a.flags|=128,null):(l&a.child.childLanes)!==0?_m(n,a,l):(Gn(a),n=Sn(n,a,l),n!==null?n.sibling:null);Gn(a);break;case 19:var h=(n.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(ns(n,a,l,!1),u=(l&a.childLanes)!==0),h){if(u)return Nm(n,a,l);a.flags|=128}if(h=a.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),X(it,it.current),u)break;return null;case 22:case 23:return a.lanes=0,xm(n,a,l);case 24:jn(a,at,n.memoizedState.cache)}return Sn(n,a,l)}function Em(n,a,l){if(n!==null)if(n.memoizedProps!==a.pendingProps)rt=!0;else{if(!fu(n,l)&&(a.flags&128)===0)return rt=!1,lv(n,a,l);rt=(n.flags&131072)!==0}else rt=!1,Ie&&(a.flags&1048576)!==0&&tf(a,Cr,a.index);switch(a.lanes=0,a.tag){case 16:e:{n=a.pendingProps;var u=a.elementType,h=u._init;if(u=h(u._payload),a.type=u,typeof u=="function")To(u)?(n=wa(u,n),a.tag=1,a=Tm(null,a,u,n,l)):(a.tag=0,a=su(null,a,u,n,l));else{if(u!=null){if(h=u.$$typeof,h===Z){a.tag=11,a=pm(null,a,u,n,l);break e}else if(h===z){a.tag=14,a=gm(null,a,u,n,l);break e}}throw a=K(u)||u,Error(i(306,a,""))}}return a;case 0:return su(n,a,a.type,a.pendingProps,l);case 1:return u=a.type,h=wa(u,a.pendingProps),Tm(n,a,u,h,l);case 3:e:{if(Fe(a,a.stateNode.containerInfo),n===null)throw Error(i(387));u=a.pendingProps;var y=a.memoizedState;h=y.element,Lo(n,a),us(a,u,null,l);var T=a.memoizedState;if(u=T.cache,jn(a,at,u),u!==y.cache&&Mo(a,[at],l,!0),os(),u=T.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=Cm(n,a,u,l);break e}else if(u!==h){h=Ot(Error(i(424)),a),ts(h),a=Cm(n,a,u,l);break e}else{switch(n=a.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ke=Xt(n.firstChild),pt=a,Ie=!0,Ca=null,an=!0,l=im(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(es(),u===h){a=Sn(n,a,l);break e}ut(n,a,u,l)}a=a.child}return a;case 26:return Gr(n,a),n===null?(l=Rh(a.type,null,a.pendingProps,null))?a.memoizedState=l:Ie||(l=a.type,n=a.pendingProps,u=al(xe.current).createElement(l),u[ft]=a,u[vt]=n,dt(u,l,n),st(u),a.stateNode=u):a.memoizedState=Rh(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return Bl(a),n===null&&Ie&&(u=a.stateNode=Ah(a.type,a.pendingProps,xe.current),pt=a,an=!0,h=Ke,Qn(a.type)?(Yu=h,Ke=Xt(u.firstChild)):Ke=h),ut(n,a,a.pendingProps.children,l),Gr(n,a),n===null&&(a.flags|=4194304),a.child;case 5:return n===null&&Ie&&((h=u=Ke)&&(u=Lv(u,a.type,a.pendingProps,an),u!==null?(a.stateNode=u,pt=a,Ke=Xt(u.firstChild),an=!1,h=!0):h=!1),h||_a(a)),Bl(a),h=a.type,y=a.pendingProps,T=n!==null?n.memoizedProps:null,u=y.children,Gu(h,y)?u=null:T!==null&&Gu(h,T)&&(a.flags|=32),a.memoizedState!==null&&(h=qo(n,a,Wx,null,null,l),Ds._currentValue=h),Gr(n,a),ut(n,a,u,l),a.child;case 6:return n===null&&Ie&&((n=l=Ke)&&(l=Pv(l,a.pendingProps,an),l!==null?(a.stateNode=l,pt=a,Ke=null,n=!0):n=!1),n||_a(a)),null;case 13:return _m(n,a,l);case 4:return Fe(a,a.stateNode.containerInfo),u=a.pendingProps,n===null?a.child=ui(a,null,u,l):ut(n,a,u,l),a.child;case 11:return pm(n,a,a.type,a.pendingProps,l);case 7:return ut(n,a,a.pendingProps,l),a.child;case 8:return ut(n,a,a.pendingProps.children,l),a.child;case 12:return ut(n,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,jn(a,a.type,u.value),ut(n,a,u.children,l),a.child;case 9:return h=a.type._context,u=a.pendingProps.children,Na(a),h=mt(h),u=u(h),a.flags|=1,ut(n,a,u,l),a.child;case 14:return gm(n,a,a.type,a.pendingProps,l);case 15:return ym(n,a,a.type,a.pendingProps,l);case 19:return Nm(n,a,l);case 31:return u=a.pendingProps,l=a.mode,u={mode:u.mode,children:u.children},n===null?(l=zr(u,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=yn(n.child,u),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return xm(n,a,l);case 24:return Na(a),u=mt(at),n===null?(h=Io(),h===null&&(h=Ge,y=Ro(),h.pooledCache=y,y.refCount++,y!==null&&(h.pooledCacheLanes|=l),h=y),a.memoizedState={parent:u,cache:h},Uo(a),jn(a,at,h)):((n.lanes&l)!==0&&(Lo(n,a),us(a,null,null,l),os()),h=n.memoizedState,y=a.memoizedState,h.parent!==u?(h={parent:u,cache:u},a.memoizedState=h,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=h),jn(a,at,u)):(u=y.cache,jn(a,at,u),u!==h.cache&&Mo(a,[at],l,!0))),ut(n,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Nn(n){n.flags|=4}function Am(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Lh(a)){if(a=zt.current,a!==null&&((Ae&4194048)===Ae?sn!==null:(Ae&62914560)!==Ae&&(Ae&536870912)===0||a!==sn))throw rs=ko,cf;n.flags|=8192}}function Hr(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?id():536870912,n.lanes|=a,mi|=a)}function gs(n,a){if(!Ie)switch(n.tailMode){case"hidden":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function $e(n){var a=n.alternate!==null&&n.alternate.child===n.child,l=0,u=0;if(a)for(var h=n.child;h!==null;)l|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)l|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=u,n.childLanes=l,a}function ov(n,a,l){var u=a.pendingProps;switch(No(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(a),null;case 1:return $e(a),null;case 3:return l=a.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Tn(at),kn(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(Wi(a)?Nn(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,sf())),$e(a),null;case 26:return l=a.memoizedState,n===null?(Nn(a),l!==null?($e(a),Am(a,l)):($e(a),a.flags&=-16777217)):l?l!==n.memoizedState?(Nn(a),$e(a),Am(a,l)):($e(a),a.flags&=-16777217):(n.memoizedProps!==u&&Nn(a),$e(a),a.flags&=-16777217),null;case 27:tr(a),l=xe.current;var h=a.type;if(n!==null&&a.stateNode!=null)n.memoizedProps!==u&&Nn(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return $e(a),null}n=ce.current,Wi(a)?nf(a):(n=Ah(h,u,l),a.stateNode=n,Nn(a))}return $e(a),null;case 5:if(tr(a),l=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==u&&Nn(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return $e(a),null}if(n=ce.current,Wi(a))nf(a);else{switch(h=al(xe.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?h.createElement(l,{is:u.is}):h.createElement(l)}}n[ft]=a,n[vt]=u;e:for(h=a.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break e;for(;h.sibling===null;){if(h.return===null||h.return===a)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}a.stateNode=n;e:switch(dt(n,l,u),l){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Nn(a)}}return $e(a),a.flags&=-16777217,null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==u&&Nn(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(n=xe.current,Wi(a)){if(n=a.stateNode,l=a.memoizedProps,u=null,h=pt,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}n[ft]=a,n=!!(n.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||bh(n.nodeValue,l)),n||_a(a)}else n=al(n).createTextNode(u),n[ft]=a,a.stateNode=n}return $e(a),null;case 13:if(u=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=Wi(a),u!==null&&u.dehydrated!==null){if(n===null){if(!h)throw Error(i(318));if(h=a.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[ft]=a}else es(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;$e(a),h=!1}else h=sf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return a.flags&256?(_n(a),a):(_n(a),null)}if(_n(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=u!==null,n=n!==null&&n.memoizedState!==null,l){u=a.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==h&&(u.flags|=2048)}return l!==n&&l&&(a.child.flags|=8192),Hr(a,a.updateQueue),$e(a),null;case 4:return kn(),n===null&&ju(a.stateNode.containerInfo),$e(a),null;case 10:return Tn(a.type),$e(a),null;case 19:if(ne(it),h=a.memoizedState,h===null)return $e(a),null;if(u=(a.flags&128)!==0,y=h.rendering,y===null)if(u)gs(h,!1);else{if(Je!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(y=Or(n),y!==null){for(a.flags|=128,gs(h,!1),n=y.updateQueue,a.updateQueue=n,Hr(a,n),a.subtreeFlags=0,n=l,l=a.child;l!==null;)ef(l,n),l=l.sibling;return X(it,it.current&1|2),a.child}n=n.sibling}h.tail!==null&&nn()>$r&&(a.flags|=128,u=!0,gs(h,!1),a.lanes=4194304)}else{if(!u)if(n=Or(y),n!==null){if(a.flags|=128,u=!0,n=n.updateQueue,a.updateQueue=n,Hr(a,n),gs(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!Ie)return $e(a),null}else 2*nn()-h.renderingStartTime>$r&&l!==536870912&&(a.flags|=128,u=!0,gs(h,!1),a.lanes=4194304);h.isBackwards?(y.sibling=a.child,a.child=y):(n=h.last,n!==null?n.sibling=y:a.child=y,h.last=y)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=nn(),a.sibling=null,n=it.current,X(it,u?n&1|2:n&1),a):($e(a),null);case 22:case 23:return _n(a),Oo(),u=a.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&($e(a),a.subtreeFlags&6&&(a.flags|=8192)):$e(a),l=a.updateQueue,l!==null&&Hr(a,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),n!==null&&ne(Ea),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Tn(at),$e(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function uv(n,a){switch(No(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return Tn(at),kn(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return tr(a),null;case 13:if(_n(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(i(340));es()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return ne(it),null;case 4:return kn(),null;case 10:return Tn(a.type),null;case 22:case 23:return _n(a),Oo(),n!==null&&ne(Ea),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return Tn(at),null;case 25:return null;default:return null}}function wm(n,a){switch(No(a),a.tag){case 3:Tn(at),kn();break;case 26:case 27:case 5:tr(a);break;case 4:kn();break;case 13:_n(a);break;case 19:ne(it);break;case 10:Tn(a.type);break;case 22:case 23:_n(a),Oo(),n!==null&&ne(Ea);break;case 24:Tn(at)}}function ys(n,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var h=u.next;l=h;do{if((l.tag&n)===n){u=void 0;var y=l.create,T=l.inst;u=y(),T.destroy=u}l=l.next}while(l!==h)}}catch(_){qe(a,a.return,_)}}function Hn(n,a,l){try{var u=a.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var y=h.next;u=y;do{if((u.tag&n)===n){var T=u.inst,_=T.destroy;if(_!==void 0){T.destroy=void 0,h=a;var A=l,L=_;try{L()}catch(q){qe(h,A,q)}}}u=u.next}while(u!==y)}}catch(q){qe(a,a.return,q)}}function Mm(n){var a=n.updateQueue;if(a!==null){var l=n.stateNode;try{gf(a,l)}catch(u){qe(n,n.return,u)}}}function Rm(n,a,l){l.props=wa(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(u){qe(n,a,u)}}function xs(n,a){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof l=="function"?n.refCleanup=l(u):l.current=u}}catch(h){qe(n,a,h)}}function rn(n,a){var l=n.ref,u=n.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(h){qe(n,a,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(h){qe(n,a,h)}else l.current=null}function Dm(n){var a=n.type,l=n.memoizedProps,u=n.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(h){qe(n,n.return,h)}}function mu(n,a,l){try{var u=n.stateNode;Rv(u,n.type,l,a),u[vt]=a}catch(h){qe(n,n.return,h)}}function Im(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Qn(n.type)||n.tag===4}function hu(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Im(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Qn(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function pu(n,a,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(n),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=nl));else if(u!==4&&(u===27&&Qn(n.type)&&(l=n.stateNode,a=null),n=n.child,n!==null))for(pu(n,a,l),n=n.sibling;n!==null;)pu(n,a,l),n=n.sibling}function Fr(n,a,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,a?l.insertBefore(n,a):l.appendChild(n);else if(u!==4&&(u===27&&Qn(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(Fr(n,a,l),n=n.sibling;n!==null;)Fr(n,a,l),n=n.sibling}function km(n){var a=n.stateNode,l=n.memoizedProps;try{for(var u=n.type,h=a.attributes;h.length;)a.removeAttributeNode(h[0]);dt(a,u,l),a[ft]=n,a[vt]=l}catch(y){qe(n,n.return,y)}}var En=!1,Qe=!1,gu=!1,Um=typeof WeakSet=="function"?WeakSet:Set,lt=null;function cv(n,a){if(n=n.containerInfo,Bu=ul,n=Hd(n),ho(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var h=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,_=-1,A=-1,L=0,q=0,H=n,P=null;t:for(;;){for(var V;H!==l||h!==0&&H.nodeType!==3||(_=T+h),H!==y||u!==0&&H.nodeType!==3||(A=T+u),H.nodeType===3&&(T+=H.nodeValue.length),(V=H.firstChild)!==null;)P=H,H=V;for(;;){if(H===n)break t;if(P===l&&++L===h&&(_=T),P===y&&++q===u&&(A=T),(V=H.nextSibling)!==null)break;H=P,P=H.parentNode}H=V}l=_===-1||A===-1?null:{start:_,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(qu={focusedElem:n,selectionRange:l},ul=!1,lt=a;lt!==null;)if(a=lt,n=a.child,(a.subtreeFlags&1024)!==0&&n!==null)n.return=a,lt=n;else for(;lt!==null;){switch(a=lt,y=a.alternate,n=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,l=a,h=y.memoizedProps,y=y.memoizedState,u=l.stateNode;try{var he=wa(l.type,h,l.elementType===l.type);n=u.getSnapshotBeforeUpdate(he,y),u.__reactInternalSnapshotBeforeUpdate=n}catch(de){qe(l,l.return,de)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,l=n.nodeType,l===9)Hu(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Hu(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=a.sibling,n!==null){n.return=a.return,lt=n;break}lt=a.return}}function Lm(n,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Fn(n,l),u&4&&ys(5,l);break;case 1:if(Fn(n,l),u&4)if(n=l.stateNode,a===null)try{n.componentDidMount()}catch(T){qe(l,l.return,T)}else{var h=wa(l.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(h,a,n.__reactInternalSnapshotBeforeUpdate)}catch(T){qe(l,l.return,T)}}u&64&&Mm(l),u&512&&xs(l,l.return);break;case 3:if(Fn(n,l),u&64&&(n=l.updateQueue,n!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{gf(n,a)}catch(T){qe(l,l.return,T)}}break;case 27:a===null&&u&4&&km(l);case 26:case 5:Fn(n,l),a===null&&u&4&&Dm(l),u&512&&xs(l,l.return);break;case 12:Fn(n,l);break;case 13:Fn(n,l),u&4&&Vm(n,l),u&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=vv.bind(null,l),jv(n,l))));break;case 22:if(u=l.memoizedState!==null||En,!u){a=a!==null&&a.memoizedState!==null||Qe,h=En;var y=Qe;En=u,(Qe=a)&&!y?Yn(n,l,(l.subtreeFlags&8772)!==0):Fn(n,l),En=h,Qe=y}break;case 30:break;default:Fn(n,l)}}function Pm(n){var a=n.alternate;a!==null&&(n.alternate=null,Pm(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&Zl(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ye=null,Ct=!1;function An(n,a,l){for(l=l.child;l!==null;)jm(n,a,l),l=l.sibling}function jm(n,a,l){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Oi,l)}catch{}switch(l.tag){case 26:Qe||rn(l,a),An(n,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Qe||rn(l,a);var u=Ye,h=Ct;Qn(l.type)&&(Ye=l.stateNode,Ct=!1),An(n,a,l),As(l.stateNode),Ye=u,Ct=h;break;case 5:Qe||rn(l,a);case 6:if(u=Ye,h=Ct,Ye=null,An(n,a,l),Ye=u,Ct=h,Ye!==null)if(Ct)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(l.stateNode)}catch(y){qe(l,a,y)}else try{Ye.removeChild(l.stateNode)}catch(y){qe(l,a,y)}break;case 18:Ye!==null&&(Ct?(n=Ye,Nh(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),Ls(n)):Nh(Ye,l.stateNode));break;case 4:u=Ye,h=Ct,Ye=l.stateNode.containerInfo,Ct=!0,An(n,a,l),Ye=u,Ct=h;break;case 0:case 11:case 14:case 15:Qe||Hn(2,l,a),Qe||Hn(4,l,a),An(n,a,l);break;case 1:Qe||(rn(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Rm(l,a,u)),An(n,a,l);break;case 21:An(n,a,l);break;case 22:Qe=(u=Qe)||l.memoizedState!==null,An(n,a,l),Qe=u;break;default:An(n,a,l)}}function Vm(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ls(n)}catch(l){qe(a,a.return,l)}}function dv(n){switch(n.tag){case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new Um),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new Um),a;default:throw Error(i(435,n.tag))}}function yu(n,a){var l=dv(n);a.forEach(function(u){var h=bv.bind(null,n,u);l.has(u)||(l.add(u),u.then(h,h))})}function Mt(n,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var h=l[u],y=n,T=a,_=T;e:for(;_!==null;){switch(_.tag){case 27:if(Qn(_.type)){Ye=_.stateNode,Ct=!1;break e}break;case 5:Ye=_.stateNode,Ct=!1;break e;case 3:case 4:Ye=_.stateNode.containerInfo,Ct=!0;break e}_=_.return}if(Ye===null)throw Error(i(160));jm(y,T,h),Ye=null,Ct=!1,y=h.alternate,y!==null&&(y.return=null),h.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Om(a,n),a=a.sibling}var Jt=null;function Om(n,a){var l=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Mt(a,n),Rt(n),u&4&&(Hn(3,n,n.return),ys(3,n),Hn(5,n,n.return));break;case 1:Mt(a,n),Rt(n),u&512&&(Qe||l===null||rn(l,l.return)),u&64&&En&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var h=Jt;if(Mt(a,n),Rt(n),u&512&&(Qe||l===null||rn(l,l.return)),u&4){var y=l!==null?l.memoizedState:null;if(u=n.memoizedState,l===null)if(u===null)if(n.stateNode===null){e:{u=n.type,l=n.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":y=h.getElementsByTagName("title")[0],(!y||y[Gi]||y[ft]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=h.createElement(u),h.head.insertBefore(y,h.querySelector("head > title"))),dt(y,u,l),y[ft]=n,st(y),u=y;break e;case"link":var T=kh("link","href",h).get(u+(l.href||""));if(T){for(var _=0;_<T.length;_++)if(y=T[_],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(_,1);break t}}y=h.createElement(u),dt(y,u,l),h.head.appendChild(y);break;case"meta":if(T=kh("meta","content",h).get(u+(l.content||""))){for(_=0;_<T.length;_++)if(y=T[_],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(_,1);break t}}y=h.createElement(u),dt(y,u,l),h.head.appendChild(y);break;default:throw Error(i(468,u))}y[ft]=n,st(y),u=y}n.stateNode=u}else Uh(h,n.type,n.stateNode);else n.stateNode=Ih(h,u,n.memoizedProps);else y!==u?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,u===null?Uh(h,n.type,n.stateNode):Ih(h,u,n.memoizedProps)):u===null&&n.stateNode!==null&&mu(n,n.memoizedProps,l.memoizedProps)}break;case 27:Mt(a,n),Rt(n),u&512&&(Qe||l===null||rn(l,l.return)),l!==null&&u&4&&mu(n,n.memoizedProps,l.memoizedProps);break;case 5:if(Mt(a,n),Rt(n),u&512&&(Qe||l===null||rn(l,l.return)),n.flags&32){h=n.stateNode;try{Fa(h,"")}catch(V){qe(n,n.return,V)}}u&4&&n.stateNode!=null&&(h=n.memoizedProps,mu(n,h,l!==null?l.memoizedProps:h)),u&1024&&(gu=!0);break;case 6:if(Mt(a,n),Rt(n),u&4){if(n.stateNode===null)throw Error(i(162));u=n.memoizedProps,l=n.stateNode;try{l.nodeValue=u}catch(V){qe(n,n.return,V)}}break;case 3:if(rl=null,h=Jt,Jt=il(a.containerInfo),Mt(a,n),Jt=h,Rt(n),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Ls(a.containerInfo)}catch(V){qe(n,n.return,V)}gu&&(gu=!1,Bm(n));break;case 4:u=Jt,Jt=il(n.stateNode.containerInfo),Mt(a,n),Rt(n),Jt=u;break;case 12:Mt(a,n),Rt(n);break;case 13:Mt(a,n),Rt(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(_u=nn()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,yu(n,u)));break;case 22:h=n.memoizedState!==null;var A=l!==null&&l.memoizedState!==null,L=En,q=Qe;if(En=L||h,Qe=q||A,Mt(a,n),Qe=q,En=L,Rt(n),u&8192)e:for(a=n.stateNode,a._visibility=h?a._visibility&-2:a._visibility|1,h&&(l===null||A||En||Qe||Ma(n)),l=null,a=n;;){if(a.tag===5||a.tag===26){if(l===null){A=l=a;try{if(y=A.stateNode,h)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{_=A.stateNode;var H=A.memoizedProps.style,P=H!=null&&H.hasOwnProperty("display")?H.display:null;_.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(V){qe(A,A.return,V)}}}else if(a.tag===6){if(l===null){A=a;try{A.stateNode.nodeValue=h?"":A.memoizedProps}catch(V){qe(A,A.return,V)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=n.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,yu(n,l))));break;case 19:Mt(a,n),Rt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,yu(n,u)));break;case 30:break;case 21:break;default:Mt(a,n),Rt(n)}}function Rt(n){var a=n.flags;if(a&2){try{for(var l,u=n.return;u!==null;){if(Im(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var h=l.stateNode,y=hu(n);Fr(n,y,h);break;case 5:var T=l.stateNode;l.flags&32&&(Fa(T,""),l.flags&=-33);var _=hu(n);Fr(n,_,T);break;case 3:case 4:var A=l.stateNode.containerInfo,L=hu(n);pu(n,L,A);break;default:throw Error(i(161))}}catch(q){qe(n,n.return,q)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function Bm(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;Bm(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function Fn(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Lm(n,a.alternate,a),a=a.sibling}function Ma(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:Hn(4,a,a.return),Ma(a);break;case 1:rn(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Rm(a,a.return,l),Ma(a);break;case 27:As(a.stateNode);case 26:case 5:rn(a,a.return),Ma(a);break;case 22:a.memoizedState===null&&Ma(a);break;case 30:Ma(a);break;default:Ma(a)}n=n.sibling}}function Yn(n,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,h=n,y=a,T=y.flags;switch(y.tag){case 0:case 11:case 15:Yn(h,y,l),ys(4,y);break;case 1:if(Yn(h,y,l),u=y,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){qe(u,u.return,L)}if(u=y,h=u.updateQueue,h!==null){var _=u.stateNode;try{var A=h.shared.hiddenCallbacks;if(A!==null)for(h.shared.hiddenCallbacks=null,h=0;h<A.length;h++)pf(A[h],_)}catch(L){qe(u,u.return,L)}}l&&T&64&&Mm(y),xs(y,y.return);break;case 27:km(y);case 26:case 5:Yn(h,y,l),l&&u===null&&T&4&&Dm(y),xs(y,y.return);break;case 12:Yn(h,y,l);break;case 13:Yn(h,y,l),l&&T&4&&Vm(h,y);break;case 22:y.memoizedState===null&&Yn(h,y,l),xs(y,y.return);break;case 30:break;default:Yn(h,y,l)}a=a.sibling}}function xu(n,a){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&as(l))}function vu(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&as(n))}function ln(n,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)qm(n,a,l,u),a=a.sibling}function qm(n,a,l,u){var h=a.flags;switch(a.tag){case 0:case 11:case 15:ln(n,a,l,u),h&2048&&ys(9,a);break;case 1:ln(n,a,l,u);break;case 3:ln(n,a,l,u),h&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&as(n)));break;case 12:if(h&2048){ln(n,a,l,u),n=a.stateNode;try{var y=a.memoizedProps,T=y.id,_=y.onPostCommit;typeof _=="function"&&_(T,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(A){qe(a,a.return,A)}}else ln(n,a,l,u);break;case 13:ln(n,a,l,u);break;case 23:break;case 22:y=a.stateNode,T=a.alternate,a.memoizedState!==null?y._visibility&2?ln(n,a,l,u):vs(n,a):y._visibility&2?ln(n,a,l,u):(y._visibility|=2,ci(n,a,l,u,(a.subtreeFlags&10256)!==0)),h&2048&&xu(T,a);break;case 24:ln(n,a,l,u),h&2048&&vu(a.alternate,a);break;default:ln(n,a,l,u)}}function ci(n,a,l,u,h){for(h=h&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=n,T=a,_=l,A=u,L=T.flags;switch(T.tag){case 0:case 11:case 15:ci(y,T,_,A,h),ys(8,T);break;case 23:break;case 22:var q=T.stateNode;T.memoizedState!==null?q._visibility&2?ci(y,T,_,A,h):vs(y,T):(q._visibility|=2,ci(y,T,_,A,h)),h&&L&2048&&xu(T.alternate,T);break;case 24:ci(y,T,_,A,h),h&&L&2048&&vu(T.alternate,T);break;default:ci(y,T,_,A,h)}a=a.sibling}}function vs(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=n,u=a,h=u.flags;switch(u.tag){case 22:vs(l,u),h&2048&&xu(u.alternate,u);break;case 24:vs(l,u),h&2048&&vu(u.alternate,u);break;default:vs(l,u)}a=a.sibling}}var bs=8192;function di(n){if(n.subtreeFlags&bs)for(n=n.child;n!==null;)Gm(n),n=n.sibling}function Gm(n){switch(n.tag){case 26:di(n),n.flags&bs&&n.memoizedState!==null&&Jv(Jt,n.memoizedState,n.memoizedProps);break;case 5:di(n);break;case 3:case 4:var a=Jt;Jt=il(n.stateNode.containerInfo),di(n),Jt=a;break;case 22:n.memoizedState===null&&(a=n.alternate,a!==null&&a.memoizedState!==null?(a=bs,bs=16777216,di(n),bs=a):di(n));break;default:di(n)}}function zm(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function Ts(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];lt=u,Fm(u,n)}zm(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Hm(n),n=n.sibling}function Hm(n){switch(n.tag){case 0:case 11:case 15:Ts(n),n.flags&2048&&Hn(9,n,n.return);break;case 3:Ts(n);break;case 12:Ts(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&2&&(n.return===null||n.return.tag!==13)?(a._visibility&=-3,Yr(n)):Ts(n);break;default:Ts(n)}}function Yr(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];lt=u,Fm(u,n)}zm(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:Hn(8,a,a.return),Yr(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Yr(a));break;default:Yr(a)}n=n.sibling}}function Fm(n,a){for(;lt!==null;){var l=lt;switch(l.tag){case 0:case 11:case 15:Hn(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:as(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,lt=u;else e:for(l=n;lt!==null;){u=lt;var h=u.sibling,y=u.return;if(Pm(u),u===l){lt=null;break e}if(h!==null){h.return=y,lt=h;break e}lt=y}}}var fv={getCacheForType:function(n){var a=mt(at),l=a.data.get(n);return l===void 0&&(l=n(),a.data.set(n,l)),l}},mv=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Ge=null,_e=null,Ae=0,Le=0,Dt=null,$n=!1,fi=!1,bu=!1,wn=0,Je=0,Zn=0,Ra=0,Tu=0,Ht=0,mi=0,Cs=null,_t=null,Cu=!1,_u=0,$r=1/0,Zr=null,Kn=null,ct=0,Jn=null,hi=null,pi=0,Su=0,Nu=null,Ym=null,_s=0,Eu=null;function It(){if((Ue&2)!==0&&Ae!==0)return Ae&-Ae;if(O.T!==null){var n=ni;return n!==0?n:ku()}return ld()}function $m(){Ht===0&&(Ht=(Ae&536870912)===0||Ie?ad():536870912);var n=zt.current;return n!==null&&(n.flags|=32),Ht}function kt(n,a,l){(n===Ge&&(Le===2||Le===9)||n.cancelPendingCommit!==null)&&(gi(n,0),Xn(n,Ae,Ht,!1)),qi(n,l),((Ue&2)===0||n!==Ge)&&(n===Ge&&((Ue&2)===0&&(Ra|=l),Je===4&&Xn(n,Ae,Ht,!1)),on(n))}function Zm(n,a,l){if((Ue&6)!==0)throw Error(i(327));var u=!l&&(a&124)===0&&(a&n.expiredLanes)===0||Bi(n,a),h=u?gv(n,a):Mu(n,a,!0),y=u;do{if(h===0){fi&&!u&&Xn(n,a,0,!1);break}else{if(l=n.current.alternate,y&&!hv(l)){h=Mu(n,a,!1),y=!1;continue}if(h===2){if(y=a,n.errorRecoveryDisabledLanes&y)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;e:{var _=n;h=Cs;var A=_.current.memoizedState.isDehydrated;if(A&&(gi(_,T).flags|=256),T=Mu(_,T,!1),T!==2){if(bu&&!A){_.errorRecoveryDisabledLanes|=y,Ra|=y,h=4;break e}y=_t,_t=h,y!==null&&(_t===null?_t=y:_t.push.apply(_t,y))}h=T}if(y=!1,h!==2)continue}}if(h===1){gi(n,0),Xn(n,a,0,!0);break}e:{switch(u=n,y=h,y){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Xn(u,a,Ht,!$n);break e;case 2:_t=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(h=_u+300-nn(),10<h)){if(Xn(u,a,Ht,!$n),sr(u,0,!0)!==0)break e;u.timeoutHandle=_h(Km.bind(null,u,l,_t,Zr,Cu,a,Ht,Ra,mi,$n,y,2,-0,0),h);break e}Km(u,l,_t,Zr,Cu,a,Ht,Ra,mi,$n,y,0,-0,0)}}break}while(!0);on(n)}function Km(n,a,l,u,h,y,T,_,A,L,q,H,P,V){if(n.timeoutHandle=-1,H=a.subtreeFlags,(H&8192||(H&16785408)===16785408)&&(Rs={stylesheets:null,count:0,unsuspend:Kv},Gm(a),H=Xv(),H!==null)){n.cancelPendingCommit=H(nh.bind(null,n,a,y,l,u,h,T,_,A,q,1,P,V)),Xn(n,y,T,!L);return}nh(n,a,y,l,u,h,T,_,A)}function hv(n){for(var a=n;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var h=l[u],y=h.getSnapshot;h=h.value;try{if(!At(y(),h))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Xn(n,a,l,u){a&=~Tu,a&=~Ra,n.suspendedLanes|=a,n.pingedLanes&=~a,u&&(n.warmLanes|=a),u=n.expirationTimes;for(var h=a;0<h;){var y=31-Et(h),T=1<<y;u[y]=-1,h&=~T}l!==0&&sd(n,l,a)}function Kr(){return(Ue&6)===0?(Ss(0),!1):!0}function Au(){if(_e!==null){if(Le===0)var n=_e.return;else n=_e,bn=Sa=null,Ho(n),oi=null,hs=0,n=_e;for(;n!==null;)wm(n.alternate,n),n=n.return;_e=null}}function gi(n,a){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,Iv(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),Au(),Ge=n,_e=l=yn(n.current,null),Ae=a,Le=0,Dt=null,$n=!1,fi=Bi(n,a),bu=!1,mi=Ht=Tu=Ra=Zn=Je=0,_t=Cs=null,Cu=!1,(a&8)!==0&&(a|=a&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=a;0<u;){var h=31-Et(u),y=1<<h;a|=n[h],u&=~y}return wn=a,yr(),l}function Jm(n,a){Te=null,O.H=Pr,a===ss||a===Er?(a=mf(),Le=3):a===cf?(a=mf(),Le=4):Le=a===hm?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Dt=a,_e===null&&(Je=1,qr(n,Ot(a,n.current)))}function Xm(){var n=O.H;return O.H=Pr,n===null?Pr:n}function Qm(){var n=O.A;return O.A=fv,n}function wu(){Je=4,$n||(Ae&4194048)!==Ae&&zt.current!==null||(fi=!0),(Zn&134217727)===0&&(Ra&134217727)===0||Ge===null||Xn(Ge,Ae,Ht,!1)}function Mu(n,a,l){var u=Ue;Ue|=2;var h=Xm(),y=Qm();(Ge!==n||Ae!==a)&&(Zr=null,gi(n,a)),a=!1;var T=Je;e:do try{if(Le!==0&&_e!==null){var _=_e,A=Dt;switch(Le){case 8:Au(),T=6;break e;case 3:case 2:case 9:case 6:zt.current===null&&(a=!0);var L=Le;if(Le=0,Dt=null,yi(n,_,A,L),l&&fi){T=0;break e}break;default:L=Le,Le=0,Dt=null,yi(n,_,A,L)}}pv(),T=Je;break}catch(q){Jm(n,q)}while(!0);return a&&n.shellSuspendCounter++,bn=Sa=null,Ue=u,O.H=h,O.A=y,_e===null&&(Ge=null,Ae=0,yr()),T}function pv(){for(;_e!==null;)Wm(_e)}function gv(n,a){var l=Ue;Ue|=2;var u=Xm(),h=Qm();Ge!==n||Ae!==a?(Zr=null,$r=nn()+500,gi(n,a)):fi=Bi(n,a);e:do try{if(Le!==0&&_e!==null){a=_e;var y=Dt;t:switch(Le){case 1:Le=0,Dt=null,yi(n,a,y,1);break;case 2:case 9:if(df(y)){Le=0,Dt=null,eh(a);break}a=function(){Le!==2&&Le!==9||Ge!==n||(Le=7),on(n)},y.then(a,a);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:df(y)?(Le=0,Dt=null,eh(a)):(Le=0,Dt=null,yi(n,a,y,7));break;case 5:var T=null;switch(_e.tag){case 26:T=_e.memoizedState;case 5:case 27:var _=_e;if(!T||Lh(T)){Le=0,Dt=null;var A=_.sibling;if(A!==null)_e=A;else{var L=_.return;L!==null?(_e=L,Jr(L)):_e=null}break t}}Le=0,Dt=null,yi(n,a,y,5);break;case 6:Le=0,Dt=null,yi(n,a,y,6);break;case 8:Au(),Je=6;break e;default:throw Error(i(462))}}yv();break}catch(q){Jm(n,q)}while(!0);return bn=Sa=null,O.H=u,O.A=h,Ue=l,_e!==null?0:(Ge=null,Ae=0,yr(),Je)}function yv(){for(;_e!==null&&!Oy();)Wm(_e)}function Wm(n){var a=Em(n.alternate,n,wn);n.memoizedProps=n.pendingProps,a===null?Jr(n):_e=a}function eh(n){var a=n,l=a.alternate;switch(a.tag){case 15:case 0:a=bm(l,a,a.pendingProps,a.type,void 0,Ae);break;case 11:a=bm(l,a,a.pendingProps,a.type.render,a.ref,Ae);break;case 5:Ho(a);default:wm(l,a),a=_e=ef(a,wn),a=Em(l,a,wn)}n.memoizedProps=n.pendingProps,a===null?Jr(n):_e=a}function yi(n,a,l,u){bn=Sa=null,Ho(a),oi=null,hs=0;var h=a.return;try{if(rv(n,h,a,l,Ae)){Je=1,qr(n,Ot(l,n.current)),_e=null;return}}catch(y){if(h!==null)throw _e=h,y;Je=1,qr(n,Ot(l,n.current)),_e=null;return}a.flags&32768?(Ie||u===1?n=!0:fi||(Ae&536870912)!==0?n=!1:($n=n=!0,(u===2||u===9||u===3||u===6)&&(u=zt.current,u!==null&&u.tag===13&&(u.flags|=16384))),th(a,n)):Jr(a)}function Jr(n){var a=n;do{if((a.flags&32768)!==0){th(a,$n);return}n=a.return;var l=ov(a.alternate,a,wn);if(l!==null){_e=l;return}if(a=a.sibling,a!==null){_e=a;return}_e=a=n}while(a!==null);Je===0&&(Je=5)}function th(n,a){do{var l=uv(n.alternate,n);if(l!==null){l.flags&=32767,_e=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(n=n.sibling,n!==null)){_e=n;return}_e=n=l}while(n!==null);Je=6,_e=null}function nh(n,a,l,u,h,y,T,_,A){n.cancelPendingCommit=null;do Xr();while(ct!==0);if((Ue&6)!==0)throw Error(i(327));if(a!==null){if(a===n.current)throw Error(i(177));if(y=a.lanes|a.childLanes,y|=vo,Ky(n,l,y,T,_,A),n===Ge&&(_e=Ge=null,Ae=0),hi=a,Jn=n,pi=l,Su=y,Nu=h,Ym=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Tv(nr,function(){return lh(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=O.T,O.T=null,h=Q.p,Q.p=2,T=Ue,Ue|=4;try{cv(n,a,l)}finally{Ue=T,Q.p=h,O.T=u}}ct=1,ah(),ih(),sh()}}function ah(){if(ct===1){ct=0;var n=Jn,a=hi,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=O.T,O.T=null;var u=Q.p;Q.p=2;var h=Ue;Ue|=4;try{Om(a,n);var y=qu,T=Hd(n.containerInfo),_=y.focusedElem,A=y.selectionRange;if(T!==_&&_&&_.ownerDocument&&zd(_.ownerDocument.documentElement,_)){if(A!==null&&ho(_)){var L=A.start,q=A.end;if(q===void 0&&(q=L),"selectionStart"in _)_.selectionStart=L,_.selectionEnd=Math.min(q,_.value.length);else{var H=_.ownerDocument||document,P=H&&H.defaultView||window;if(P.getSelection){var V=P.getSelection(),he=_.textContent.length,de=Math.min(A.start,he),Oe=A.end===void 0?de:Math.min(A.end,he);!V.extend&&de>Oe&&(T=Oe,Oe=de,de=T);var k=Gd(_,de),D=Gd(_,Oe);if(k&&D&&(V.rangeCount!==1||V.anchorNode!==k.node||V.anchorOffset!==k.offset||V.focusNode!==D.node||V.focusOffset!==D.offset)){var U=H.createRange();U.setStart(k.node,k.offset),V.removeAllRanges(),de>Oe?(V.addRange(U),V.extend(D.node,D.offset)):(U.setEnd(D.node,D.offset),V.addRange(U))}}}}for(H=[],V=_;V=V.parentNode;)V.nodeType===1&&H.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<H.length;_++){var G=H[_];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}ul=!!Bu,qu=Bu=null}finally{Ue=h,Q.p=u,O.T=l}}n.current=a,ct=2}}function ih(){if(ct===2){ct=0;var n=Jn,a=hi,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=O.T,O.T=null;var u=Q.p;Q.p=2;var h=Ue;Ue|=4;try{Lm(n,a.alternate,a)}finally{Ue=h,Q.p=u,O.T=l}}ct=3}}function sh(){if(ct===4||ct===3){ct=0,By();var n=Jn,a=hi,l=pi,u=Ym;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?ct=5:(ct=0,hi=Jn=null,rh(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(Kn=null),Yl(l),a=a.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Oi,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=O.T,h=Q.p,Q.p=2,O.T=null;try{for(var y=n.onRecoverableError,T=0;T<u.length;T++){var _=u[T];y(_.value,{componentStack:_.stack})}}finally{O.T=a,Q.p=h}}(pi&3)!==0&&Xr(),on(n),h=n.pendingLanes,(l&4194090)!==0&&(h&42)!==0?n===Eu?_s++:(_s=0,Eu=n):_s=0,Ss(0)}}function rh(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,as(a)))}function Xr(n){return ah(),ih(),sh(),lh()}function lh(){if(ct!==5)return!1;var n=Jn,a=Su;Su=0;var l=Yl(pi),u=O.T,h=Q.p;try{Q.p=32>l?32:l,O.T=null,l=Nu,Nu=null;var y=Jn,T=pi;if(ct=0,hi=Jn=null,pi=0,(Ue&6)!==0)throw Error(i(331));var _=Ue;if(Ue|=4,Hm(y.current),qm(y,y.current,T,l),Ue=_,Ss(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Oi,y)}catch{}return!0}finally{Q.p=h,O.T=u,rh(n,a)}}function oh(n,a,l){a=Ot(l,a),a=iu(n.stateNode,a,2),n=Bn(n,a,2),n!==null&&(qi(n,2),on(n))}function qe(n,a,l){if(n.tag===3)oh(n,n,l);else for(;a!==null;){if(a.tag===3){oh(a,n,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Kn===null||!Kn.has(u))){n=Ot(l,n),l=fm(2),u=Bn(a,l,2),u!==null&&(mm(l,u,a,n),qi(u,2),on(u));break}}a=a.return}}function Ru(n,a,l){var u=n.pingCache;if(u===null){u=n.pingCache=new mv;var h=new Set;u.set(a,h)}else h=u.get(a),h===void 0&&(h=new Set,u.set(a,h));h.has(l)||(bu=!0,h.add(l),n=xv.bind(null,n,a,l),a.then(n,n))}function xv(n,a,l){var u=n.pingCache;u!==null&&u.delete(a),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,Ge===n&&(Ae&l)===l&&(Je===4||Je===3&&(Ae&62914560)===Ae&&300>nn()-_u?(Ue&2)===0&&gi(n,0):Tu|=l,mi===Ae&&(mi=0)),on(n)}function uh(n,a){a===0&&(a=id()),n=Qa(n,a),n!==null&&(qi(n,a),on(n))}function vv(n){var a=n.memoizedState,l=0;a!==null&&(l=a.retryLane),uh(n,l)}function bv(n,a){var l=0;switch(n.tag){case 13:var u=n.stateNode,h=n.memoizedState;h!==null&&(l=h.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),uh(n,l)}function Tv(n,a){return Gl(n,a)}var Qr=null,xi=null,Du=!1,Wr=!1,Iu=!1,Da=0;function on(n){n!==xi&&n.next===null&&(xi===null?Qr=xi=n:xi=xi.next=n),Wr=!0,Du||(Du=!0,_v())}function Ss(n,a){if(!Iu&&Wr){Iu=!0;do for(var l=!1,u=Qr;u!==null;){if(n!==0){var h=u.pendingLanes;if(h===0)var y=0;else{var T=u.suspendedLanes,_=u.pingedLanes;y=(1<<31-Et(42|n)+1)-1,y&=h&~(T&~_),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,mh(u,y))}else y=Ae,y=sr(u,u===Ge?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||Bi(u,y)||(l=!0,mh(u,y));u=u.next}while(l);Iu=!1}}function Cv(){ch()}function ch(){Wr=Du=!1;var n=0;Da!==0&&(Dv()&&(n=Da),Da=0);for(var a=nn(),l=null,u=Qr;u!==null;){var h=u.next,y=dh(u,a);y===0?(u.next=null,l===null?Qr=h:l.next=h,h===null&&(xi=l)):(l=u,(n!==0||(y&3)!==0)&&(Wr=!0)),u=h}Ss(n)}function dh(n,a){for(var l=n.suspendedLanes,u=n.pingedLanes,h=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var T=31-Et(y),_=1<<T,A=h[T];A===-1?((_&l)===0||(_&u)!==0)&&(h[T]=Zy(_,a)):A<=a&&(n.expiredLanes|=_),y&=~_}if(a=Ge,l=Ae,l=sr(n,n===a?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,l===0||n===a&&(Le===2||Le===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&zl(u),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||Bi(n,l)){if(a=l&-l,a===n.callbackPriority)return a;switch(u!==null&&zl(u),Yl(l)){case 2:case 8:l=td;break;case 32:l=nr;break;case 268435456:l=nd;break;default:l=nr}return u=fh.bind(null,n),l=Gl(l,u),n.callbackPriority=a,n.callbackNode=l,a}return u!==null&&u!==null&&zl(u),n.callbackPriority=2,n.callbackNode=null,2}function fh(n,a){if(ct!==0&&ct!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(Xr()&&n.callbackNode!==l)return null;var u=Ae;return u=sr(n,n===Ge?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Zm(n,u,a),dh(n,nn()),n.callbackNode!=null&&n.callbackNode===l?fh.bind(null,n):null)}function mh(n,a){if(Xr())return null;Zm(n,a,!0)}function _v(){kv(function(){(Ue&6)!==0?Gl(ed,Cv):ch()})}function ku(){return Da===0&&(Da=ad()),Da}function hh(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:cr(""+n)}function ph(n,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,n.id&&l.setAttribute("form",n.id),a.parentNode.insertBefore(l,a),n=new FormData(n),l.parentNode.removeChild(l),n}function Sv(n,a,l,u,h){if(a==="submit"&&l&&l.stateNode===h){var y=hh((h[vt]||null).action),T=u.submitter;T&&(a=(a=T[vt]||null)?hh(a.formAction):T.getAttribute("formAction"),a!==null&&(y=a,T=null));var _=new hr("action","action",null,u,h);n.push({event:_,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Da!==0){var A=T?ph(h,T):new FormData(h);Wo(l,{pending:!0,data:A,method:h.method,action:y},null,A)}}else typeof y=="function"&&(_.preventDefault(),A=T?ph(h,T):new FormData(h),Wo(l,{pending:!0,data:A,method:h.method,action:y},y,A))},currentTarget:h}]})}}for(var Uu=0;Uu<xo.length;Uu++){var Lu=xo[Uu],Nv=Lu.toLowerCase(),Ev=Lu[0].toUpperCase()+Lu.slice(1);Kt(Nv,"on"+Ev)}Kt($d,"onAnimationEnd"),Kt(Zd,"onAnimationIteration"),Kt(Kd,"onAnimationStart"),Kt("dblclick","onDoubleClick"),Kt("focusin","onFocus"),Kt("focusout","onBlur"),Kt(zx,"onTransitionRun"),Kt(Hx,"onTransitionStart"),Kt(Fx,"onTransitionCancel"),Kt(Jd,"onTransitionEnd"),Ga("onMouseEnter",["mouseout","mouseover"]),Ga("onMouseLeave",["mouseout","mouseover"]),Ga("onPointerEnter",["pointerout","pointerover"]),Ga("onPointerLeave",["pointerout","pointerover"]),pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pa("onBeforeInput",["compositionend","keypress","textInput","paste"]),pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Av=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ns));function gh(n,a){a=(a&4)!==0;for(var l=0;l<n.length;l++){var u=n[l],h=u.event;u=u.listeners;e:{var y=void 0;if(a)for(var T=u.length-1;0<=T;T--){var _=u[T],A=_.instance,L=_.currentTarget;if(_=_.listener,A!==y&&h.isPropagationStopped())break e;y=_,h.currentTarget=L;try{y(h)}catch(q){Br(q)}h.currentTarget=null,y=A}else for(T=0;T<u.length;T++){if(_=u[T],A=_.instance,L=_.currentTarget,_=_.listener,A!==y&&h.isPropagationStopped())break e;y=_,h.currentTarget=L;try{y(h)}catch(q){Br(q)}h.currentTarget=null,y=A}}}}function Se(n,a){var l=a[$l];l===void 0&&(l=a[$l]=new Set);var u=n+"__bubble";l.has(u)||(yh(a,n,2,!1),l.add(u))}function Pu(n,a,l){var u=0;a&&(u|=4),yh(l,n,u,a)}var el="_reactListening"+Math.random().toString(36).slice(2);function ju(n){if(!n[el]){n[el]=!0,ud.forEach(function(l){l!=="selectionchange"&&(Av.has(l)||Pu(l,!1,n),Pu(l,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[el]||(a[el]=!0,Pu("selectionchange",!1,a))}}function yh(n,a,l,u){switch(qh(a)){case 2:var h=e0;break;case 8:h=t0;break;default:h=Xu}l=h.bind(null,a,l,n),h=void 0,!io||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(h=!0),u?h!==void 0?n.addEventListener(a,l,{capture:!0,passive:h}):n.addEventListener(a,l,!0):h!==void 0?n.addEventListener(a,l,{passive:h}):n.addEventListener(a,l,!1)}function Vu(n,a,l,u,h){var y=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var _=u.stateNode.containerInfo;if(_===h)break;if(T===4)for(T=u.return;T!==null;){var A=T.tag;if((A===3||A===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;_!==null;){if(T=Oa(_),T===null)return;if(A=T.tag,A===5||A===6||A===26||A===27){u=y=T;continue e}_=_.parentNode}}u=u.return}_d(function(){var L=y,q=no(l),H=[];e:{var P=Xd.get(n);if(P!==void 0){var V=hr,he=n;switch(n){case"keypress":if(fr(l)===0)break e;case"keydown":case"keyup":V=Tx;break;case"focusin":he="focus",V=oo;break;case"focusout":he="blur",V=oo;break;case"beforeblur":case"afterblur":V=oo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Ed;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=ux;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=Sx;break;case $d:case Zd:case Kd:V=fx;break;case Jd:V=Ex;break;case"scroll":case"scrollend":V=lx;break;case"wheel":V=wx;break;case"copy":case"cut":case"paste":V=hx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=wd;break;case"toggle":case"beforetoggle":V=Rx}var de=(a&4)!==0,Oe=!de&&(n==="scroll"||n==="scrollend"),k=de?P!==null?P+"Capture":null:P;de=[];for(var D=L,U;D!==null;){var G=D;if(U=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||U===null||k===null||(G=Hi(D,k),G!=null&&de.push(Es(D,G,U))),Oe)break;D=D.return}0<de.length&&(P=new V(P,he,null,l,q),H.push({event:P,listeners:de}))}}if((a&7)===0){e:{if(P=n==="mouseover"||n==="pointerover",V=n==="mouseout"||n==="pointerout",P&&l!==to&&(he=l.relatedTarget||l.fromElement)&&(Oa(he)||he[Va]))break e;if((V||P)&&(P=q.window===q?q:(P=q.ownerDocument)?P.defaultView||P.parentWindow:window,V?(he=l.relatedTarget||l.toElement,V=L,he=he?Oa(he):null,he!==null&&(Oe=o(he),de=he.tag,he!==Oe||de!==5&&de!==27&&de!==6)&&(he=null)):(V=null,he=L),V!==he)){if(de=Ed,G="onMouseLeave",k="onMouseEnter",D="mouse",(n==="pointerout"||n==="pointerover")&&(de=wd,G="onPointerLeave",k="onPointerEnter",D="pointer"),Oe=V==null?P:zi(V),U=he==null?P:zi(he),P=new de(G,D+"leave",V,l,q),P.target=Oe,P.relatedTarget=U,G=null,Oa(q)===L&&(de=new de(k,D+"enter",he,l,q),de.target=U,de.relatedTarget=Oe,G=de),Oe=G,V&&he)t:{for(de=V,k=he,D=0,U=de;U;U=vi(U))D++;for(U=0,G=k;G;G=vi(G))U++;for(;0<D-U;)de=vi(de),D--;for(;0<U-D;)k=vi(k),U--;for(;D--;){if(de===k||k!==null&&de===k.alternate)break t;de=vi(de),k=vi(k)}de=null}else de=null;V!==null&&xh(H,P,V,de,!1),he!==null&&Oe!==null&&xh(H,Oe,he,de,!0)}}e:{if(P=L?zi(L):window,V=P.nodeName&&P.nodeName.toLowerCase(),V==="select"||V==="input"&&P.type==="file")var ie=Pd;else if(Ud(P))if(jd)ie=Bx;else{ie=Vx;var Ce=jx}else V=P.nodeName,!V||V.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?L&&eo(L.elementType)&&(ie=Pd):ie=Ox;if(ie&&(ie=ie(n,L))){Ld(H,ie,l,q);break e}Ce&&Ce(n,P,L),n==="focusout"&&L&&P.type==="number"&&L.memoizedProps.value!=null&&Wl(P,"number",P.value)}switch(Ce=L?zi(L):window,n){case"focusin":(Ud(Ce)||Ce.contentEditable==="true")&&(Ka=Ce,po=L,Qi=null);break;case"focusout":Qi=po=Ka=null;break;case"mousedown":go=!0;break;case"contextmenu":case"mouseup":case"dragend":go=!1,Fd(H,l,q);break;case"selectionchange":if(Gx)break;case"keydown":case"keyup":Fd(H,l,q)}var le;if(co)e:{switch(n){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else Za?Id(n,l)&&(fe="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(fe="onCompositionStart");fe&&(Md&&l.locale!=="ko"&&(Za||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&Za&&(le=Sd()):(Pn=q,so="value"in Pn?Pn.value:Pn.textContent,Za=!0)),Ce=tl(L,fe),0<Ce.length&&(fe=new Ad(fe,n,null,l,q),H.push({event:fe,listeners:Ce}),le?fe.data=le:(le=kd(l),le!==null&&(fe.data=le)))),(le=Ix?kx(n,l):Ux(n,l))&&(fe=tl(L,"onBeforeInput"),0<fe.length&&(Ce=new Ad("onBeforeInput","beforeinput",null,l,q),H.push({event:Ce,listeners:fe}),Ce.data=le)),Sv(H,n,L,l,q)}gh(H,a)})}function Es(n,a,l){return{instance:n,listener:a,currentTarget:l}}function tl(n,a){for(var l=a+"Capture",u=[];n!==null;){var h=n,y=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||y===null||(h=Hi(n,l),h!=null&&u.unshift(Es(n,h,y)),h=Hi(n,a),h!=null&&u.push(Es(n,h,y))),n.tag===3)return u;n=n.return}return[]}function vi(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function xh(n,a,l,u,h){for(var y=a._reactName,T=[];l!==null&&l!==u;){var _=l,A=_.alternate,L=_.stateNode;if(_=_.tag,A!==null&&A===u)break;_!==5&&_!==26&&_!==27||L===null||(A=L,h?(L=Hi(l,y),L!=null&&T.unshift(Es(l,L,A))):h||(L=Hi(l,y),L!=null&&T.push(Es(l,L,A)))),l=l.return}T.length!==0&&n.push({event:a,listeners:T})}var wv=/\r\n?/g,Mv=/\u0000|\uFFFD/g;function vh(n){return(typeof n=="string"?n:""+n).replace(wv,`
`).replace(Mv,"")}function bh(n,a){return a=vh(a),vh(n)===a}function nl(){}function Ve(n,a,l,u,h,y){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Fa(n,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Fa(n,""+u);break;case"className":lr(n,"class",u);break;case"tabIndex":lr(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(n,l,u);break;case"style":Td(n,u,y);break;case"data":if(a!=="object"){lr(n,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){n.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=cr(""+u),n.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&Ve(n,a,"name",h.name,h,null),Ve(n,a,"formEncType",h.formEncType,h,null),Ve(n,a,"formMethod",h.formMethod,h,null),Ve(n,a,"formTarget",h.formTarget,h,null)):(Ve(n,a,"encType",h.encType,h,null),Ve(n,a,"method",h.method,h,null),Ve(n,a,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=cr(""+u),n.setAttribute(l,u);break;case"onClick":u!=null&&(n.onclick=nl);break;case"onScroll":u!=null&&Se("scroll",n);break;case"onScrollEnd":u!=null&&Se("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(h.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}l=cr(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""+u):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":u===!0?n.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,u):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(l,u):n.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(l):n.setAttribute(l,u);break;case"popover":Se("beforetoggle",n),Se("toggle",n),rr(n,"popover",u);break;case"xlinkActuate":pn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":pn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":pn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":pn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":pn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":pn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":pn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":pn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":pn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":rr(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=sx.get(l)||l,rr(n,l,u))}}function Ou(n,a,l,u,h,y){switch(l){case"style":Td(n,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(h.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"children":typeof u=="string"?Fa(n,u):(typeof u=="number"||typeof u=="bigint")&&Fa(n,""+u);break;case"onScroll":u!=null&&Se("scroll",n);break;case"onScrollEnd":u!=null&&Se("scrollend",n);break;case"onClick":u!=null&&(n.onclick=nl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cd.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(h=l.endsWith("Capture"),a=l.slice(2,h?l.length-7:void 0),y=n[vt]||null,y=y!=null?y[l]:null,typeof y=="function"&&n.removeEventListener(a,y,h),typeof u=="function")){typeof y!="function"&&y!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(a,u,h);break e}l in n?n[l]=u:u===!0?n.setAttribute(l,""):rr(n,l,u)}}}function dt(n,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",n),Se("load",n);var u=!1,h=!1,y;for(y in l)if(l.hasOwnProperty(y)){var T=l[y];if(T!=null)switch(y){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ve(n,a,y,T,l,null)}}h&&Ve(n,a,"srcSet",l.srcSet,l,null),u&&Ve(n,a,"src",l.src,l,null);return;case"input":Se("invalid",n);var _=y=T=h=null,A=null,L=null;for(u in l)if(l.hasOwnProperty(u)){var q=l[u];if(q!=null)switch(u){case"name":h=q;break;case"type":T=q;break;case"checked":A=q;break;case"defaultChecked":L=q;break;case"value":y=q;break;case"defaultValue":_=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,a));break;default:Ve(n,a,u,q,l,null)}}yd(n,y,_,A,L,T,h,!1),or(n);return;case"select":Se("invalid",n),u=T=y=null;for(h in l)if(l.hasOwnProperty(h)&&(_=l[h],_!=null))switch(h){case"value":y=_;break;case"defaultValue":T=_;break;case"multiple":u=_;default:Ve(n,a,h,_,l,null)}a=y,l=T,n.multiple=!!u,a!=null?Ha(n,!!u,a,!1):l!=null&&Ha(n,!!u,l,!0);return;case"textarea":Se("invalid",n),y=h=u=null;for(T in l)if(l.hasOwnProperty(T)&&(_=l[T],_!=null))switch(T){case"value":u=_;break;case"defaultValue":h=_;break;case"children":y=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:Ve(n,a,T,_,l,null)}vd(n,u,h,y),or(n);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(u=l[A],u!=null))switch(A){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ve(n,a,A,u,l,null)}return;case"dialog":Se("beforetoggle",n),Se("toggle",n),Se("cancel",n),Se("close",n);break;case"iframe":case"object":Se("load",n);break;case"video":case"audio":for(u=0;u<Ns.length;u++)Se(Ns[u],n);break;case"image":Se("error",n),Se("load",n);break;case"details":Se("toggle",n);break;case"embed":case"source":case"link":Se("error",n),Se("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in l)if(l.hasOwnProperty(L)&&(u=l[L],u!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ve(n,a,L,u,l,null)}return;default:if(eo(a)){for(q in l)l.hasOwnProperty(q)&&(u=l[q],u!==void 0&&Ou(n,a,q,u,l,void 0));return}}for(_ in l)l.hasOwnProperty(_)&&(u=l[_],u!=null&&Ve(n,a,_,u,l,null))}function Rv(n,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,y=null,T=null,_=null,A=null,L=null,q=null;for(V in l){var H=l[V];if(l.hasOwnProperty(V)&&H!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":A=H;default:u.hasOwnProperty(V)||Ve(n,a,V,null,u,H)}}for(var P in u){var V=u[P];if(H=l[P],u.hasOwnProperty(P)&&(V!=null||H!=null))switch(P){case"type":y=V;break;case"name":h=V;break;case"checked":L=V;break;case"defaultChecked":q=V;break;case"value":T=V;break;case"defaultValue":_=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(137,a));break;default:V!==H&&Ve(n,a,P,V,u,H)}}Ql(n,T,_,A,L,q,y,h);return;case"select":V=T=_=P=null;for(y in l)if(A=l[y],l.hasOwnProperty(y)&&A!=null)switch(y){case"value":break;case"multiple":V=A;default:u.hasOwnProperty(y)||Ve(n,a,y,null,u,A)}for(h in u)if(y=u[h],A=l[h],u.hasOwnProperty(h)&&(y!=null||A!=null))switch(h){case"value":P=y;break;case"defaultValue":_=y;break;case"multiple":T=y;default:y!==A&&Ve(n,a,h,y,u,A)}a=_,l=T,u=V,P!=null?Ha(n,!!l,P,!1):!!u!=!!l&&(a!=null?Ha(n,!!l,a,!0):Ha(n,!!l,l?[]:"",!1));return;case"textarea":V=P=null;for(_ in l)if(h=l[_],l.hasOwnProperty(_)&&h!=null&&!u.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ve(n,a,_,null,u,h)}for(T in u)if(h=u[T],y=l[T],u.hasOwnProperty(T)&&(h!=null||y!=null))switch(T){case"value":P=h;break;case"defaultValue":V=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==y&&Ve(n,a,T,h,u,y)}xd(n,P,V);return;case"option":for(var he in l)if(P=l[he],l.hasOwnProperty(he)&&P!=null&&!u.hasOwnProperty(he))switch(he){case"selected":n.selected=!1;break;default:Ve(n,a,he,null,u,P)}for(A in u)if(P=u[A],V=l[A],u.hasOwnProperty(A)&&P!==V&&(P!=null||V!=null))switch(A){case"selected":n.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Ve(n,a,A,P,u,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in l)P=l[de],l.hasOwnProperty(de)&&P!=null&&!u.hasOwnProperty(de)&&Ve(n,a,de,null,u,P);for(L in u)if(P=u[L],V=l[L],u.hasOwnProperty(L)&&P!==V&&(P!=null||V!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(i(137,a));break;default:Ve(n,a,L,P,u,V)}return;default:if(eo(a)){for(var Oe in l)P=l[Oe],l.hasOwnProperty(Oe)&&P!==void 0&&!u.hasOwnProperty(Oe)&&Ou(n,a,Oe,void 0,u,P);for(q in u)P=u[q],V=l[q],!u.hasOwnProperty(q)||P===V||P===void 0&&V===void 0||Ou(n,a,q,P,u,V);return}}for(var k in l)P=l[k],l.hasOwnProperty(k)&&P!=null&&!u.hasOwnProperty(k)&&Ve(n,a,k,null,u,P);for(H in u)P=u[H],V=l[H],!u.hasOwnProperty(H)||P===V||P==null&&V==null||Ve(n,a,H,P,u,V)}var Bu=null,qu=null;function al(n){return n.nodeType===9?n:n.ownerDocument}function Th(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ch(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function Gu(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var zu=null;function Dv(){var n=window.event;return n&&n.type==="popstate"?n===zu?!1:(zu=n,!0):(zu=null,!1)}var _h=typeof setTimeout=="function"?setTimeout:void 0,Iv=typeof clearTimeout=="function"?clearTimeout:void 0,Sh=typeof Promise=="function"?Promise:void 0,kv=typeof queueMicrotask=="function"?queueMicrotask:typeof Sh<"u"?function(n){return Sh.resolve(null).then(n).catch(Uv)}:_h;function Uv(n){setTimeout(function(){throw n})}function Qn(n){return n==="head"}function Nh(n,a){var l=a,u=0,h=0;do{var y=l.nextSibling;if(n.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<u&&8>u){l=u;var T=n.ownerDocument;if(l&1&&As(T.documentElement),l&2&&As(T.body),l&4)for(l=T.head,As(l),T=l.firstChild;T;){var _=T.nextSibling,A=T.nodeName;T[Gi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=_}}if(h===0){n.removeChild(y),Ls(a);return}h--}else l==="$"||l==="$?"||l==="$!"?h++:u=l.charCodeAt(0)-48;else u=0;l=y}while(l);Ls(a)}function Hu(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Hu(l),Zl(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function Lv(n,a,l,u){for(;n.nodeType===1;){var h=l;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Gi])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var y=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=Xt(n.nextSibling),n===null)break}return null}function Pv(n,a,l){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=Xt(n.nextSibling),n===null))return null;return n}function Fu(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function jv(n,a){var l=n.ownerDocument;if(n.data!=="$?"||l.readyState==="complete")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Xt(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return n}var Yu=null;function Eh(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return n;a--}else l==="/$"&&a++}n=n.previousSibling}return null}function Ah(n,a,l){switch(a=al(l),n){case"html":if(n=a.documentElement,!n)throw Error(i(452));return n;case"head":if(n=a.head,!n)throw Error(i(453));return n;case"body":if(n=a.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function As(n){for(var a=n.attributes;a.length;)n.removeAttributeNode(a[0]);Zl(n)}var Ft=new Map,wh=new Set;function il(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Mn=Q.d;Q.d={f:Vv,r:Ov,D:Bv,C:qv,L:Gv,m:zv,X:Fv,S:Hv,M:Yv};function Vv(){var n=Mn.f(),a=Kr();return n||a}function Ov(n){var a=Ba(n);a!==null&&a.tag===5&&a.type==="form"?Zf(a):Mn.r(n)}var bi=typeof document>"u"?null:document;function Mh(n,a,l){var u=bi;if(u&&typeof a=="string"&&a){var h=Vt(a);h='link[rel="'+n+'"][href="'+h+'"]',typeof l=="string"&&(h+='[crossorigin="'+l+'"]'),wh.has(h)||(wh.add(h),n={rel:n,crossOrigin:l,href:a},u.querySelector(h)===null&&(a=u.createElement("link"),dt(a,"link",n),st(a),u.head.appendChild(a)))}}function Bv(n){Mn.D(n),Mh("dns-prefetch",n,null)}function qv(n,a){Mn.C(n,a),Mh("preconnect",n,a)}function Gv(n,a,l){Mn.L(n,a,l);var u=bi;if(u&&n&&a){var h='link[rel="preload"][as="'+Vt(a)+'"]';a==="image"&&l&&l.imageSrcSet?(h+='[imagesrcset="'+Vt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(h+='[imagesizes="'+Vt(l.imageSizes)+'"]')):h+='[href="'+Vt(n)+'"]';var y=h;switch(a){case"style":y=Ti(n);break;case"script":y=Ci(n)}Ft.has(y)||(n=v({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:n,as:a},l),Ft.set(y,n),u.querySelector(h)!==null||a==="style"&&u.querySelector(ws(y))||a==="script"&&u.querySelector(Ms(y))||(a=u.createElement("link"),dt(a,"link",n),st(a),u.head.appendChild(a)))}}function zv(n,a){Mn.m(n,a);var l=bi;if(l&&n){var u=a&&typeof a.as=="string"?a.as:"script",h='link[rel="modulepreload"][as="'+Vt(u)+'"][href="'+Vt(n)+'"]',y=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ci(n)}if(!Ft.has(y)&&(n=v({rel:"modulepreload",href:n},a),Ft.set(y,n),l.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ms(y)))return}u=l.createElement("link"),dt(u,"link",n),st(u),l.head.appendChild(u)}}}function Hv(n,a,l){Mn.S(n,a,l);var u=bi;if(u&&n){var h=qa(u).hoistableStyles,y=Ti(n);a=a||"default";var T=h.get(y);if(!T){var _={loading:0,preload:null};if(T=u.querySelector(ws(y)))_.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":a},l),(l=Ft.get(y))&&$u(n,l);var A=T=u.createElement("link");st(A),dt(A,"link",n),A._p=new Promise(function(L,q){A.onload=L,A.onerror=q}),A.addEventListener("load",function(){_.loading|=1}),A.addEventListener("error",function(){_.loading|=2}),_.loading|=4,sl(T,a,u)}T={type:"stylesheet",instance:T,count:1,state:_},h.set(y,T)}}}function Fv(n,a){Mn.X(n,a);var l=bi;if(l&&n){var u=qa(l).hoistableScripts,h=Ci(n),y=u.get(h);y||(y=l.querySelector(Ms(h)),y||(n=v({src:n,async:!0},a),(a=Ft.get(h))&&Zu(n,a),y=l.createElement("script"),st(y),dt(y,"link",n),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(h,y))}}function Yv(n,a){Mn.M(n,a);var l=bi;if(l&&n){var u=qa(l).hoistableScripts,h=Ci(n),y=u.get(h);y||(y=l.querySelector(Ms(h)),y||(n=v({src:n,async:!0,type:"module"},a),(a=Ft.get(h))&&Zu(n,a),y=l.createElement("script"),st(y),dt(y,"link",n),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(h,y))}}function Rh(n,a,l,u){var h=(h=xe.current)?il(h):null;if(!h)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Ti(l.href),l=qa(h).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=Ti(l.href);var y=qa(h).hoistableStyles,T=y.get(n);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,T),(y=h.querySelector(ws(n)))&&!y._p&&(T.instance=y,T.state.loading=5),Ft.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ft.set(n,l),y||$v(h,n,l,T.state))),a&&u===null)throw Error(i(528,""));return T}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ci(l),l=qa(h).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Ti(n){return'href="'+Vt(n)+'"'}function ws(n){return'link[rel="stylesheet"]['+n+"]"}function Dh(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function $v(n,a,l,u){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=n.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),dt(a,"link",l),st(a),n.head.appendChild(a))}function Ci(n){return'[src="'+Vt(n)+'"]'}function Ms(n){return"script[async]"+n}function Ih(n,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=n.querySelector('style[data-href~="'+Vt(l.href)+'"]');if(u)return a.instance=u,st(u),u;var h=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),st(u),dt(u,"style",h),sl(u,l.precedence,n),a.instance=u;case"stylesheet":h=Ti(l.href);var y=n.querySelector(ws(h));if(y)return a.state.loading|=4,a.instance=y,st(y),y;u=Dh(l),(h=Ft.get(h))&&$u(u,h),y=(n.ownerDocument||n).createElement("link"),st(y);var T=y;return T._p=new Promise(function(_,A){T.onload=_,T.onerror=A}),dt(y,"link",u),a.state.loading|=4,sl(y,l.precedence,n),a.instance=y;case"script":return y=Ci(l.src),(h=n.querySelector(Ms(y)))?(a.instance=h,st(h),h):(u=l,(h=Ft.get(y))&&(u=v({},l),Zu(u,h)),n=n.ownerDocument||n,h=n.createElement("script"),st(h),dt(h,"link",u),n.head.appendChild(h),a.instance=h);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,sl(u,l.precedence,n));return a.instance}function sl(n,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,y=h,T=0;T<u.length;T++){var _=u[T];if(_.dataset.precedence===a)y=_;else if(y!==h)break}y?y.parentNode.insertBefore(n,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(n,a.firstChild))}function $u(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function Zu(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var rl=null;function kh(n,a,l){if(rl===null){var u=new Map,h=rl=new Map;h.set(l,u)}else h=rl,u=h.get(l),u||(u=new Map,h.set(l,u));if(u.has(n))return u;for(u.set(n,null),l=l.getElementsByTagName(n),h=0;h<l.length;h++){var y=l[h];if(!(y[Gi]||y[ft]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(a)||"";T=n+T;var _=u.get(T);_?_.push(y):u.set(T,[y])}}return u}function Uh(n,a,l){n=n.ownerDocument||n,n.head.insertBefore(l,a==="title"?n.querySelector("head > title"):null)}function Zv(n,a,l){if(l===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return n=a.disabled,typeof a.precedence=="string"&&n==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Lh(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Rs=null;function Kv(){}function Jv(n,a,l){if(Rs===null)throw Error(i(475));var u=Rs;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ti(l.href),y=n.querySelector(ws(h));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=ll.bind(u),n.then(u,u)),a.state.loading|=4,a.instance=y,st(y);return}y=n.ownerDocument||n,l=Dh(l),(h=Ft.get(h))&&$u(l,h),y=y.createElement("link"),st(y);var T=y;T._p=new Promise(function(_,A){T.onload=_,T.onerror=A}),dt(y,"link",l),a.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=ll.bind(u),n.addEventListener("load",a),n.addEventListener("error",a))}}function Xv(){if(Rs===null)throw Error(i(475));var n=Rs;return n.stylesheets&&n.count===0&&Ku(n,n.stylesheets),0<n.count?function(a){var l=setTimeout(function(){if(n.stylesheets&&Ku(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l)}}:null}function ll(){if(this.count--,this.count===0){if(this.stylesheets)Ku(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ol=null;function Ku(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ol=new Map,a.forEach(Qv,n),ol=null,ll.call(n))}function Qv(n,a){if(!(a.state.loading&4)){var l=ol.get(n);if(l)var u=l.get(null);else{l=new Map,ol.set(n,l);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<h.length;y++){var T=h[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),u=T)}u&&l.set(null,u)}h=a.instance,T=h.getAttribute("data-precedence"),y=l.get(T)||u,y===u&&l.set(null,h),l.set(T,h),this.count++,u=ll.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),y?y.parentNode.insertBefore(h,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),a.state.loading|=4}}var Ds={$$typeof:B,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function Wv(n,a,l,u,h,y,T,_){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hl(0),this.hiddenUpdates=Hl(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Ph(n,a,l,u,h,y,T,_,A,L,q,H){return n=new Wv(n,a,l,T,_,A,L,H),a=1,y===!0&&(a|=24),y=wt(3,null,null,a),n.current=y,y.stateNode=n,a=Ro(),a.refCount++,n.pooledCache=a,a.refCount++,y.memoizedState={element:u,isDehydrated:l,cache:a},Uo(y),n}function jh(n){return n?(n=Wa,n):Wa}function Vh(n,a,l,u,h,y){h=jh(h),u.context===null?u.context=h:u.pendingContext=h,u=On(a),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=Bn(n,u,a),l!==null&&(kt(l,n,a),ls(l,n,a))}function Oh(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<a?l:a}}function Ju(n,a){Oh(n,a),(n=n.alternate)&&Oh(n,a)}function Bh(n){if(n.tag===13){var a=Qa(n,67108864);a!==null&&kt(a,n,67108864),Ju(n,67108864)}}var ul=!0;function e0(n,a,l,u){var h=O.T;O.T=null;var y=Q.p;try{Q.p=2,Xu(n,a,l,u)}finally{Q.p=y,O.T=h}}function t0(n,a,l,u){var h=O.T;O.T=null;var y=Q.p;try{Q.p=8,Xu(n,a,l,u)}finally{Q.p=y,O.T=h}}function Xu(n,a,l,u){if(ul){var h=Qu(u);if(h===null)Vu(n,a,u,cl,l),Gh(n,u);else if(a0(h,n,a,l,u))u.stopPropagation();else if(Gh(n,u),a&4&&-1<n0.indexOf(n)){for(;h!==null;){var y=Ba(h);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=ha(y.pendingLanes);if(T!==0){var _=y;for(_.pendingLanes|=2,_.entangledLanes|=2;T;){var A=1<<31-Et(T);_.entanglements[1]|=A,T&=~A}on(y),(Ue&6)===0&&($r=nn()+500,Ss(0))}}break;case 13:_=Qa(y,2),_!==null&&kt(_,y,2),Kr(),Ju(y,2)}if(y=Qu(u),y===null&&Vu(n,a,u,cl,l),y===h)break;h=y}h!==null&&u.stopPropagation()}else Vu(n,a,u,null,l)}}function Qu(n){return n=no(n),Wu(n)}var cl=null;function Wu(n){if(cl=null,n=Oa(n),n!==null){var a=o(n);if(a===null)n=null;else{var l=a.tag;if(l===13){if(n=m(a),n!==null)return n;n=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return cl=n,null}function qh(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qy()){case ed:return 2;case td:return 8;case nr:case Gy:return 32;case nd:return 268435456;default:return 32}default:return 32}}var ec=!1,Wn=null,ea=null,ta=null,Is=new Map,ks=new Map,na=[],n0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gh(n,a){switch(n){case"focusin":case"focusout":Wn=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":Is.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ks.delete(a.pointerId)}}function Us(n,a,l,u,h,y){return n===null||n.nativeEvent!==y?(n={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:y,targetContainers:[h]},a!==null&&(a=Ba(a),a!==null&&Bh(a)),n):(n.eventSystemFlags|=u,a=n.targetContainers,h!==null&&a.indexOf(h)===-1&&a.push(h),n)}function a0(n,a,l,u,h){switch(a){case"focusin":return Wn=Us(Wn,n,a,l,u,h),!0;case"dragenter":return ea=Us(ea,n,a,l,u,h),!0;case"mouseover":return ta=Us(ta,n,a,l,u,h),!0;case"pointerover":var y=h.pointerId;return Is.set(y,Us(Is.get(y)||null,n,a,l,u,h)),!0;case"gotpointercapture":return y=h.pointerId,ks.set(y,Us(ks.get(y)||null,n,a,l,u,h)),!0}return!1}function zh(n){var a=Oa(n.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=m(l),a!==null){n.blockedOn=a,Jy(n.priority,function(){if(l.tag===13){var u=It();u=Fl(u);var h=Qa(l,u);h!==null&&kt(h,l,u),Ju(l,u)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function dl(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var l=Qu(n.nativeEvent);if(l===null){l=n.nativeEvent;var u=new l.constructor(l.type,l);to=u,l.target.dispatchEvent(u),to=null}else return a=Ba(l),a!==null&&Bh(a),n.blockedOn=l,!1;a.shift()}return!0}function Hh(n,a,l){dl(n)&&l.delete(a)}function i0(){ec=!1,Wn!==null&&dl(Wn)&&(Wn=null),ea!==null&&dl(ea)&&(ea=null),ta!==null&&dl(ta)&&(ta=null),Is.forEach(Hh),ks.forEach(Hh)}function fl(n,a){n.blockedOn===a&&(n.blockedOn=null,ec||(ec=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,i0)))}var ml=null;function Fh(n){ml!==n&&(ml=n,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){ml===n&&(ml=null);for(var a=0;a<n.length;a+=3){var l=n[a],u=n[a+1],h=n[a+2];if(typeof u!="function"){if(Wu(u||l)===null)continue;break}var y=Ba(l);y!==null&&(n.splice(a,3),a-=3,Wo(y,{pending:!0,data:h,method:l.method,action:u},u,h))}}))}function Ls(n){function a(A){return fl(A,n)}Wn!==null&&fl(Wn,n),ea!==null&&fl(ea,n),ta!==null&&fl(ta,n),Is.forEach(a),ks.forEach(a);for(var l=0;l<na.length;l++){var u=na[l];u.blockedOn===n&&(u.blockedOn=null)}for(;0<na.length&&(l=na[0],l.blockedOn===null);)zh(l),l.blockedOn===null&&na.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var h=l[u],y=l[u+1],T=h[vt]||null;if(typeof y=="function")T||Fh(l);else if(T){var _=null;if(y&&y.hasAttribute("formAction")){if(h=y,T=y[vt]||null)_=T.formAction;else if(Wu(h)!==null)continue}else _=T.action;typeof _=="function"?l[u+1]=_:(l.splice(u,3),u-=3),Fh(l)}}}function tc(n){this._internalRoot=n}hl.prototype.render=tc.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=It();Vh(l,u,n,a,null,null)},hl.prototype.unmount=tc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;Vh(n.current,2,null,n,null,null),Kr(),a[Va]=null}};function hl(n){this._internalRoot=n}hl.prototype.unstable_scheduleHydration=function(n){if(n){var a=ld();n={blockedOn:null,target:n,priority:a};for(var l=0;l<na.length&&a!==0&&a<na[l].priority;l++);na.splice(l,0,n),l===0&&zh(n)}};var Yh=e.version;if(Yh!=="19.1.0")throw Error(i(527,Yh,"19.1.0"));Q.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=x(a),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var s0={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pl.isDisabled&&pl.supportsFiber)try{Oi=pl.inject(s0),Nt=pl}catch{}}return js.createRoot=function(n,a){if(!r(n))throw Error(i(299));var l=!1,u="",h=om,y=um,T=cm,_=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(_=a.unstable_transitionCallbacks)),a=Ph(n,1,!1,null,null,l,u,h,y,T,_,null),n[Va]=a.current,ju(n),new tc(a)},js.hydrateRoot=function(n,a,l){if(!r(n))throw Error(i(299));var u=!1,h="",y=om,T=um,_=cm,A=null,L=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(_=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(A=l.unstable_transitionCallbacks),l.formState!==void 0&&(L=l.formState)),a=Ph(n,1,!0,a,l??null,u,h,y,T,_,A,L),a.context=jh(null),l=a.current,u=It(),u=Fl(u),h=On(u),h.callback=null,Bn(l,h,u),l=u,a.current.lanes=l,qi(a,l),on(a),n[Va]=a.current,ju(n),new hl(a)},js.version="19.1.0",js}var np;function p0(){if(np)return ic.exports;np=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),ic.exports=h0(),ic.exports}var g0=p0();const y0=Gg(g0);var Vs={},ap;function x0(){if(ap)return Vs;ap=1,Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.parse=m,Vs.serialize=p;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function m(b,S){const N=new o,E=b.length;if(E<2)return N;const M=(S==null?void 0:S.decode)||v;let I=0;do{const j=b.indexOf("=",I);if(j===-1)break;const B=b.indexOf(";",I),Z=B===-1?E:B;if(j>Z){I=b.lastIndexOf(";",j-1)+1;continue}const F=g(b,I,j),ae=x(b,j,F),z=b.slice(F,ae);if(N[z]===void 0){let J=g(b,j+1,Z),te=x(b,Z,J);const ue=M(b.slice(J,te));N[z]=ue}I=Z+1}while(I<E);return N}function g(b,S,N){do{const E=b.charCodeAt(S);if(E!==32&&E!==9)return S}while(++S<N);return N}function x(b,S,N){for(;S>N;){const E=b.charCodeAt(--S);if(E!==32&&E!==9)return S+1}return N}function p(b,S,N){const E=(N==null?void 0:N.encode)||encodeURIComponent;if(!s.test(b))throw new TypeError(`argument name is invalid: ${b}`);const M=E(S);if(!e.test(M))throw new TypeError(`argument val is invalid: ${S}`);let I=b+"="+M;if(!N)return I;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);I+="; Max-Age="+N.maxAge}if(N.domain){if(!t.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);I+="; Domain="+N.domain}if(N.path){if(!i.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);I+="; Path="+N.path}if(N.expires){if(!C(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);I+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(I+="; HttpOnly"),N.secure&&(I+="; Secure"),N.partitioned&&(I+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":I+="; Priority=Low";break;case"medium":I+="; Priority=Medium";break;case"high":I+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":I+="; SameSite=Strict";break;case"lax":I+="; SameSite=Lax";break;case"none":I+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return I}function v(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function C(b){return r.call(b)==="[object Date]"}return Vs}x0();var ip="popstate";function v0(s={}){function e(r,o){let{pathname:m="/",search:g="",hash:x=""}=ja(r.location.hash.substring(1));return!m.startsWith("/")&&!m.startsWith(".")&&(m="/"+m),pc("",{pathname:m,search:g,hash:x},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){let m=r.document.querySelector("base"),g="";if(m&&m.getAttribute("href")){let x=r.location.href,p=x.indexOf("#");g=p===-1?x:x.slice(0,p)}return g+"#"+(typeof o=="string"?o:$s(o))}function i(r,o){$t(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return T0(e,t,i,s)}function Ze(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function $t(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function b0(){return Math.random().toString(36).substring(2,10)}function sp(s,e){return{usr:s.state,key:s.key,idx:e}}function pc(s,e,t=null,i){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?ja(e):e,state:t,key:e&&e.key||i||b0()}}function $s({pathname:s="/",search:e="",hash:t=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(s+=t.charAt(0)==="#"?t:"#"+t),s}function ja(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substring(t),s=s.substring(0,t));let i=s.indexOf("?");i>=0&&(e.search=s.substring(i),s=s.substring(0,i)),s&&(e.pathname=s)}return e}function T0(s,e,t,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,m=r.history,g="POP",x=null,p=v();p==null&&(p=0,m.replaceState({...m.state,idx:p},""));function v(){return(m.state||{idx:null}).idx}function C(){g="POP";let M=v(),I=M==null?null:M-p;p=M,x&&x({action:g,location:E.location,delta:I})}function b(M,I){g="PUSH";let j=pc(E.location,M,I);t&&t(j,M),p=v()+1;let B=sp(j,p),Z=E.createHref(j);try{m.pushState(B,"",Z)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;r.location.assign(Z)}o&&x&&x({action:g,location:E.location,delta:1})}function S(M,I){g="REPLACE";let j=pc(E.location,M,I);t&&t(j,M),p=v();let B=sp(j,p),Z=E.createHref(j);m.replaceState(B,"",Z),o&&x&&x({action:g,location:E.location,delta:0})}function N(M){return C0(M)}let E={get action(){return g},get location(){return s(r,m)},listen(M){if(x)throw new Error("A history only accepts one active listener");return r.addEventListener(ip,C),x=M,()=>{r.removeEventListener(ip,C),x=null}},createHref(M){return e(r,M)},createURL:N,encodeLocation(M){let I=N(M);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:b,replace:S,go(M){return m.go(M)}};return E}function C0(s,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ze(t,"No window.location.(origin|href) available to create URL");let i=typeof s=="string"?s:$s(s);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function zg(s,e,t="/"){return _0(s,e,t,!1)}function _0(s,e,t,i){let r=typeof e=="string"?ja(e):e,o=Dn(r.pathname||"/",t);if(o==null)return null;let m=Hg(s);S0(m);let g=null;for(let x=0;g==null&&x<m.length;++x){let p=L0(o);g=k0(m[x],p,i)}return g}function Hg(s,e=[],t=[],i=""){let r=(o,m,g)=>{let x={relativePath:g===void 0?o.path||"":g,caseSensitive:o.caseSensitive===!0,childrenIndex:m,route:o};x.relativePath.startsWith("/")&&(Ze(x.relativePath.startsWith(i),`Absolute route path "${x.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(i.length));let p=Rn([i,x.relativePath]),v=t.concat(x);o.children&&o.children.length>0&&(Ze(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Hg(o.children,e,v,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:D0(p,o.index),routesMeta:v})};return s.forEach((o,m)=>{var g;if(o.path===""||!((g=o.path)!=null&&g.includes("?")))r(o,m);else for(let x of Fg(o.path))r(o,m,x)}),e}function Fg(s){let e=s.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let m=Fg(i.join("/")),g=[];return g.push(...m.map(x=>x===""?o:[o,x].join("/"))),r&&g.push(...m),g.map(x=>s.startsWith("/")&&x===""?"/":x)}function S0(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:I0(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var N0=/^:[\w-]+$/,E0=3,A0=2,w0=1,M0=10,R0=-2,rp=s=>s==="*";function D0(s,e){let t=s.split("/"),i=t.length;return t.some(rp)&&(i+=R0),e&&(i+=A0),t.filter(r=>!rp(r)).reduce((r,o)=>r+(N0.test(o)?E0:o===""?w0:M0),i)}function I0(s,e){return s.length===e.length&&s.slice(0,-1).every((i,r)=>i===e[r])?s[s.length-1]-e[e.length-1]:0}function k0(s,e,t=!1){let{routesMeta:i}=s,r={},o="/",m=[];for(let g=0;g<i.length;++g){let x=i[g],p=g===i.length-1,v=o==="/"?e:e.slice(o.length)||"/",C=Sl({path:x.relativePath,caseSensitive:x.caseSensitive,end:p},v),b=x.route;if(!C&&p&&t&&!i[i.length-1].route.index&&(C=Sl({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},v)),!C)return null;Object.assign(r,C.params),m.push({params:r,pathname:Rn([o,C.pathname]),pathnameBase:O0(Rn([o,C.pathnameBase])),route:b}),C.pathnameBase!=="/"&&(o=Rn([o,C.pathnameBase]))}return m}function Sl(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,i]=U0(s.path,s.caseSensitive,s.end),r=e.match(t);if(!r)return null;let o=r[0],m=o.replace(/(.)\/+$/,"$1"),g=r.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:C},b)=>{if(v==="*"){let N=g[b]||"";m=o.slice(0,o.length-N.length).replace(/(.)\/+$/,"$1")}const S=g[b];return C&&!S?p[v]=void 0:p[v]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:m,pattern:s}}function U0(s,e=!1,t=!0){$t(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let i=[],r="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,g,x)=>(i.push({paramName:g,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(i.push({paramName:"*"}),r+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":s!==""&&s!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function L0(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $t(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Dn(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=s.charAt(t);return i&&i!=="/"?null:s.slice(t)||"/"}function P0(s,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof s=="string"?ja(s):s;return{pathname:t?t.startsWith("/")?t:j0(t,e):e,search:B0(i),hash:q0(r)}}function j0(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function oc(s,e,t,i){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function V0(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Yg(s){let e=V0(s);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function $g(s,e,t,i=!1){let r;typeof s=="string"?r=ja(s):(r={...s},Ze(!r.pathname||!r.pathname.includes("?"),oc("?","pathname","search",r)),Ze(!r.pathname||!r.pathname.includes("#"),oc("#","pathname","hash",r)),Ze(!r.search||!r.search.includes("#"),oc("#","search","hash",r)));let o=s===""||r.pathname==="",m=o?"/":r.pathname,g;if(m==null)g=t;else{let C=e.length-1;if(!i&&m.startsWith("..")){let b=m.split("/");for(;b[0]==="..";)b.shift(),C-=1;r.pathname=b.join("/")}g=C>=0?e[C]:"/"}let x=P0(r,g),p=m&&m!=="/"&&m.endsWith("/"),v=(o||m===".")&&t.endsWith("/");return!x.pathname.endsWith("/")&&(p||v)&&(x.pathname+="/"),x}var Rn=s=>s.join("/").replace(/\/\/+/g,"/"),O0=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),B0=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,q0=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function G0(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var Zg=["POST","PUT","PATCH","DELETE"];new Set(Zg);var z0=["GET",...Zg];new Set(z0);var Li=w.createContext(null);Li.displayName="DataRouter";var Ll=w.createContext(null);Ll.displayName="DataRouterState";var Kg=w.createContext({isTransitioning:!1});Kg.displayName="ViewTransition";var H0=w.createContext(new Map);H0.displayName="Fetchers";var F0=w.createContext(null);F0.displayName="Await";var mn=w.createContext(null);mn.displayName="Navigation";var Js=w.createContext(null);Js.displayName="Location";var hn=w.createContext({outlet:null,matches:[],isDataRoute:!1});hn.displayName="Route";var qc=w.createContext(null);qc.displayName="RouteError";function Y0(s,{relative:e}={}){Ze(Xs(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=w.useContext(mn),{hash:r,pathname:o,search:m}=Qs(s,{relative:e}),g=o;return t!=="/"&&(g=o==="/"?t:Rn([t,o])),i.createHref({pathname:g,search:m,hash:r})}function Xs(){return w.useContext(Js)!=null}function tn(){return Ze(Xs(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Js).location}var Jg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Xg(s){w.useContext(mn).static||w.useLayoutEffect(s)}function ca(){let{isDataRoute:s}=w.useContext(hn);return s?sb():$0()}function $0(){Ze(Xs(),"useNavigate() may be used only in the context of a <Router> component.");let s=w.useContext(Li),{basename:e,navigator:t}=w.useContext(mn),{matches:i}=w.useContext(hn),{pathname:r}=tn(),o=JSON.stringify(Yg(i)),m=w.useRef(!1);return Xg(()=>{m.current=!0}),w.useCallback((x,p={})=>{if($t(m.current,Jg),!m.current)return;if(typeof x=="number"){t.go(x);return}let v=$g(x,JSON.parse(o),r,p.relative==="path");s==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Rn([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,o,r,s])}w.createContext(null);function Gc(){let{matches:s}=w.useContext(hn),e=s[s.length-1];return e?e.params:{}}function Qs(s,{relative:e}={}){let{matches:t}=w.useContext(hn),{pathname:i}=tn(),r=JSON.stringify(Yg(t));return w.useMemo(()=>$g(s,JSON.parse(r),i,e==="path"),[s,r,i,e])}function Z0(s,e){return Qg(s,e)}function Qg(s,e,t,i){var I;Ze(Xs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=w.useContext(mn),{matches:o}=w.useContext(hn),m=o[o.length-1],g=m?m.params:{},x=m?m.pathname:"/",p=m?m.pathnameBase:"/",v=m&&m.route;{let j=v&&v.path||"";Wg(x,!v||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let C=tn(),b;if(e){let j=typeof e=="string"?ja(e):e;Ze(p==="/"||((I=j.pathname)==null?void 0:I.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${j.pathname}" was given in the \`location\` prop.`),b=j}else b=C;let S=b.pathname||"/",N=S;if(p!=="/"){let j=p.replace(/^\//,"").split("/");N="/"+S.replace(/^\//,"").split("/").slice(j.length).join("/")}let E=zg(s,{pathname:N});$t(v||E!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),$t(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=W0(E&&E.map(j=>Object.assign({},j,{params:Object.assign({},g,j.params),pathname:Rn([p,r.encodeLocation?r.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:Rn([p,r.encodeLocation?r.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,t,i);return e&&M?w.createElement(Js.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},M):M}function K0(){let s=ib(),e=G0(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},m=null;return console.error("Error handled by React Router default ErrorBoundary:",s),m=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:o},"ErrorBoundary")," or"," ",w.createElement("code",{style:o},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:r},t):null,m)}var J0=w.createElement(K0,null),X0=class extends w.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?w.createElement(hn.Provider,{value:this.props.routeContext},w.createElement(qc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Q0({routeContext:s,match:e,children:t}){let i=w.useContext(Li);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(hn.Provider,{value:s},t)}function W0(s,e=[],t=null,i=null){if(s==null){if(!t)return null;if(t.errors)s=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let r=s,o=t==null?void 0:t.errors;if(o!=null){let x=r.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);Ze(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,x+1))}let m=!1,g=-1;if(t)for(let x=0;x<r.length;x++){let p=r[x];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(g=x),p.route.id){let{loaderData:v,errors:C}=t,b=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!C||C[p.route.id]===void 0);if(p.route.lazy||b){m=!0,g>=0?r=r.slice(0,g+1):r=[r[0]];break}}}return r.reduceRight((x,p,v)=>{let C,b=!1,S=null,N=null;t&&(C=o&&p.route.id?o[p.route.id]:void 0,S=p.route.errorElement||J0,m&&(g<0&&v===0?(Wg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,N=null):g===v&&(b=!0,N=p.route.hydrateFallbackElement||null)));let E=e.concat(r.slice(0,v+1)),M=()=>{let I;return C?I=S:b?I=N:p.route.Component?I=w.createElement(p.route.Component,null):p.route.element?I=p.route.element:I=x,w.createElement(Q0,{match:p,routeContext:{outlet:x,matches:E,isDataRoute:t!=null},children:I})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?w.createElement(X0,{location:t.location,revalidation:t.revalidation,component:S,error:C,children:M(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):M()},null)}function zc(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eb(s){let e=w.useContext(Li);return Ze(e,zc(s)),e}function tb(s){let e=w.useContext(Ll);return Ze(e,zc(s)),e}function nb(s){let e=w.useContext(hn);return Ze(e,zc(s)),e}function Hc(s){let e=nb(s),t=e.matches[e.matches.length-1];return Ze(t.route.id,`${s} can only be used on routes that contain a unique "id"`),t.route.id}function ab(){return Hc("useRouteId")}function ib(){var i;let s=w.useContext(qc),e=tb("useRouteError"),t=Hc("useRouteError");return s!==void 0?s:(i=e.errors)==null?void 0:i[t]}function sb(){let{router:s}=eb("useNavigate"),e=Hc("useNavigate"),t=w.useRef(!1);return Xg(()=>{t.current=!0}),w.useCallback(async(r,o={})=>{$t(t.current,Jg),t.current&&(typeof r=="number"?s.navigate(r):await s.navigate(r,{fromRouteId:e,...o}))},[s,e])}var lp={};function Wg(s,e,t){!e&&!lp[s]&&(lp[s]=!0,$t(!1,t))}w.memo(rb);function rb({routes:s,future:e,state:t}){return Qg(s,void 0,t,e)}function gt(s){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lb({basename:s="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:o=!1}){Ze(!Xs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=s.replace(/^\/*/,"/"),g=w.useMemo(()=>({basename:m,navigator:r,static:o,future:{}}),[m,r,o]);typeof t=="string"&&(t=ja(t));let{pathname:x="/",search:p="",hash:v="",state:C=null,key:b="default"}=t,S=w.useMemo(()=>{let N=Dn(x,m);return N==null?null:{location:{pathname:N,search:p,hash:v,state:C,key:b},navigationType:i}},[m,x,p,v,C,b,i]);return $t(S!=null,`<Router basename="${m}"> is not able to match the URL "${x}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:w.createElement(mn.Provider,{value:g},w.createElement(Js.Provider,{children:e,value:S}))}function ob({children:s,location:e}){return Z0(gc(s),e)}function gc(s,e=[]){let t=[];return w.Children.forEach(s,(i,r)=>{if(!w.isValidElement(i))return;let o=[...e,r];if(i.type===w.Fragment){t.push.apply(t,gc(i.props.children,o));return}Ze(i.type===gt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!i.props.index||!i.props.children,"An index route cannot have child routes.");let m={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(m.children=gc(i.props.children,o)),t.push(m)}),t}var vl="get",bl="application/x-www-form-urlencoded";function Pl(s){return s!=null&&typeof s.tagName=="string"}function ub(s){return Pl(s)&&s.tagName.toLowerCase()==="button"}function cb(s){return Pl(s)&&s.tagName.toLowerCase()==="form"}function db(s){return Pl(s)&&s.tagName.toLowerCase()==="input"}function fb(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function mb(s,e){return s.button===0&&(!e||e==="_self")&&!fb(s)}function yc(s=""){return new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((e,t)=>{let i=s[t];return e.concat(Array.isArray(i)?i.map(r=>[t,r]):[[t,i]])},[]))}function hb(s,e){let t=yc(s);return e&&e.forEach((i,r)=>{t.has(r)||e.getAll(r).forEach(o=>{t.append(r,o)})}),t}var gl=null;function pb(){if(gl===null)try{new FormData(document.createElement("form"),0),gl=!1}catch{gl=!0}return gl}var gb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function uc(s){return s!=null&&!gb.has(s)?($t(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bl}"`),null):s}function yb(s,e){let t,i,r,o,m;if(cb(s)){let g=s.getAttribute("action");i=g?Dn(g,e):null,t=s.getAttribute("method")||vl,r=uc(s.getAttribute("enctype"))||bl,o=new FormData(s)}else if(ub(s)||db(s)&&(s.type==="submit"||s.type==="image")){let g=s.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=s.getAttribute("formaction")||g.getAttribute("action");if(i=x?Dn(x,e):null,t=s.getAttribute("formmethod")||g.getAttribute("method")||vl,r=uc(s.getAttribute("formenctype"))||uc(g.getAttribute("enctype"))||bl,o=new FormData(g,s),!pb()){let{name:p,type:v,value:C}=s;if(v==="image"){let b=p?`${p}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else p&&o.append(p,C)}}else{if(Pl(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=vl,i=null,r=bl,m=s}return o&&r==="text/plain"&&(m=o,o=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:o,body:m}}function Fc(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function xb(s,e){if(s.id in e)return e[s.id];try{let t=await import(s.module);return e[s.id]=t,t}catch(t){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vb(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function bb(s,e,t){let i=await Promise.all(s.map(async r=>{let o=e.routes[r.route.id];if(o){let m=await xb(o,t);return m.links?m.links():[]}return[]}));return Sb(i.flat(1).filter(vb).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function op(s,e,t,i,r,o){let m=(x,p)=>t[p]?x.route.id!==t[p].route.id:!0,g=(x,p)=>{var v;return t[p].pathname!==x.pathname||((v=t[p].route.path)==null?void 0:v.endsWith("*"))&&t[p].params["*"]!==x.params["*"]};return o==="assets"?e.filter((x,p)=>m(x,p)||g(x,p)):o==="data"?e.filter((x,p)=>{var C;let v=i.routes[x.route.id];if(!v||!v.hasLoader)return!1;if(m(x,p)||g(x,p))return!0;if(x.route.shouldRevalidate){let b=x.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((C=t[0])==null?void 0:C.params)||{},nextUrl:new URL(s,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Tb(s,e,{includeHydrateFallback:t}={}){return Cb(s.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function Cb(s){return[...new Set(s)]}function _b(s){let e={},t=Object.keys(s).sort();for(let i of t)e[i]=s[i];return e}function Sb(s,e){let t=new Set;return new Set(e),s.reduce((i,r)=>{let o=JSON.stringify(_b(r));return t.has(o)||(t.add(o),i.push({key:o,link:r})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Nb=new Set([100,101,204,205]);function Eb(s,e){let t=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return t.pathname==="/"?t.pathname="_root.data":e&&Dn(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function ey(){let s=w.useContext(Li);return Fc(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Ab(){let s=w.useContext(Ll);return Fc(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Yc=w.createContext(void 0);Yc.displayName="FrameworkContext";function ty(){let s=w.useContext(Yc);return Fc(s,"You must render this element inside a <HydratedRouter> element"),s}function wb(s,e){let t=w.useContext(Yc),[i,r]=w.useState(!1),[o,m]=w.useState(!1),{onFocus:g,onBlur:x,onMouseEnter:p,onMouseLeave:v,onTouchStart:C}=e,b=w.useRef(null);w.useEffect(()=>{if(s==="render"&&m(!0),s==="viewport"){let E=I=>{I.forEach(j=>{m(j.isIntersecting)})},M=new IntersectionObserver(E,{threshold:.5});return b.current&&M.observe(b.current),()=>{M.disconnect()}}},[s]),w.useEffect(()=>{if(i){let E=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(E)}}},[i]);let S=()=>{r(!0)},N=()=>{r(!1),m(!1)};return t?s!=="intent"?[o,b,{}]:[o,b,{onFocus:Os(g,S),onBlur:Os(x,N),onMouseEnter:Os(p,S),onMouseLeave:Os(v,N),onTouchStart:Os(C,S)}]:[!1,b,{}]}function Os(s,e){return t=>{s&&s(t),t.defaultPrevented||e(t)}}function Mb({page:s,...e}){let{router:t}=ey(),i=w.useMemo(()=>zg(t.routes,s,t.basename),[t.routes,s,t.basename]);return i?w.createElement(Db,{page:s,matches:i,...e}):null}function Rb(s){let{manifest:e,routeModules:t}=ty(),[i,r]=w.useState([]);return w.useEffect(()=>{let o=!1;return bb(s,e,t).then(m=>{o||r(m)}),()=>{o=!0}},[s,e,t]),i}function Db({page:s,matches:e,...t}){let i=tn(),{manifest:r,routeModules:o}=ty(),{basename:m}=ey(),{loaderData:g,matches:x}=Ab(),p=w.useMemo(()=>op(s,e,x,r,i,"data"),[s,e,x,r,i]),v=w.useMemo(()=>op(s,e,x,r,i,"assets"),[s,e,x,r,i]),C=w.useMemo(()=>{if(s===i.pathname+i.search+i.hash)return[];let N=new Set,E=!1;if(e.forEach(I=>{var B;let j=r.routes[I.route.id];!j||!j.hasLoader||(!p.some(Z=>Z.route.id===I.route.id)&&I.route.id in g&&((B=o[I.route.id])!=null&&B.shouldRevalidate)||j.hasClientLoader?E=!0:N.add(I.route.id))}),N.size===0)return[];let M=Eb(s,m);return E&&N.size>0&&M.searchParams.set("_routes",e.filter(I=>N.has(I.route.id)).map(I=>I.route.id).join(",")),[M.pathname+M.search]},[m,g,i,r,p,e,s,o]),b=w.useMemo(()=>Tb(v,r),[v,r]),S=Rb(v);return w.createElement(w.Fragment,null,C.map(N=>w.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),b.map(N=>w.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),S.map(({key:N,link:E})=>w.createElement("link",{key:N,...E})))}function Ib(...s){return e=>{s.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ny=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ny&&(window.__reactRouterVersion="7.6.2")}catch{}function kb({basename:s,children:e,window:t}){let i=w.useRef();i.current==null&&(i.current=v0({window:t,v5Compat:!0}));let r=i.current,[o,m]=w.useState({action:r.action,location:r.location}),g=w.useCallback(x=>{w.startTransition(()=>m(x))},[m]);return w.useLayoutEffect(()=>r.listen(g),[r,g]),w.createElement(lb,{basename:s,children:e,location:o.location,navigationType:o.action,navigator:r})}var ay=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oe=w.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:o,replace:m,state:g,target:x,to:p,preventScrollReset:v,viewTransition:C,...b},S){let{basename:N}=w.useContext(mn),E=typeof p=="string"&&ay.test(p),M,I=!1;if(typeof p=="string"&&E&&(M=p,ny))try{let te=new URL(window.location.href),ue=p.startsWith("//")?new URL(te.protocol+p):new URL(p),ke=Dn(ue.pathname,N);ue.origin===te.origin&&ke!=null?p=ke+ue.search+ue.hash:I=!0}catch{$t(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=Y0(p,{relative:r}),[B,Z,F]=wb(i,b),ae=Pb(p,{replace:m,state:g,target:x,preventScrollReset:v,relative:r,viewTransition:C});function z(te){e&&e(te),te.defaultPrevented||ae(te)}let J=w.createElement("a",{...b,...F,href:M||j,onClick:I||o?e:z,ref:Ib(S,Z),target:x,"data-discover":!E&&t==="render"?"true":void 0});return B&&!E?w.createElement(w.Fragment,null,J,w.createElement(Mb,{page:j})):J});oe.displayName="Link";var xc=w.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:o,to:m,viewTransition:g,children:x,...p},v){let C=Qs(m,{relative:p.relative}),b=tn(),S=w.useContext(Ll),{navigator:N,basename:E}=w.useContext(mn),M=S!=null&&Gb(C)&&g===!0,I=N.encodeLocation?N.encodeLocation(C).pathname:C.pathname,j=b.pathname,B=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(j=j.toLowerCase(),B=B?B.toLowerCase():null,I=I.toLowerCase()),B&&E&&(B=Dn(B,E)||B);const Z=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let F=j===I||!r&&j.startsWith(I)&&j.charAt(Z)==="/",ae=B!=null&&(B===I||!r&&B.startsWith(I)&&B.charAt(I.length)==="/"),z={isActive:F,isPending:ae,isTransitioning:M},J=F?e:void 0,te;typeof i=="function"?te=i(z):te=[i,F?"active":null,ae?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let ue=typeof o=="function"?o(z):o;return w.createElement(oe,{...p,"aria-current":J,className:te,ref:v,style:ue,to:m,viewTransition:g},typeof x=="function"?x(z):x)});xc.displayName="NavLink";var Ub=w.forwardRef(({discover:s="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:o,method:m=vl,action:g,onSubmit:x,relative:p,preventScrollReset:v,viewTransition:C,...b},S)=>{let N=Bb(),E=qb(g,{relative:p}),M=m.toLowerCase()==="get"?"get":"post",I=typeof g=="string"&&ay.test(g),j=B=>{if(x&&x(B),B.defaultPrevented)return;B.preventDefault();let Z=B.nativeEvent.submitter,F=(Z==null?void 0:Z.getAttribute("formmethod"))||m;N(Z||B.currentTarget,{fetcherKey:e,method:F,navigate:t,replace:r,state:o,relative:p,preventScrollReset:v,viewTransition:C})};return w.createElement("form",{ref:S,method:M,action:E,onSubmit:i?x:j,...b,"data-discover":!I&&s==="render"?"true":void 0})});Ub.displayName="Form";function Lb(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iy(s){let e=w.useContext(Li);return Ze(e,Lb(s)),e}function Pb(s,{target:e,replace:t,state:i,preventScrollReset:r,relative:o,viewTransition:m}={}){let g=ca(),x=tn(),p=Qs(s,{relative:o});return w.useCallback(v=>{if(mb(v,e)){v.preventDefault();let C=t!==void 0?t:$s(x)===$s(p);g(s,{replace:C,state:i,preventScrollReset:r,relative:o,viewTransition:m})}},[x,g,p,t,i,e,s,r,o,m])}function jb(s){$t(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=w.useRef(yc(s)),t=w.useRef(!1),i=tn(),r=w.useMemo(()=>hb(i.search,t.current?null:e.current),[i.search]),o=ca(),m=w.useCallback((g,x)=>{const p=yc(typeof g=="function"?g(r):g);t.current=!0,o("?"+p,x)},[o,r]);return[r,m]}var Vb=0,Ob=()=>`__${String(++Vb)}__`;function Bb(){let{router:s}=iy("useSubmit"),{basename:e}=w.useContext(mn),t=ab();return w.useCallback(async(i,r={})=>{let{action:o,method:m,encType:g,formData:x,body:p}=yb(i,e);if(r.navigate===!1){let v=r.fetcherKey||Ob();await s.fetch(v,t,r.action||o,{preventScrollReset:r.preventScrollReset,formData:x,body:p,formMethod:r.method||m,formEncType:r.encType||g,flushSync:r.flushSync})}else await s.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:x,body:p,formMethod:r.method||m,formEncType:r.encType||g,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[s,e,t])}function qb(s,{relative:e}={}){let{basename:t}=w.useContext(mn),i=w.useContext(hn);Ze(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...Qs(s||".",{relative:e})},m=tn();if(s==null){o.search=m.search;let g=new URLSearchParams(o.search),x=g.getAll("index");if(x.some(v=>v==="")){g.delete("index"),x.filter(C=>C).forEach(C=>g.append("index",C));let v=g.toString();o.search=v?`?${v}`:""}}return(!s||s===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Rn([t,o.pathname])),$s(o)}function Gb(s,e={}){let t=w.useContext(Kg);Ze(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=iy("useViewTransitionState"),r=Qs(s,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Dn(t.currentLocation.pathname,i)||t.currentLocation.pathname,m=Dn(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Sl(r.pathname,m)!=null||Sl(r.pathname,o)!=null}[...Nb];const zb=[{table:"users",fields:["email"],unique:!0,name:"idx_users_email"},{table:"users",fields:["status"],name:"idx_users_status"},{table:"products",fields:["category_id"],name:"idx_products_category"},{table:"products",fields:["status"],name:"idx_products_status"},{table:"products",fields:["sku"],unique:!0,name:"idx_products_sku"},{table:"products",fields:["is_featured"],name:"idx_products_featured"},{table:"orders",fields:["user_id"],name:"idx_orders_user"},{table:"orders",fields:["status"],name:"idx_orders_status"},{table:"orders",fields:["order_number"],unique:!0,name:"idx_orders_number"},{table:"orders",fields:["ordered_at"],name:"idx_orders_date"},{table:"order_items",fields:["order_id"],name:"idx_order_items_order"},{table:"order_items",fields:["product_id"],name:"idx_order_items_product"},{table:"cart_items",fields:["user_id"],name:"idx_cart_user"},{table:"cart_items",fields:["session_id"],name:"idx_cart_session"},{table:"payments",fields:["order_id"],name:"idx_payments_order"},{table:"payments",fields:["status"],name:"idx_payments_status"},{table:"reviews",fields:["product_id"],name:"idx_reviews_product"},{table:"reviews",fields:["user_id"],name:"idx_reviews_user"},{table:"coupons",fields:["code"],unique:!0,name:"idx_coupons_code"},{table:"coupons",fields:["status"],name:"idx_coupons_status"}];class Hb{constructor(e){this.isConnected=!1,this.indexes=new Map,this.config=e,this.storageKey=e.storageKey,this.initializeEmptySchema()}initializeEmptySchema(){this.schema={users:[],products:[],categories:[],orders:[],order_items:[],cart_items:[],addresses:[],payments:[],reviews:[],coupons:[],settings:[],logs:[]}}async connect(){var e;try{const t=this.loadFromStorage();t?this.schema=t:await this.saveToStorage(),this.buildIndexes(),this.isConnected=!0,(e=this.config.options)!=null&&e.enableLogging&&console.log("")}catch(t){throw new Error(`Failed to connect to browser database: ${t}`)}}async disconnect(){this.isConnected&&(await this.saveToStorage(),this.isConnected=!1)}async insert(e,t){const i={...t,id:t.id||this.generateId()};return("created_at"in t||e!=="cart_items")&&(i.created_at=t.created_at||this.timestamp()),("updated_at"in t||e!=="cart_items")&&(i.updated_at=this.timestamp()),e==="cart_items"&&(i.added_at||(i.added_at=this.timestamp()),i.updated_at=this.timestamp()),this.schema[e].push(i),await this.saveToStorage(),i}async update(e,t,i){const r=this.schema[e];let o=0;for(let m=0;m<r.length;m++)this.matchesConditions(r[m],t)&&(r[m]={...r[m],...i,updated_at:this.timestamp()},o++);return o>0&&await this.saveToStorage(),o}async updateById(e,t,i){return this.update(e,[{field:"id",operator:"=",value:t}],i)}async delete(e,t){const i=this.schema[e],r=i.length;this.schema[e]=i.filter(m=>!this.matchesConditions(m,t));const o=r-this.schema[e].length;return o>0&&await this.saveToStorage(),o}async deleteById(e,t){return this.delete(e,[{field:"id",operator:"=",value:t}])}async find(e,t){let i=[...this.schema[e]];if(t!=null&&t.where&&(i=i.filter(r=>this.matchesConditions(r,t.where))),t!=null&&t.orderBy&&i.sort((r,o)=>{for(const m of t.orderBy){const g=r[m.field],x=o[m.field],p=g<x?-1:g>x?1:0;if(p!==0)return m.direction==="desc"?-p:p}return 0}),t!=null&&t.offset||t!=null&&t.limit){const r=t.offset||0,o=t.limit?r+t.limit:void 0;i=i.slice(r,o)}return t!=null&&t.select&&(i=i.map(r=>{const o={};return t.select.forEach(m=>{o[m]=r[m]}),o})),i}async findById(e,t){const i=await this.find(e,{where:[{field:"id",operator:"=",value:t}],limit:1});return i.length>0?i[0]:null}async findOne(e,t){const i=await this.find(e,{where:t,limit:1});return i.length>0?i[0]:null}async count(e,t){return t?this.schema[e].filter(r=>this.matchesConditions(r,t)).length:this.schema[e].length}matchesConditions(e,t){return t.every(i=>{const r=e[i.field];switch(i.operator){case"=":return r===i.value;case"!=":return r!==i.value;case">":return r>i.value;case"<":return r<i.value;case">=":return r>=i.value;case"<=":return r<=i.value;case"like":return String(r).toLowerCase().includes(String(i.value).toLowerCase());case"in":return Array.isArray(i.value)&&i.value.includes(r);case"not_in":return Array.isArray(i.value)&&!i.value.includes(r);default:return!1}})}buildIndexes(){var e;(e=this.config.options)!=null&&e.enableLogging&&console.log("Building database indexes..."),zb.forEach(t=>{this.buildIndex(t)})}buildIndex(e){const t=`${e.table}_${e.name}`,i=new Map;this.schema[e.table].forEach(o=>{const m=e.fields.map(g=>o[g]).join("|");if(e.unique&&i.has(m)){console.warn(`Unique constraint violation for index ${e.name}, skipping duplicate key: ${m}`);return}i.set(m,o.id)}),this.indexes.set(t,i)}async backup(){var r;const e=new Date().toISOString().replace(/[:.]/g,"-"),t=`${this.storageKey}_backup_${e}`,i=JSON.stringify(this.schema);return localStorage.setItem(t,i),(r=this.config.options)!=null&&r.maxBackups&&this.cleanupOldBackups(),t}async restore(e){const t=localStorage.getItem(e);if(!t)throw new Error(`Backup not found: ${e}`);this.schema=JSON.parse(t),await this.saveToStorage(),this.buildIndexes()}async saveToStorage(){const e=JSON.stringify(this.schema,null,2);localStorage.setItem(this.storageKey,e)}loadFromStorage(){try{const e=localStorage.getItem(this.storageKey);return e?JSON.parse(e):null}catch(e){return console.error("Failed to load data from storage:",e),null}}cleanupOldBackups(){var r;const e=((r=this.config.options)==null?void 0:r.maxBackups)||10,i=Object.keys(localStorage).filter(o=>o.startsWith(`${this.storageKey}_backup_`)).sort((o,m)=>{const g=o.substring(o.lastIndexOf("_")+1),x=m.substring(m.lastIndexOf("_")+1);return g.localeCompare(x)});i.length>e&&i.slice(0,i.length-e).forEach(m=>localStorage.removeItem(m))}generateId(){return`${Date.now()}_${Math.random().toString(36).substr(2,9)}`}timestamp(){return new Date().toISOString()}exportData(){return JSON.stringify(this.schema,null,2)}async importData(e){try{const t=JSON.parse(e);this.schema=t,await this.saveToStorage(),this.buildIndexes()}catch(t){throw new Error(`Failed to import data: ${t}`)}}getStorageInfo(){let e=0;for(let r in localStorage)localStorage.hasOwnProperty(r)&&(e+=localStorage[r].length+r.length);const t=5*1024*1024,i=e/t*100;return{used:e,total:t,percentage:i}}}class Qt{constructor(){this.config={storageKey:"seagull-watch-db",options:{autoBackup:!0,maxBackups:24,enableLogging:!0}},this.engine=new Hb(this.config)}static getInstance(){return Qt.instance||(Qt.instance=new Qt),Qt.instance}async initialize(){try{console.log(" ..."),await this.engine.connect(),console.log(" ..."),await this.initializeBaseData(),console.log(" ")}catch(e){throw console.error(" :",e),e}}async close(){console.log(" ..."),await this.engine.disconnect()}getEngine(){return this.engine}async createUser(e){return this.engine.insert("users",{...e,email_verified:!1,status:"active"})}async findUserByEmail(e){return this.engine.findOne("users",[{field:"email",operator:"=",value:e}])}async findUserById(e){return this.engine.findById("users",e)}async updateUser(e,t){return this.engine.updateById("users",e,t)}async deleteUser(e){return this.engine.deleteById("users",e)}async createProduct(e){return this.engine.insert("products",{...e,status:"active",is_featured:!1,tags:e.tags||[]})}async findProducts(e){return this.engine.find("products",e)}async findProductById(e){return this.engine.findById("products",e)}async findProductsBySku(e){return this.engine.findOne("products",[{field:"sku",operator:"=",value:e}])}async findProductsByCategory(e,t){const i=[{field:"category_id",operator:"=",value:e}];return this.engine.find("products",{...t,where:[...(t==null?void 0:t.where)||[],...i]})}async updateProduct(e,t){return this.engine.updateById("products",e,t)}async deleteProduct(e){return this.engine.deleteById("products",e)}async updateProductStock(e,t){return this.engine.updateById("products",e,{stock_quantity:t,status:t>0?"active":"out_of_stock"})}async createOrder(e){return this.engine.insert("orders",{...e,status:"pending",payment_status:"pending"})}async findOrders(e){return this.engine.find("orders",{...e,orderBy:[{field:"ordered_at",direction:"desc"},...(e==null?void 0:e.orderBy)||[]]})}async findOrdersByUser(e,t){const i=[{field:"user_id",operator:"=",value:e}];return this.engine.find("orders",{...t,where:[...(t==null?void 0:t.where)||[],...i],orderBy:[{field:"ordered_at",direction:"desc"},...(t==null?void 0:t.orderBy)||[]]})}async findOrderByNumber(e){return this.engine.findOne("orders",[{field:"order_number",operator:"=",value:e}])}async getOrderById(e){return this.engine.findById("orders",e)}async getUserOrders(e){return e?this.findOrdersByUser(e):[]}async updateOrder(e,t){return this.engine.updateById("orders",e,t)}async updateOrderStatus(e,t,i){const r={status:t};switch(t){case"paid":r.paid_at=i||new Date().toISOString(),r.payment_status="paid";break;case"shipped":r.shipped_at=i||new Date().toISOString();break;case"delivered":r.delivered_at=i||new Date().toISOString();break;case"cancelled":r.cancelled_at=i||new Date().toISOString();break}return this.engine.updateById("orders",e,r)}async createCategory(e){return this.engine.insert("categories",{...e,status:"active",sort_order:e.sort_order||0})}async findCategories(e){return this.engine.find("categories",{...e,orderBy:[{field:"sort_order",direction:"asc"},...(e==null?void 0:e.orderBy)||[]]})}async findCategoryById(e){return this.engine.findById("categories",e)}async findCategoryBySlug(e){return this.engine.findOne("categories",[{field:"slug",operator:"=",value:e}])}async addToCart(e,t,i,r){const o=await this.engine.findOne("cart_items",[{field:"product_id",operator:"=",value:i},...e?[{field:"user_id",operator:"=",value:e}]:[],...t?[{field:"session_id",operator:"=",value:t}]:[]]);return o?this.engine.updateById("cart_items",o.id,{quantity:o.quantity+r,updated_at:new Date().toISOString()}):this.engine.insert("cart_items",{user_id:e||void 0,session_id:t||void 0,product_id:i,quantity:r,added_at:new Date().toISOString(),updated_at:new Date().toISOString()})}async getCartItems(e,t){const i=[];return e&&i.push({field:"user_id",operator:"=",value:e}),t&&i.push({field:"session_id",operator:"=",value:t}),this.engine.find("cart_items",{where:i})}async clearCart(e,t){const i=[];return e&&i.push({field:"user_id",operator:"=",value:e}),t&&i.push({field:"session_id",operator:"=",value:t}),this.engine.delete("cart_items",i)}async searchProducts(e,t){const i=[{field:"name",operator:"like",value:e}];return this.engine.find("products",{...t,where:[...(t==null?void 0:t.where)||[],...i]})}async backup(){return this.engine.backup()}async restore(e){return this.engine.restore(e)}async initializeBaseData(){const e=await this.engine.count("users"),t=await this.engine.count("categories"),i=await this.engine.count("products");if(e===0&&t===0&&i===0)try{const r=await fetch("./database/seagull-watch-db.json");if(!r.ok)throw new Error(`: ${r.statusText}`);const o=await r.json();console.log("");for(const m of o.categories)await this.engine.insert("categories",m);console.log(":",o.categories.length);for(const m of o.products)await this.findProductsBySku(m.sku)||await this.findProductById(m.id)?console.log(":",m.sku,m.name):await this.engine.insert("products",m);console.log(":",o.products.length);for(const m of o.users)await this.findUserByEmail(m.email)?console.log(":",m.email):await this.engine.insert("users",m);console.log(":",o.users.length),console.log("JSON")}catch(r){throw console.error("JSON:",r),new Error(`: ${r instanceof Error?r.message:""}`)}else console.log("")}}const Ut=Qt.getInstance(),Lt=Qt.getInstance();let ia=null;const vc=s=>btoa(s+"seagull_salt_2024"),up=(s,e)=>vc(s)===e;class Ia{static async register(e){try{if(await Lt.findUserByEmail(e.email))return{success:!1,message:""};if(e.password!==e.confirmPassword)return{success:!1,message:""};if(e.password.length<6)return{success:!1,message:"6"};if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email))return{success:!1,message:""};if(e.phone&&!/^1[3-9]\d{9}$/.test(e.phone))return{success:!1,message:""};const r=await Lt.createUser({email:e.email,password_hash:vc(e.password),name:e.name,phone:e.phone,status:"active",email_verified:!1});return{success:!0,message:"",user:{id:r.id,email:r.email,name:r.name,phone:r.phone,createdAt:r.created_at,isActive:r.status==="active"}}}catch(t){return console.error(":",t),{success:!1,message:""}}}static async login(e){try{const t=await Lt.findUserByEmail(e.email);if(!t)return{success:!1,message:""};if(!up(e.password,t.password_hash))return{success:!1,message:""};if(t.status!=="active")return{success:!1,message:""};await Lt.updateUser(t.id,{last_login_at:new Date().toISOString()});const i={id:t.id,email:t.email,name:t.name,phone:t.phone,avatar:t.avatar,createdAt:t.created_at,lastLoginAt:new Date().toISOString(),isActive:t.status==="active"};return ia=i,e.rememberMe?localStorage.setItem("seagullAuthToken",t.id):sessionStorage.setItem("seagullAuthToken",t.id),{success:!0,message:"",user:i}}catch(t){return console.error(":",t),{success:!1,message:""}}}static async logout(){ia=null,localStorage.removeItem("seagullAuthToken"),sessionStorage.removeItem("seagullAuthToken")}static getCurrentUser(){return ia}static async checkAuthStatus(){try{const e=localStorage.getItem("seagullAuthToken")||sessionStorage.getItem("seagullAuthToken");if(!e)return null;const t=await Lt.findUserById(e);return!t||t.status!=="active"?(this.logout(),null):(ia={id:t.id,email:t.email,name:t.name,phone:t.phone,avatar:t.avatar,createdAt:t.created_at,lastLoginAt:t.last_login_at,isActive:t.status==="active"},ia)}catch(e){return console.error(":",e),null}}static async updateProfile(e,t){try{if(t.email){if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email))return{success:!1,message:""};const g=await Lt.findUserByEmail(t.email);if(g&&g.id!==e)return{success:!1,message:""}}if(t.phone&&!/^1[3-9]\d{9}$/.test(t.phone))return{success:!1,message:""};const i={};t.email&&(i.email=t.email),t.name&&(i.name=t.name),t.phone&&(i.phone=t.phone),t.avatar&&(i.avatar=t.avatar),await Lt.updateUser(e,i);const r=await Lt.findUserById(e);if(!r)return{success:!1,message:""};const o={id:r.id,email:r.email,name:r.name,phone:r.phone,avatar:r.avatar,createdAt:r.created_at,lastLoginAt:r.last_login_at,isActive:r.status==="active"};return ia&&ia.id===e&&(ia=o),{success:!0,message:"",user:o}}catch(i){return console.error(":",i),{success:!1,message:""}}}static async changePassword(e,t,i){try{if(i.length<6)return{success:!1,message:"6"};const r=await Lt.findUserById(e);return r?up(t,r.password_hash)?(await Lt.updateUser(e,{password_hash:vc(i)}),{success:!0,message:""}):{success:!1,message:""}:{success:!1,message:""}}catch(r){return console.error(":",r),{success:!1,message:""}}}static async getUserStats(e){try{const t=await Lt.findUserById(e),i=await Lt.findOrdersByUser(e),r=i.filter(o=>o.status==="delivered").reduce((o,m)=>o+m.total_amount,0);return{totalOrders:i.length,totalSpent:r,memberSince:(t==null?void 0:t.created_at)||new Date().toISOString()}}catch(t){return console.error(":",t),{totalOrders:0,totalSpent:0,memberSince:new Date().toISOString()}}}static async requestPasswordReset(e){try{return await Lt.findUserByEmail(e)?(console.log(`: ${e}`),{success:!0,message:""}):{success:!0,message:""}}catch(t){return console.error(":",t),{success:!1,message:""}}}}const sy=w.createContext(void 0),Fb=({children:s})=>{const[e,t]=w.useState({isAuthenticated:!1,user:null,loading:!0,error:null});w.useEffect(()=>{i()},[]);const i=async()=>{try{t(C=>({...C,loading:!0}));const v=await Ia.checkAuthStatus();t({isAuthenticated:!!v,user:v,loading:!1,error:null})}catch(v){console.error(":",v),t({isAuthenticated:!1,user:null,loading:!1,error:""})}},r=async v=>{try{t(b=>({...b,loading:!0,error:null}));const C=await Ia.login(v);return C.success&&C.user?t({isAuthenticated:!0,user:C.user,loading:!1,error:null}):t(b=>({...b,loading:!1,error:C.message})),C}catch{const b="";return t(S=>({...S,loading:!1,error:b})),{success:!1,message:b}}},o=async v=>{try{t(b=>({...b,loading:!0,error:null}));const C=await Ia.register(v);if(C.success&&C.user){const b=await Ia.login({email:v.email,password:v.password});b.success&&b.user&&t({isAuthenticated:!0,user:b.user||null,loading:!1,error:null})}else t(b=>({...b,loading:!1,error:C.message}));return C}catch{const b="";return t(S=>({...S,loading:!1,error:b})),{success:!1,message:b}}},m=async()=>{try{await Ia.logout(),t({isAuthenticated:!1,user:null,loading:!1,error:null})}catch(v){console.error(":",v)}},g=async v=>{if(!e.user)return{success:!1,message:""};try{t(b=>({...b,loading:!0,error:null}));const C=await Ia.updateProfile(e.user.id,v);return C.success&&C.user?t(b=>({...b,user:C.user||null,loading:!1,error:null})):t(b=>({...b,loading:!1,error:C.message})),C}catch{const b="";return t(S=>({...S,loading:!1,error:b})),{success:!1,message:b}}},x=async(v,C)=>{if(!e.user)return{success:!1,message:""};try{t(S=>({...S,loading:!0,error:null}));const b=await Ia.changePassword(e.user.id,v,C);return t(S=>({...S,loading:!1,error:b.success?null:b.message})),b}catch{const S="";return t(N=>({...N,loading:!1,error:S})),{success:!1,message:S}}},p=async()=>{await i()};return f.jsx(sy.Provider,{value:{...e,login:r,register:o,logout:m,updateProfile:g,changePassword:x,refreshUser:p},children:s})},da=()=>{const s=w.useContext(sy);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s},cp={"luxury-classic":{name:"",description:"",icon:""},"minimal-modern":{name:"",description:"",icon:""},"tech-future":{name:"",description:"",icon:""}},ry=Bc.createContext(void 0),cc=({children:s})=>{const[e,t]=w.useState("luxury-classic");w.useEffect(()=>{const r=localStorage.getItem("seagull-watch-theme");r&&cp[r]&&t(r)},[]),w.useEffect(()=>{document.documentElement.removeAttribute("data-theme"),e!=="luxury-classic"&&document.documentElement.setAttribute("data-theme",e),localStorage.setItem("seagull-watch-theme",e),document.body.className=`theme-${e}`},[e]);const i=r=>{t(r)};return f.jsx(ry.Provider,{value:{theme:e,setTheme:i,themes:cp},children:s})},Yb=()=>{const s=Bc.useContext(ry);if(s===void 0)throw new Error("useTheme must be used within a ThemeProvider");return s},dc=()=>{const{theme:s,setTheme:e,themes:t}=Yb(),[i,r]=w.useState(!1),[o,m]=w.useState(null),g=p=>{e(p),r(!1),"vibrate"in navigator&&navigator.vibrate(50);const v=document.createElement("div");v.className="theme-change-notification",v.textContent=`${t[p].name}`,v.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--brand-surface);
      color: var(--brand-text);
      padding: 12px 20px;
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-xl);
      z-index: 1000;
      font-size: 14px;
      font-weight: 500;
      border: 1px solid var(--border-color);
      animation: slideInRight 0.3s ease-out;
    `,document.body.appendChild(v),setTimeout(()=>{v.style.animation="slideInRight 0.3s ease-out reverse",setTimeout(()=>v.remove(),300)},2e3)},x=()=>{r(!i)};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"theme-switcher",children:[f.jsxs("button",{className:`theme-toggle-btn ${i?"expanded":""}`,onClick:x,"aria-label":"",title:"",children:[f.jsx("span",{className:"theme-icon",children:t[s].icon}),f.jsx("span",{className:"theme-indicator",children:f.jsx("span",{className:"theme-dot"})})]}),f.jsx("div",{className:`theme-options ${i?"expanded":""}`,children:Object.keys(t).map(p=>f.jsxs("div",{className:`theme-option theme-${p.replace("-","-")} ${s===p?"active":""}`,onClick:()=>g(p),onMouseEnter:()=>m(p),onMouseLeave:()=>m(null),role:"button",tabIndex:0,"aria-label":`${t[p].name}`,onKeyDown:v=>{(v.key==="Enter"||v.key===" ")&&(v.preventDefault(),g(p))},children:[f.jsx("div",{className:"theme-preview",children:f.jsx("span",{className:"theme-emoji",children:t[p].icon})}),o===p&&f.jsxs("div",{className:"theme-tooltip",children:[f.jsx("div",{className:"tooltip-title",children:t[p].name}),f.jsx("div",{className:"tooltip-desc",children:t[p].description})]})]},p))}),i&&f.jsx("div",{className:"theme-switcher-backdrop",onClick:()=>r(!1)})]}),f.jsx("style",{children:`
        .theme-switcher {
          position: fixed;
          top: 50%;
          right: 24px;
          transform: translateY(-50%);
          z-index: 100;
          display: flex;
          flex-direction: column;
          align-items: center;
        }

        .theme-toggle-btn {
          width: 56px;
          height: 56px;
          border-radius: 50%;
          border: 2px solid var(--border-color);
          background: var(--brand-surface);
          cursor: pointer;
          transition: all 0.3s ease;
          display: flex;
          align-items: center;
          justify-content: center;
          position: relative;
          box-shadow: var(--shadow-lg);
          backdrop-filter: blur(10px);
        }

        .theme-toggle-btn:hover {
          transform: scale(1.1);
          box-shadow: var(--shadow-xl);
          border-color: var(--brand-primary);
        }

        .theme-toggle-btn.expanded {
          transform: scale(1.1) rotate(180deg);
          border-color: var(--brand-primary);
        }

        .theme-icon {
          font-size: 24px;
          transition: transform 0.3s ease;
        }

        .theme-indicator {
          position: absolute;
          bottom: 4px;
          right: 4px;
          width: 12px;
          height: 12px;
          border-radius: 50%;
          background: var(--brand-surface-light);
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .theme-dot {
          width: 6px;
          height: 6px;
          border-radius: 50%;
          background: var(--brand-primary);
          animation: pulse 2s infinite;
        }

        .theme-options {
          position: absolute;
          bottom: 70px;
          right: 0;
          display: flex;
          flex-direction: column;
          gap: 12px;
          opacity: 0;
          visibility: hidden;
          transform: translateY(20px);
          transition: all 0.3s ease;
          pointer-events: none;
        }

        .theme-options.expanded {
          opacity: 1;
          visibility: visible;
          transform: translateY(0);
          pointer-events: all;
        }

        .theme-option {
          width: 48px;
          height: 48px;
          border-radius: 50%;
          border: 2px solid transparent;
          cursor: pointer;
          transition: all 0.2s ease;
          position: relative;
          overflow: hidden;
          box-shadow: var(--shadow-md);
          backdrop-filter: blur(10px);
        }

        .theme-option:hover {
          transform: scale(1.15);
          box-shadow: var(--shadow-lg);
        }

        .theme-option.active {
          border-color: var(--brand-primary);
          transform: scale(1.1);
          box-shadow: var(--shadow-xl);
        }

        .theme-preview {
          width: 100%;
          height: 100%;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 20px;
        }

        /*  */
        .theme-luxury-classic {
          background: linear-gradient(135deg, #1A1A1A, #2C2C2C);
          color: #D4AF37;
        }

        .theme-minimal-modern {  
          background: linear-gradient(135deg, #FFFFFF, #F9FAFB);
          color: #2563EB;
          border-color: #E5E7EB;
        }

        .theme-tech-future {
          background: linear-gradient(135deg, #0F0F23, #1E1B4B);
          color: #8B5CF6;
          position: relative;
        }

        .theme-tech-future::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(45deg, rgba(139, 92, 246, 0.2), rgba(6, 182, 212, 0.2));
          border-radius: inherit;
          opacity: 0;
          transition: opacity 0.3s ease;
        }

        .theme-tech-future:hover::before {
          opacity: 1;
        }

        .theme-tooltip {
          position: absolute;
          right: 60px;
          top: 50%;
          transform: translateY(-50%);
          background: var(--brand-surface);
          color: var(--brand-text);
          padding: 8px 12px;
          border-radius: var(--radius-md);
          box-shadow: var(--shadow-lg);
          border: 1px solid var(--border-color);
          white-space: nowrap;
          z-index: 1000;
          backdrop-filter: blur(10px);
        }

        .tooltip-title {
          font-weight: 600;
          font-size: 12px;
          margin-bottom: 2px;
        }

        .tooltip-desc {
          font-size: 10px;
          color: var(--brand-text-secondary);
          max-width: 150px;
        }

        .theme-switcher-backdrop {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          z-index: -1;
        }

        /*  */
        @media (max-width: 639px) {
          .theme-switcher {
            bottom: 24px;
            right: 24px;
            top: auto;
            transform: none;
            flex-direction: row;
            align-items: flex-end;
          }

          .theme-options {
            position: absolute;
            bottom: 0;
            right: 70px;
            flex-direction: row;
            gap: 8px;
          }

          .theme-toggle-btn {
            width: 48px;
            height: 48px;
          }

          .theme-option {
            width: 40px;
            height: 40px;
          }

          .theme-tooltip {
            display: none; /*  */
          }
        }

        /*  */
        :global([data-theme="tech-future"]) .theme-toggle-btn {
          background: linear-gradient(135deg, var(--brand-surface), var(--brand-surface-light));
          border-color: var(--brand-primary);
        }

        :global([data-theme="tech-future"]) .theme-toggle-btn:hover {
          box-shadow: 
            var(--shadow-xl),
            0 0 20px rgba(139, 92, 246, 0.3);
        }

        /*  */
        @keyframes slideInRight {
          from {
            opacity: 0;
            transform: translateX(100%);
          }
          to {
            opacity: 1; 
            transform: translateX(0);
          }
        }

        @keyframes pulse {
          0%, 100% { 
            opacity: 1; 
            transform: scale(1);
          }
          50% { 
            opacity: 0.7; 
            transform: scale(1.2);
          }
        }
      `})]})},ly={cart:[]},oy=w.createContext({state:ly,dispatch:()=>null,addItem:()=>{},removeItem:()=>{},updateQuantity:()=>{},clearCart:()=>{},cart:[],totalItems:0,totalPrice:0}),$b=(s,e)=>{switch(e.type){case"LOAD_CART":return{...s,cart:e.payload};case"ADD_ITEM":return s.cart.find(i=>i.id===e.payload.id)?{...s,cart:s.cart.map(i=>i.id===e.payload.id?{...i,quantity:i.quantity+1}:i)}:{...s,cart:[...s.cart,{...e.payload,quantity:1}]};case"REMOVE_ITEM":return{...s,cart:s.cart.filter(i=>i.id!==e.payload)};case"UPDATE_QUANTITY":return e.payload.quantity<=0?{...s,cart:s.cart.filter(i=>i.id!==e.payload.productId)}:{...s,cart:s.cart.map(i=>i.id===e.payload.productId?{...i,quantity:e.payload.quantity}:i)};case"CLEAR_CART":return{...s,cart:[]};default:return s}},Zb=({children:s})=>{const[e,t]=w.useReducer($b,ly);w.useEffect(()=>{const p=localStorage.getItem("chronoCraftCart");p&&t({type:"LOAD_CART",payload:JSON.parse(p)})},[]),w.useEffect(()=>{localStorage.setItem("chronoCraftCart",JSON.stringify(e.cart))},[e.cart]);const i=p=>t({type:"ADD_ITEM",payload:p}),r=p=>t({type:"REMOVE_ITEM",payload:p}),o=(p,v)=>t({type:"UPDATE_QUANTITY",payload:{productId:p,quantity:v}}),m=()=>t({type:"CLEAR_CART"}),g=e.cart.reduce((p,v)=>p+v.quantity,0),x=e.cart.reduce((p,v)=>p+v.price*v.quantity,0);return f.jsx(oy.Provider,{value:{state:e,dispatch:t,addItem:i,removeItem:r,updateQuantity:o,clearCart:m,cart:e.cart,totalItems:g,totalPrice:x},children:s})},Pi=()=>{const s=w.useContext(oy);if(s===void 0)throw new Error("useCart must be used within a CartProvider");return s},bc="API",nt={name:"SEAGULL",chineseName:"",tagline:"",logoSvg:f.jsx("img",{src:"./images/seagull-logo.png",alt:" SEAGULL Logo",width:"70",height:"50",className:"object-contain filter invert brightness-200"})},Kb="gemini-2.5-flash-preview-04-17",dp=[{name:"",path:"/"},{name:"",path:"/products"},{name:"",path:"/about"},{name:"",path:"/user-center"}],fc={company:[{name:"",path:"/about"},{name:"",path:"#"},{name:"",path:"#"}],support:[{name:"",path:"#"},{name:"",path:"#"},{name:"",path:"#"}],legal:[{name:"",path:"#"},{name:"",path:"#"}]},$c=({className:s})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s||"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})}),Jb=({className:s})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s||"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),Xb=({className:s})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s||"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),Qb=({className:s})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s||"w-6 h-6",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),Wb=({className:s})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s||"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),eT=({className:s})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s||"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 12h-15"})}),tT=({className:s})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s||"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12.56 0c1.153 0 2.24.03 3.22.077m3.22-.077L10.879 15.891m7.583-11.113a48.145 48.145 0 0 1-3.478-.397m1.932 0c-.427-.042-.855-.073-1.287-.097M6.375 5.79c-1.256.365-2.313.8-3.218 1.227m13.935 0c.906-.428 1.962-.863 3.218-1.227"})}),nT=({className:s})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s||"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 14.25l-1.25-2.25L13.5 11l2.25-1.25L17 7.5l1.25 2.25L20.5 11l-2.25 1.25z"})}),aT=()=>{const{cart:s}=Pi(),{user:e,isAuthenticated:t}=da(),[i,r]=w.useState(!1),o=s.reduce((m,g)=>m+g.quantity,0);return f.jsxs("header",{className:"bg-brand-surface shadow-lg sticky top-0 z-50",children:[f.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[f.jsxs(oe,{to:"/",className:"flex items-center space-x-2",children:[nt.logoSvg,f.jsx("span",{className:"text-2xl font-serif font-bold text-brand-text tracking-tight",children:nt.name})]}),f.jsx("nav",{className:"hidden md:flex space-x-6 items-center",children:dp.map(m=>f.jsx(xc,{to:m.path,className:({isActive:g})=>`text-brand-text-secondary hover:text-brand-primary transition-colors duration-200 ${g?"text-brand-primary font-semibold":""}`,children:m.name},m.name))}),f.jsxs("div",{className:"flex items-center space-x-4",children:[t&&e?f.jsx("div",{className:"flex items-center space-x-3",children:f.jsxs(oe,{to:"/user-center",className:"text-brand-text-secondary hover:text-brand-primary transition-colors duration-200 flex items-center space-x-1",children:[f.jsx("span",{children:""}),f.jsxs("span",{children:["",e.name.length>6?e.name.substring(0,6)+"...":e.name]})]})}):f.jsxs("div",{className:"hidden md:flex items-center space-x-3",children:[f.jsx(oe,{to:"/login",className:"text-brand-text-secondary hover:text-brand-primary transition-colors duration-200",children:""}),f.jsx(oe,{to:"/register",className:"bg-brand-primary text-brand-bg px-3 py-1 rounded-md text-sm hover:bg-brand-primary-dark transition-colors",children:""})]}),f.jsxs(oe,{to:"/cart",className:"relative text-brand-text-secondary hover:text-brand-primary transition-colors duration-200",children:[f.jsx($c,{className:"w-6 h-6"}),o>0&&f.jsx("span",{className:"absolute -top-2 -right-2 bg-brand-primary text-brand-bg text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold",children:o})]}),f.jsx("div",{className:"md:hidden",children:f.jsx("button",{onClick:()=>r(!i),className:"text-brand-text-secondary hover:text-brand-primary focus:outline-none",children:i?f.jsx(Xb,{className:"w-6 h-6"}):f.jsx(Jb,{className:"w-6 h-6"})})})]})]}),i&&f.jsx("div",{className:"md:hidden bg-brand-surface border-t border-gray-700",children:f.jsxs("nav",{className:"flex flex-col space-y-1 px-4 py-3",children:[dp.map(m=>f.jsx(xc,{to:m.path,onClick:()=>r(!1),className:({isActive:g})=>`block px-3 py-2 rounded-md text-base font-medium ${g?"bg-brand-primary text-brand-bg":"text-brand-text-secondary hover:bg-gray-700 hover:text-brand-primary"}`,children:m.name},m.name)),f.jsx("div",{className:"border-t border-gray-700 pt-3 mt-3",children:t&&e?f.jsx(f.Fragment,{children:f.jsx(oe,{to:"/user-center",onClick:()=>r(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-brand-text-secondary hover:bg-gray-700 hover:text-brand-primary",children:" "})}):f.jsxs(f.Fragment,{children:[f.jsx(oe,{to:"/login",onClick:()=>r(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-brand-text-secondary hover:bg-gray-700 hover:text-brand-primary",children:""}),f.jsx(oe,{to:"/register",onClick:()=>r(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-brand-text-secondary hover:bg-gray-700 hover:text-brand-primary",children:""})]})})]})})]})},iT=()=>f.jsx("footer",{className:"bg-brand-surface border-t border-gray-700 text-brand-text-secondary",children:f.jsxs("div",{className:"container mx-auto px-4 py-12",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-8",children:[f.jsxs("div",{className:"col-span-1 md:col-span-2 lg:col-span-1",children:[f.jsxs(oe,{to:"/",className:"flex items-center space-x-2 mb-4",children:[nt.logoSvg,f.jsx("span",{className:"text-xl font-serif font-bold text-brand-text",children:nt.name})]}),f.jsx("p",{className:"text-sm",children:nt.tagline}),f.jsx("p",{className:"text-sm mt-1",children:nt.chineseName})]}),f.jsxs("div",{children:[f.jsx("h5",{className:"font-semibold text-brand-text mb-3",children:"Company"}),f.jsx("ul",{className:"space-y-2",children:fc.company.map(s=>f.jsx("li",{children:f.jsx(oe,{to:s.path,className:"hover:text-brand-primary transition-colors text-sm",children:s.name})},s.name))})]}),f.jsxs("div",{children:[f.jsx("h5",{className:"font-semibold text-brand-text mb-3",children:"Support"}),f.jsx("ul",{className:"space-y-2",children:fc.support.map(s=>f.jsx("li",{children:f.jsx(oe,{to:s.path,className:"hover:text-brand-primary transition-colors text-sm",children:s.name})},s.name))})]}),f.jsxs("div",{children:[f.jsx("h5",{className:"font-semibold text-brand-text mb-3",children:"Legal"}),f.jsx("ul",{className:"space-y-2",children:fc.legal.map(s=>f.jsx("li",{children:f.jsx(oe,{to:s.path,className:"hover:text-brand-primary transition-colors text-sm",children:s.name})},s.name))})]})]}),f.jsxs("div",{className:"border-t border-gray-700 pt-8 text-center",children:[f.jsxs("p",{className:"text-sm",children:[" ",new Date().getFullYear()," ",nt.chineseName,". ."]}),f.jsx("p",{className:"text-xs mt-1",children:" | 1955"})]})]})}),sT=()=>f.jsxs("div",{className:"relative bg-brand-surface text-brand-text py-20 md:py-32 rounded-lg shadow-2xl overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-30",style:{backgroundImage:"url('images/seagull_hero_banner_1963pilot_main.jpg')"}}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-brand-bg via-brand-bg/80 to-transparent"}),f.jsxs("div",{className:"container mx-auto px-6 relative z-10 text-center",children:[f.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-serif font-bold text-brand-text mb-6 leading-tight",children:[nt.chineseName,": ",f.jsx("span",{className:"text-brand-primary",children:nt.tagline})]}),f.jsx("p",{className:"text-lg md:text-xl text-brand-text-secondary mb-10 max-w-2xl mx-auto",children:"195570"}),f.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-6",children:[f.jsx(oe,{to:"/products",className:"bg-brand-primary text-brand-bg font-semibold py-3 px-8 rounded-md text-lg hover:bg-brand-primary-dark transition-colors duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:""}),f.jsx(oe,{to:"/about",className:"border-2 border-brand-primary text-brand-primary font-semibold py-3 px-8 rounded-md text-lg hover:bg-brand-primary hover:text-brand-bg transition-colors duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:""})]})]})]}),uy=({product:s,onAddToCart:e})=>f.jsxs("div",{className:"bg-brand-surface rounded-lg shadow-xl overflow-hidden transition-all duration-300 hover:shadow-2xl group flex flex-col",children:[f.jsx(oe,{to:`/products/${s.id}`,className:"block",children:f.jsxs("div",{className:"relative aspect-w-1 aspect-h-1 w-full overflow-hidden",children:[f.jsx("img",{src:s.imageUrl||`https://picsum.photos/seed/${s.id}/400/400`,alt:s.name,className:"w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-300"}),f.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20 group-hover:bg-opacity-10 transition-opacity duration-300 flex items-center justify-center opacity-0 group-hover:opacity-100",children:f.jsx(Qb,{className:"w-12 h-12 text-white opacity-80"})})]})}),f.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[f.jsx(oe,{to:`/products/${s.id}`,className:"block",children:f.jsx("h3",{className:"text-xl font-serif font-semibold text-brand-text group-hover:text-brand-primary transition-colors duration-200 truncate",title:s.name,children:s.name})}),f.jsx("p",{className:"text-sm text-brand-text-secondary mt-1",children:s.category}),f.jsxs("p",{className:"text-2xl font-semibold text-brand-primary mt-2 flex-grow",children:["",s.price.toLocaleString()]}),f.jsx("div",{className:"mt-4",children:f.jsxs("button",{onClick:()=>e(s),className:"w-full bg-brand-primary text-brand-bg font-semibold py-3 px-4 rounded-md hover:bg-brand-primary-dark transition-colors duration-200 flex items-center justify-center space-x-2",children:[f.jsx($c,{className:"w-5 h-5"}),f.jsx("span",{children:""})]})})]})]}),Nl=({size:s="md",message:e})=>{const t={sm:"w-6 h-6 border-2",md:"w-10 h-10 border-4",lg:"w-16 h-16 border-4"};return f.jsxs("div",{className:"flex flex-col items-center justify-center p-4",children:[f.jsx("div",{className:`animate-spin rounded-full border-brand-primary border-t-transparent ${t[s]}`}),e&&f.jsx("p",{className:"mt-3 text-brand-text-secondary",children:e})]})};var Wt=(s=>(s.LUXURY="",s.SPORTS="",s.CLASSIC="",s.MINIMALIST="",s))(Wt||{}),Ne=(s=>(s.ALIPAY="alipay",s.WECHAT="wechat",s.BANK_TRANSFER="bank",s))(Ne||{}),ee=(s=>(s.PENDING="pending",s.PAID="paid",s.PROCESSING="processing",s.SHIPPED="shipped",s.DELIVERED="delivered",s.CANCELLED="cancelled",s))(ee||{});const un=Qt.getInstance(),cy={luxury:Wt.LUXURY,sports:Wt.SPORTS,classic:Wt.CLASSIC,minimalist:Wt.MINIMALIST},rT={[Wt.LUXURY]:"luxury",[Wt.SPORTS]:"sports",[Wt.CLASSIC]:"classic",[Wt.MINIMALIST]:"minimalist"};function Bs(s,e){return{id:s.id,name:s.name,brand:s.brand,price:s.price,imageUrl:s.images[0]||"",galleryImages:s.images,description:s.description,shortDescription:s.short_description||"",features:s.tags,category:cy[e]||Wt.LUXURY,stock:s.stock_quantity,sku:s.sku}}const Zs={getProducts:async s=>{try{console.log(":",s);const e=await un.findCategories();console.log(":",e.length);let t=[];if(s){const i=rT[s];console.log("slug:",i);const r=e.find(o=>o.slug===i);if(console.log(":",r==null?void 0:r.name),r){const o=await un.findProductsByCategory(r.id);console.log(":",o.length),t=o.filter(m=>m.status==="active").map(m=>Bs(m,r.slug))}}else{const i=await un.findProducts({where:[{field:"status",operator:"=",value:"active"}]});console.log(":",i.length),t=[];for(const r of i){const o=e.find(m=>m.id===r.category_id);o&&t.push(Bs(r,o.slug))}}return console.log(":",t.length),t}catch(e){return console.error(":",e),[]}},getProductById:async s=>{try{const e=await un.findProductById(s);if(!e||e.status!=="active")return;const i=(await un.findCategories()).find(r=>r.id===e.category_id);return i?Bs(e,i.slug):void 0}catch(e){console.error(":",e);return}},getProductCategories:async()=>{try{return(await un.findCategories({where:[{field:"status",operator:"=",value:"active"}]})).map(t=>cy[t.slug]).filter(t=>t!==void 0)}catch(s){return console.error(":",s),[]}},searchProducts:async s=>{try{const e=await un.searchProducts(s,{where:[{field:"status",operator:"=",value:"active"}]}),t=await un.findCategories(),i=[];for(const r of e){const o=t.find(m=>m.id===r.category_id);o&&i.push(Bs(r,o.slug))}return i}catch(e){return console.error(":",e),[]}},getFeaturedProducts:async()=>{try{const s=await un.findProducts({where:[{field:"status",operator:"=",value:"active"},{field:"is_featured",operator:"=",value:!0}]}),e=await un.findCategories(),t=[];for(const i of s){const r=e.find(o=>o.id===i.category_id);r&&t.push(Bs(i,r.slug))}return t}catch(s){return console.error(":",s),[]}}},lT=()=>{const[s,e]=w.useState([]),[t,i]=w.useState(!0),{addItem:r}=Pi();w.useEffect(()=>{(async()=>{i(!0);try{const g=await Zs.getFeaturedProducts();if(g.length===0){const x=await Zs.getProducts();e(x.slice(0,3))}else e(g.slice(0,3))}catch(g){console.error("Failed to fetch featured products:",g)}finally{i(!1)}})()},[]);const o=m=>{r(m)};return f.jsxs("div",{className:"space-y-16",children:[f.jsx(sT,{}),f.jsxs("section",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-8",children:[f.jsx("h2",{className:"text-3xl font-serif font-semibold text-brand-text",children:""}),f.jsx(oe,{to:"/products",className:"text-brand-primary hover:text-brand-primary-dark font-medium transition-colors",children:" "})]}),t?f.jsx(Nl,{message:"..."}):s.length>0?f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:s.map((m,g)=>f.jsx(uy,{product:m,onAddToCart:o},`featured-${m.id}-${g}`))}):f.jsx("p",{className:"text-brand-text-secondary text-center",children:""})]}),f.jsx("section",{className:"bg-brand-surface p-10 rounded-lg shadow-xl",children:f.jsxs("div",{className:"grid md:grid-cols-2 gap-10 items-center",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-3xl font-serif font-semibold text-brand-text mb-4",children:[nt.chineseName,""]}),f.jsxs("p",{className:"text-brand-text-secondary mb-4 leading-relaxed",children:["",nt.chineseName,""]}),f.jsx("p",{className:"text-brand-text-secondary mb-6 leading-relaxed",children:"70"}),f.jsx(oe,{to:"/about",className:"inline-block bg-brand-primary text-brand-bg font-semibold py-3 px-6 rounded-md hover:bg-brand-primary-dark transition-colors duration-300",children:""})]}),f.jsx("div",{className:"aspect-w-16 aspect-h-9 rounded-lg overflow-hidden",children:f.jsx("img",{src:"./images/seagull_team_main.jpg",alt:"",className:"object-cover w-full h-full"})})]})}),f.jsxs("section",{children:[f.jsx("h2",{className:"text-3xl font-serif font-semibold text-brand-text text-center mb-8",children:""}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:Object.values(Wt).map(m=>f.jsxs(oe,{to:`/products?category=${encodeURIComponent(m)}`,className:"block p-8 bg-brand-surface rounded-lg shadow-lg hover:shadow-xl hover:bg-gray-700 transition-all duration-300 text-center group",children:[f.jsx("h3",{className:"text-xl font-semibold text-brand-text group-hover:text-brand-primary transition-colors",children:m}),f.jsxs("p",{className:"text-sm text-brand-text-secondary mt-2",children:["",m,""]})]},m))})]})]})},oT=()=>{const[s,e]=w.useState([]),[t,i]=w.useState(!0),[r,o]=jb(),[m,g]=w.useState([]),[x,p]=w.useState(Date.now()),v=r.get("category"),{addItem:C}=Pi();w.useEffect(()=>{(async()=>{try{const M=await Zs.getProductCategories(),I=Array.from(new Set(M));g(I)}catch(M){console.error(":",M)}})()},[]);const b=w.useCallback(async()=>{i(!0);try{console.log(":",v);const E=await Zs.getProducts(v||void 0);console.log(":",E.length);const M=E.filter((I,j,B)=>j===B.findIndex(Z=>Z.id===I.id));console.log(":",M.length),e(M),p(Date.now())}catch(E){console.error(":",E),e([])}finally{i(!1)}},[v]);w.useEffect(()=>{console.log(""),b()},[v,b]),w.useEffect(()=>{console.log(":",x)},[x]);const S=E=>{console.log(":",E),o(E?{category:E}:{})},N=E=>{C(E)};return f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-4xl font-serif font-bold text-brand-text mb-2",children:v||""}),f.jsx("p",{className:"text-brand-text-secondary max-w-xl mx-auto",children:""})]}),f.jsxs("div",{className:"flex flex-wrap justify-center gap-3 mb-8 p-4 bg-brand-surface rounded-lg shadow-md",children:[f.jsx("button",{onClick:()=>S(null),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200 ${v?"bg-gray-600 text-brand-text-secondary hover:bg-gray-500":"bg-brand-primary text-brand-bg"}`,children:""}),m.map(E=>f.jsx("button",{onClick:()=>S(E),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200 ${v===E?"bg-brand-primary text-brand-bg":"bg-gray-600 text-brand-text-secondary hover:bg-gray-500"}`,children:E},E))]}),t?f.jsx("div",{className:"flex justify-center items-center py-12",children:f.jsx(Nl,{})}):s.length>0?f.jsxs(f.Fragment,{children:[(()=>{const E=s.map(I=>I.id),M=E.filter((I,j)=>E.indexOf(I)!==j);return M.length>0&&(console.warn("ID:",M),console.warn("ID:",E)),null})(),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:s.map((E,M)=>f.jsx(uy,{product:E,onAddToCart:()=>N(E)},`${E.id}-${M}`))},x)]}):f.jsx("div",{className:"text-center py-12",children:f.jsx("p",{className:"text-brand-text-secondary",children:""})})]})};var De;(function(s){s.assertEqual=r=>{};function e(r){}s.assertIs=e;function t(r){throw new Error}s.assertNever=t,s.arrayToEnum=r=>{const o={};for(const m of r)o[m]=m;return o},s.getValidEnumValues=r=>{const o=s.objectKeys(r).filter(g=>typeof r[r[g]]!="number"),m={};for(const g of o)m[g]=r[g];return s.objectValues(m)},s.objectValues=r=>s.objectKeys(r).map(function(o){return r[o]}),s.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const o=[];for(const m in r)Object.prototype.hasOwnProperty.call(r,m)&&o.push(m);return o},s.find=(r,o)=>{for(const m of r)if(o(m))return m},s.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&Number.isFinite(r)&&Math.floor(r)===r;function i(r,o=" | "){return r.map(m=>typeof m=="string"?`'${m}'`:m).join(o)}s.joinValues=i,s.jsonStringifyReplacer=(r,o)=>typeof o=="bigint"?o.toString():o})(De||(De={}));var fp;(function(s){s.mergeShapes=(e,t)=>({...e,...t})})(fp||(fp={}));const se=De.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),la=s=>{switch(typeof s){case"undefined":return se.undefined;case"string":return se.string;case"number":return Number.isNaN(s)?se.nan:se.number;case"boolean":return se.boolean;case"function":return se.function;case"bigint":return se.bigint;case"symbol":return se.symbol;case"object":return Array.isArray(s)?se.array:s===null?se.null:s.then&&typeof s.then=="function"&&s.catch&&typeof s.catch=="function"?se.promise:typeof Map<"u"&&s instanceof Map?se.map:typeof Set<"u"&&s instanceof Set?se.set:typeof Date<"u"&&s instanceof Date?se.date:se.object;default:return se.unknown}},$=De.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class In extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(o){return o.message},i={_errors:[]},r=o=>{for(const m of o.issues)if(m.code==="invalid_union")m.unionErrors.map(r);else if(m.code==="invalid_return_type")r(m.returnTypeError);else if(m.code==="invalid_arguments")r(m.argumentsError);else if(m.path.length===0)i._errors.push(t(m));else{let g=i,x=0;for(;x<m.path.length;){const p=m.path[x];x===m.path.length-1?(g[p]=g[p]||{_errors:[]},g[p]._errors.push(t(m))):g[p]=g[p]||{_errors:[]},g=g[p],x++}}};return r(this),i}static assert(e){if(!(e instanceof In))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,De.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},i=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):i.push(e(r));return{formErrors:i,fieldErrors:t}}get formErrors(){return this.flatten()}}In.create=s=>new In(s);const Tc=(s,e)=>{let t;switch(s.code){case $.invalid_type:s.received===se.undefined?t="Required":t=`Expected ${s.expected}, received ${s.received}`;break;case $.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(s.expected,De.jsonStringifyReplacer)}`;break;case $.unrecognized_keys:t=`Unrecognized key(s) in object: ${De.joinValues(s.keys,", ")}`;break;case $.invalid_union:t="Invalid input";break;case $.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${De.joinValues(s.options)}`;break;case $.invalid_enum_value:t=`Invalid enum value. Expected ${De.joinValues(s.options)}, received '${s.received}'`;break;case $.invalid_arguments:t="Invalid function arguments";break;case $.invalid_return_type:t="Invalid function return type";break;case $.invalid_date:t="Invalid date";break;case $.invalid_string:typeof s.validation=="object"?"includes"in s.validation?(t=`Invalid input: must include "${s.validation.includes}"`,typeof s.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${s.validation.position}`)):"startsWith"in s.validation?t=`Invalid input: must start with "${s.validation.startsWith}"`:"endsWith"in s.validation?t=`Invalid input: must end with "${s.validation.endsWith}"`:De.assertNever(s.validation):s.validation!=="regex"?t=`Invalid ${s.validation}`:t="Invalid";break;case $.too_small:s.type==="array"?t=`Array must contain ${s.exact?"exactly":s.inclusive?"at least":"more than"} ${s.minimum} element(s)`:s.type==="string"?t=`String must contain ${s.exact?"exactly":s.inclusive?"at least":"over"} ${s.minimum} character(s)`:s.type==="number"?t=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="date"?t=`Date must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(s.minimum))}`:t="Invalid input";break;case $.too_big:s.type==="array"?t=`Array must contain ${s.exact?"exactly":s.inclusive?"at most":"less than"} ${s.maximum} element(s)`:s.type==="string"?t=`String must contain ${s.exact?"exactly":s.inclusive?"at most":"under"} ${s.maximum} character(s)`:s.type==="number"?t=`Number must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="bigint"?t=`BigInt must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="date"?t=`Date must be ${s.exact?"exactly":s.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(s.maximum))}`:t="Invalid input";break;case $.custom:t="Invalid input";break;case $.invalid_intersection_types:t="Intersection results could not be merged";break;case $.not_multiple_of:t=`Number must be a multiple of ${s.multipleOf}`;break;case $.not_finite:t="Number must be finite";break;default:t=e.defaultError,De.assertNever(s)}return{message:t}};let uT=Tc;function cT(){return uT}const dT=s=>{const{data:e,path:t,errorMaps:i,issueData:r}=s,o=[...t,...r.path||[]],m={...r,path:o};if(r.message!==void 0)return{...r,path:o,message:r.message};let g="";const x=i.filter(p=>!!p).slice().reverse();for(const p of x)g=p(m,{data:e,defaultError:g}).message;return{...r,path:o,message:g}};function W(s,e){const t=cT(),i=dT({issueData:e,data:s.data,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,t,t===Tc?void 0:Tc].filter(r=>!!r)});s.common.issues.push(i)}class xt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const i=[];for(const r of t){if(r.status==="aborted")return ye;r.status==="dirty"&&e.dirty(),i.push(r.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,t){const i=[];for(const r of t){const o=await r.key,m=await r.value;i.push({key:o,value:m})}return xt.mergeObjectSync(e,i)}static mergeObjectSync(e,t){const i={};for(const r of t){const{key:o,value:m}=r;if(o.status==="aborted"||m.status==="aborted")return ye;o.status==="dirty"&&e.dirty(),m.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof m.value<"u"||r.alwaysSet)&&(i[o.value]=m.value)}return{status:e.value,value:i}}}const ye=Object.freeze({status:"aborted"}),zs=s=>({status:"dirty",value:s}),Zt=s=>({status:"valid",value:s}),mp=s=>s.status==="aborted",hp=s=>s.status==="dirty",Mi=s=>s.status==="valid",El=s=>typeof Promise<"u"&&s instanceof Promise;var re;(function(s){s.errToObj=e=>typeof e=="string"?{message:e}:e||{},s.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(re||(re={}));class fn{constructor(e,t,i,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=i,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const pp=(s,e)=>{if(Mi(e))return{success:!0,data:e.value};if(!s.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new In(s.common.issues);return this._error=t,this._error}}};function be(s){if(!s)return{};const{errorMap:e,invalid_type_error:t,required_error:i,description:r}=s;if(e&&(t||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(m,g)=>{const{message:x}=s;return m.code==="invalid_enum_value"?{message:x??g.defaultError}:typeof g.data>"u"?{message:x??i??g.defaultError}:m.code!=="invalid_type"?{message:g.defaultError}:{message:x??t??g.defaultError}},description:r}}class Ee{get description(){return this._def.description}_getType(e){return la(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:la(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new xt,ctx:{common:e.parent.common,data:e.data,parsedType:la(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(El(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const i=this.safeParse(e,t);if(i.success)return i.data;throw i.error}safeParse(e,t){const i={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:la(e)},r=this._parseSync({data:e,path:i.path,parent:i});return pp(i,r)}"~validate"(e){var i,r;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:la(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:t});return Mi(o)?{value:o.value}:{issues:t.common.issues}}catch(o){(r=(i=o==null?void 0:o.message)==null?void 0:i.toLowerCase())!=null&&r.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(o=>Mi(o)?{value:o.value}:{issues:t.common.issues})}async parseAsync(e,t){const i=await this.safeParseAsync(e,t);if(i.success)return i.data;throw i.error}async safeParseAsync(e,t){const i={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:la(e)},r=this._parse({data:e,path:i.path,parent:i}),o=await(El(r)?r:Promise.resolve(r));return pp(i,o)}refine(e,t){const i=r=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(r):t;return this._refinement((r,o)=>{const m=e(r),g=()=>o.addIssue({code:$.custom,...i(r)});return typeof Promise<"u"&&m instanceof Promise?m.then(x=>x?!0:(g(),!1)):m?!0:(g(),!1)})}refinement(e,t){return this._refinement((i,r)=>e(i)?!0:(r.addIssue(typeof t=="function"?t(i,r):t),!1))}_refinement(e){return new Ii({schema:this,typeName:ge.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return oa.create(this,this._def)}nullable(){return ki.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return dn.create(this)}promise(){return Dl.create(this,this._def)}or(e){return wl.create([this,e],this._def)}and(e){return Ml.create(this,e,this._def)}transform(e){return new Ii({...be(this._def),schema:this,typeName:ge.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Nc({...be(this._def),innerType:this,defaultValue:t,typeName:ge.ZodDefault})}brand(){return new UT({typeName:ge.ZodBranded,type:this,...be(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Ec({...be(this._def),innerType:this,catchValue:t,typeName:ge.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Zc.create(this,e)}readonly(){return Ac.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const fT=/^c[^\s-]{8,}$/i,mT=/^[0-9a-z]+$/,hT=/^[0-9A-HJKMNP-TV-Z]{26}$/i,pT=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,gT=/^[a-z0-9_-]{21}$/i,yT=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,xT=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,vT=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,bT="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let mc;const TT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,CT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,_T=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ST=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,NT=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ET=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,dy="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",AT=new RegExp(`^${dy}$`);function fy(s){let e="[0-5]\\d";s.precision?e=`${e}\\.\\d{${s.precision}}`:s.precision==null&&(e=`${e}(\\.\\d+)?`);const t=s.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function wT(s){return new RegExp(`^${fy(s)}$`)}function MT(s){let e=`${dy}T${fy(s)}`;const t=[];return t.push(s.local?"Z?":"Z"),s.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function RT(s,e){return!!((e==="v4"||!e)&&TT.test(s)||(e==="v6"||!e)&&_T.test(s))}function DT(s,e){if(!yT.test(s))return!1;try{const[t]=s.split("."),i=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),r=JSON.parse(atob(i));return!(typeof r!="object"||r===null||"typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||e&&r.alg!==e)}catch{return!1}}function IT(s,e){return!!((e==="v4"||!e)&&CT.test(s)||(e==="v6"||!e)&&ST.test(s))}class cn extends Ee{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==se.string){const o=this._getOrReturnCtx(e);return W(o,{code:$.invalid_type,expected:se.string,received:o.parsedType}),ye}const i=new xt;let r;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(r=this._getOrReturnCtx(e,r),W(r,{code:$.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="max")e.data.length>o.value&&(r=this._getOrReturnCtx(e,r),W(r,{code:$.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="length"){const m=e.data.length>o.value,g=e.data.length<o.value;(m||g)&&(r=this._getOrReturnCtx(e,r),m?W(r,{code:$.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):g&&W(r,{code:$.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),i.dirty())}else if(o.kind==="email")vT.test(e.data)||(r=this._getOrReturnCtx(e,r),W(r,{validation:"email",code:$.invalid_string,message:o.message}),i.dirty());else if(o.kind==="emoji")mc||(mc=new RegExp(bT,"u")),mc.test(e.data)||(r=this._getOrReturnCtx(e,r),W(r,{validation:"emoji",code:$.invalid_string,message:o.message}),i.dirty());else if(o.kind==="uuid")pT.test(e.data)||(r=this._getOrReturnCtx(e,r),W(r,{validation:"uuid",code:$.invalid_string,message:o.message}),i.dirty());else if(o.kind==="nanoid")gT.test(e.data)||(r=this._getOrReturnCtx(e,r),W(r,{validation:"nanoid",code:$.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid")fT.test(e.data)||(r=this._getOrReturnCtx(e,r),W(r,{validation:"cuid",code:$.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid2")mT.test(e.data)||(r=this._getOrReturnCtx(e,r),W(r,{validation:"cuid2",code:$.invalid_string,message:o.message}),i.dirty());else if(o.kind==="ulid")hT.test(e.data)||(r=this._getOrReturnCtx(e,r),W(r,{validation:"ulid",code:$.invalid_string,message:o.message}),i.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),W(r,{validation:"url",code:$.invalid_string,message:o.message}),i.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),W(r,{validation:"regex",code:$.invalid_string,message:o.message}),i.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(r=this._getOrReturnCtx(e,r),W(r,{code:$.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),i.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(r=this._getOrReturnCtx(e,r),W(r,{code:$.invalid_string,validation:{startsWith:o.value},message:o.message}),i.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(r=this._getOrReturnCtx(e,r),W(r,{code:$.invalid_string,validation:{endsWith:o.value},message:o.message}),i.dirty()):o.kind==="datetime"?MT(o).test(e.data)||(r=this._getOrReturnCtx(e,r),W(r,{code:$.invalid_string,validation:"datetime",message:o.message}),i.dirty()):o.kind==="date"?AT.test(e.data)||(r=this._getOrReturnCtx(e,r),W(r,{code:$.invalid_string,validation:"date",message:o.message}),i.dirty()):o.kind==="time"?wT(o).test(e.data)||(r=this._getOrReturnCtx(e,r),W(r,{code:$.invalid_string,validation:"time",message:o.message}),i.dirty()):o.kind==="duration"?xT.test(e.data)||(r=this._getOrReturnCtx(e,r),W(r,{validation:"duration",code:$.invalid_string,message:o.message}),i.dirty()):o.kind==="ip"?RT(e.data,o.version)||(r=this._getOrReturnCtx(e,r),W(r,{validation:"ip",code:$.invalid_string,message:o.message}),i.dirty()):o.kind==="jwt"?DT(e.data,o.alg)||(r=this._getOrReturnCtx(e,r),W(r,{validation:"jwt",code:$.invalid_string,message:o.message}),i.dirty()):o.kind==="cidr"?IT(e.data,o.version)||(r=this._getOrReturnCtx(e,r),W(r,{validation:"cidr",code:$.invalid_string,message:o.message}),i.dirty()):o.kind==="base64"?NT.test(e.data)||(r=this._getOrReturnCtx(e,r),W(r,{validation:"base64",code:$.invalid_string,message:o.message}),i.dirty()):o.kind==="base64url"?ET.test(e.data)||(r=this._getOrReturnCtx(e,r),W(r,{validation:"base64url",code:$.invalid_string,message:o.message}),i.dirty()):De.assertNever(o);return{status:i.value,value:e.data}}_regex(e,t,i){return this.refinement(r=>e.test(r),{validation:t,code:$.invalid_string,...re.errToObj(i)})}_addCheck(e){return new cn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...re.errToObj(e)})}url(e){return this._addCheck({kind:"url",...re.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...re.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...re.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...re.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...re.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...re.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...re.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...re.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...re.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...re.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...re.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...re.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...re.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...re.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...re.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...re.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...re.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...re.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...re.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...re.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...re.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...re.errToObj(t)})}nonempty(e){return this.min(1,re.errToObj(e))}trim(){return new cn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new cn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new cn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}cn.create=s=>new cn({checks:[],typeName:ge.ZodString,coerce:(s==null?void 0:s.coerce)??!1,...be(s)});function kT(s,e){const t=(s.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,r=t>i?t:i,o=Number.parseInt(s.toFixed(r).replace(".","")),m=Number.parseInt(e.toFixed(r).replace(".",""));return o%m/10**r}class Ua extends Ee{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==se.number){const o=this._getOrReturnCtx(e);return W(o,{code:$.invalid_type,expected:se.number,received:o.parsedType}),ye}let i;const r=new xt;for(const o of this._def.checks)o.kind==="int"?De.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),W(i,{code:$.invalid_type,expected:"integer",received:"float",message:o.message}),r.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),W(i,{code:$.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),r.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),W(i,{code:$.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),r.dirty()):o.kind==="multipleOf"?kT(e.data,o.value)!==0&&(i=this._getOrReturnCtx(e,i),W(i,{code:$.not_multiple_of,multipleOf:o.value,message:o.message}),r.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),W(i,{code:$.not_finite,message:o.message}),r.dirty()):De.assertNever(o);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,re.toString(t))}gt(e,t){return this.setLimit("min",e,!1,re.toString(t))}lte(e,t){return this.setLimit("max",e,!0,re.toString(t))}lt(e,t){return this.setLimit("max",e,!1,re.toString(t))}setLimit(e,t,i,r){return new Ua({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:re.toString(r)}]})}_addCheck(e){return new Ua({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:re.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:re.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:re.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:re.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:re.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:re.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&De.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(t===null||i.value>t)&&(t=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Ua.create=s=>new Ua({checks:[],typeName:ge.ZodNumber,coerce:(s==null?void 0:s.coerce)||!1,...be(s)});class La extends Ee{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==se.bigint)return this._getInvalidInput(e);let i;const r=new xt;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),W(i,{code:$.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),r.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),W(i,{code:$.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),r.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),W(i,{code:$.not_multiple_of,multipleOf:o.value,message:o.message}),r.dirty()):De.assertNever(o);return{status:r.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return W(t,{code:$.invalid_type,expected:se.bigint,received:t.parsedType}),ye}gte(e,t){return this.setLimit("min",e,!0,re.toString(t))}gt(e,t){return this.setLimit("min",e,!1,re.toString(t))}lte(e,t){return this.setLimit("max",e,!0,re.toString(t))}lt(e,t){return this.setLimit("max",e,!1,re.toString(t))}setLimit(e,t,i,r){return new La({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:re.toString(r)}]})}_addCheck(e){return new La({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:re.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:re.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}La.create=s=>new La({checks:[],typeName:ge.ZodBigInt,coerce:(s==null?void 0:s.coerce)??!1,...be(s)});class Al extends Ee{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==se.boolean){const i=this._getOrReturnCtx(e);return W(i,{code:$.invalid_type,expected:se.boolean,received:i.parsedType}),ye}return Zt(e.data)}}Al.create=s=>new Al({typeName:ge.ZodBoolean,coerce:(s==null?void 0:s.coerce)||!1,...be(s)});class Ri extends Ee{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==se.date){const o=this._getOrReturnCtx(e);return W(o,{code:$.invalid_type,expected:se.date,received:o.parsedType}),ye}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return W(o,{code:$.invalid_date}),ye}const i=new xt;let r;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(r=this._getOrReturnCtx(e,r),W(r,{code:$.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),i.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(r=this._getOrReturnCtx(e,r),W(r,{code:$.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),i.dirty()):De.assertNever(o);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ri({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:re.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:re.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Ri.create=s=>new Ri({checks:[],coerce:(s==null?void 0:s.coerce)||!1,typeName:ge.ZodDate,...be(s)});class gp extends Ee{_parse(e){if(this._getType(e)!==se.symbol){const i=this._getOrReturnCtx(e);return W(i,{code:$.invalid_type,expected:se.symbol,received:i.parsedType}),ye}return Zt(e.data)}}gp.create=s=>new gp({typeName:ge.ZodSymbol,...be(s)});class yp extends Ee{_parse(e){if(this._getType(e)!==se.undefined){const i=this._getOrReturnCtx(e);return W(i,{code:$.invalid_type,expected:se.undefined,received:i.parsedType}),ye}return Zt(e.data)}}yp.create=s=>new yp({typeName:ge.ZodUndefined,...be(s)});class xp extends Ee{_parse(e){if(this._getType(e)!==se.null){const i=this._getOrReturnCtx(e);return W(i,{code:$.invalid_type,expected:se.null,received:i.parsedType}),ye}return Zt(e.data)}}xp.create=s=>new xp({typeName:ge.ZodNull,...be(s)});class vp extends Ee{constructor(){super(...arguments),this._any=!0}_parse(e){return Zt(e.data)}}vp.create=s=>new vp({typeName:ge.ZodAny,...be(s)});class Cc extends Ee{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Zt(e.data)}}Cc.create=s=>new Cc({typeName:ge.ZodUnknown,...be(s)});class ua extends Ee{_parse(e){const t=this._getOrReturnCtx(e);return W(t,{code:$.invalid_type,expected:se.never,received:t.parsedType}),ye}}ua.create=s=>new ua({typeName:ge.ZodNever,...be(s)});class bp extends Ee{_parse(e){if(this._getType(e)!==se.undefined){const i=this._getOrReturnCtx(e);return W(i,{code:$.invalid_type,expected:se.void,received:i.parsedType}),ye}return Zt(e.data)}}bp.create=s=>new bp({typeName:ge.ZodVoid,...be(s)});class dn extends Ee{_parse(e){const{ctx:t,status:i}=this._processInputParams(e),r=this._def;if(t.parsedType!==se.array)return W(t,{code:$.invalid_type,expected:se.array,received:t.parsedType}),ye;if(r.exactLength!==null){const m=t.data.length>r.exactLength.value,g=t.data.length<r.exactLength.value;(m||g)&&(W(t,{code:m?$.too_big:$.too_small,minimum:g?r.exactLength.value:void 0,maximum:m?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),i.dirty())}if(r.minLength!==null&&t.data.length<r.minLength.value&&(W(t,{code:$.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),i.dirty()),r.maxLength!==null&&t.data.length>r.maxLength.value&&(W(t,{code:$.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),i.dirty()),t.common.async)return Promise.all([...t.data].map((m,g)=>r.type._parseAsync(new fn(t,m,t.path,g)))).then(m=>xt.mergeArray(i,m));const o=[...t.data].map((m,g)=>r.type._parseSync(new fn(t,m,t.path,g)));return xt.mergeArray(i,o)}get element(){return this._def.type}min(e,t){return new dn({...this._def,minLength:{value:e,message:re.toString(t)}})}max(e,t){return new dn({...this._def,maxLength:{value:e,message:re.toString(t)}})}length(e,t){return new dn({...this._def,exactLength:{value:e,message:re.toString(t)}})}nonempty(e){return this.min(1,e)}}dn.create=(s,e)=>new dn({type:s,minLength:null,maxLength:null,exactLength:null,typeName:ge.ZodArray,...be(e)});function Si(s){if(s instanceof tt){const e={};for(const t in s.shape){const i=s.shape[t];e[t]=oa.create(Si(i))}return new tt({...s._def,shape:()=>e})}else return s instanceof dn?new dn({...s._def,type:Si(s.element)}):s instanceof oa?oa.create(Si(s.unwrap())):s instanceof ki?ki.create(Si(s.unwrap())):s instanceof Pa?Pa.create(s.items.map(e=>Si(e))):s}class tt extends Ee{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=De.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==se.object){const p=this._getOrReturnCtx(e);return W(p,{code:$.invalid_type,expected:se.object,received:p.parsedType}),ye}const{status:i,ctx:r}=this._processInputParams(e),{shape:o,keys:m}=this._getCached(),g=[];if(!(this._def.catchall instanceof ua&&this._def.unknownKeys==="strip"))for(const p in r.data)m.includes(p)||g.push(p);const x=[];for(const p of m){const v=o[p],C=r.data[p];x.push({key:{status:"valid",value:p},value:v._parse(new fn(r,C,r.path,p)),alwaysSet:p in r.data})}if(this._def.catchall instanceof ua){const p=this._def.unknownKeys;if(p==="passthrough")for(const v of g)x.push({key:{status:"valid",value:v},value:{status:"valid",value:r.data[v]}});else if(p==="strict")g.length>0&&(W(r,{code:$.unrecognized_keys,keys:g}),i.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const v of g){const C=r.data[v];x.push({key:{status:"valid",value:v},value:p._parse(new fn(r,C,r.path,v)),alwaysSet:v in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const p=[];for(const v of x){const C=await v.key,b=await v.value;p.push({key:C,value:b,alwaysSet:v.alwaysSet})}return p}).then(p=>xt.mergeObjectSync(i,p)):xt.mergeObjectSync(i,x)}get shape(){return this._def.shape()}strict(e){return re.errToObj,new tt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,i)=>{var o,m;const r=((m=(o=this._def).errorMap)==null?void 0:m.call(o,t,i).message)??i.defaultError;return t.code==="unrecognized_keys"?{message:re.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new tt({...this._def,unknownKeys:"strip"})}passthrough(){return new tt({...this._def,unknownKeys:"passthrough"})}extend(e){return new tt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new tt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ge.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new tt({...this._def,catchall:e})}pick(e){const t={};for(const i of De.objectKeys(e))e[i]&&this.shape[i]&&(t[i]=this.shape[i]);return new tt({...this._def,shape:()=>t})}omit(e){const t={};for(const i of De.objectKeys(this.shape))e[i]||(t[i]=this.shape[i]);return new tt({...this._def,shape:()=>t})}deepPartial(){return Si(this)}partial(e){const t={};for(const i of De.objectKeys(this.shape)){const r=this.shape[i];e&&!e[i]?t[i]=r:t[i]=r.optional()}return new tt({...this._def,shape:()=>t})}required(e){const t={};for(const i of De.objectKeys(this.shape))if(e&&!e[i])t[i]=this.shape[i];else{let o=this.shape[i];for(;o instanceof oa;)o=o._def.innerType;t[i]=o}return new tt({...this._def,shape:()=>t})}keyof(){return my(De.objectKeys(this.shape))}}tt.create=(s,e)=>new tt({shape:()=>s,unknownKeys:"strip",catchall:ua.create(),typeName:ge.ZodObject,...be(e)});tt.strictCreate=(s,e)=>new tt({shape:()=>s,unknownKeys:"strict",catchall:ua.create(),typeName:ge.ZodObject,...be(e)});tt.lazycreate=(s,e)=>new tt({shape:s,unknownKeys:"strip",catchall:ua.create(),typeName:ge.ZodObject,...be(e)});class wl extends Ee{_parse(e){const{ctx:t}=this._processInputParams(e),i=this._def.options;function r(o){for(const g of o)if(g.result.status==="valid")return g.result;for(const g of o)if(g.result.status==="dirty")return t.common.issues.push(...g.ctx.common.issues),g.result;const m=o.map(g=>new In(g.ctx.common.issues));return W(t,{code:$.invalid_union,unionErrors:m}),ye}if(t.common.async)return Promise.all(i.map(async o=>{const m={...t,common:{...t.common,issues:[]},parent:null};return{result:await o._parseAsync({data:t.data,path:t.path,parent:m}),ctx:m}})).then(r);{let o;const m=[];for(const x of i){const p={...t,common:{...t.common,issues:[]},parent:null},v=x._parseSync({data:t.data,path:t.path,parent:p});if(v.status==="valid")return v;v.status==="dirty"&&!o&&(o={result:v,ctx:p}),p.common.issues.length&&m.push(p.common.issues)}if(o)return t.common.issues.push(...o.ctx.common.issues),o.result;const g=m.map(x=>new In(x));return W(t,{code:$.invalid_union,unionErrors:g}),ye}}get options(){return this._def.options}}wl.create=(s,e)=>new wl({options:s,typeName:ge.ZodUnion,...be(e)});function _c(s,e){const t=la(s),i=la(e);if(s===e)return{valid:!0,data:s};if(t===se.object&&i===se.object){const r=De.objectKeys(e),o=De.objectKeys(s).filter(g=>r.indexOf(g)!==-1),m={...s,...e};for(const g of o){const x=_c(s[g],e[g]);if(!x.valid)return{valid:!1};m[g]=x.data}return{valid:!0,data:m}}else if(t===se.array&&i===se.array){if(s.length!==e.length)return{valid:!1};const r=[];for(let o=0;o<s.length;o++){const m=s[o],g=e[o],x=_c(m,g);if(!x.valid)return{valid:!1};r.push(x.data)}return{valid:!0,data:r}}else return t===se.date&&i===se.date&&+s==+e?{valid:!0,data:s}:{valid:!1}}class Ml extends Ee{_parse(e){const{status:t,ctx:i}=this._processInputParams(e),r=(o,m)=>{if(mp(o)||mp(m))return ye;const g=_c(o.value,m.value);return g.valid?((hp(o)||hp(m))&&t.dirty(),{status:t.value,value:g.data}):(W(i,{code:$.invalid_intersection_types}),ye)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([o,m])=>r(o,m)):r(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}Ml.create=(s,e,t)=>new Ml({left:s,right:e,typeName:ge.ZodIntersection,...be(t)});class Pa extends Ee{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==se.array)return W(i,{code:$.invalid_type,expected:se.array,received:i.parsedType}),ye;if(i.data.length<this._def.items.length)return W(i,{code:$.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ye;!this._def.rest&&i.data.length>this._def.items.length&&(W(i,{code:$.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const o=[...i.data].map((m,g)=>{const x=this._def.items[g]||this._def.rest;return x?x._parse(new fn(i,m,i.path,g)):null}).filter(m=>!!m);return i.common.async?Promise.all(o).then(m=>xt.mergeArray(t,m)):xt.mergeArray(t,o)}get items(){return this._def.items}rest(e){return new Pa({...this._def,rest:e})}}Pa.create=(s,e)=>{if(!Array.isArray(s))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Pa({items:s,typeName:ge.ZodTuple,rest:null,...be(e)})};class Rl extends Ee{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==se.object)return W(i,{code:$.invalid_type,expected:se.object,received:i.parsedType}),ye;const r=[],o=this._def.keyType,m=this._def.valueType;for(const g in i.data)r.push({key:o._parse(new fn(i,g,i.path,g)),value:m._parse(new fn(i,i.data[g],i.path,g)),alwaysSet:g in i.data});return i.common.async?xt.mergeObjectAsync(t,r):xt.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,i){return t instanceof Ee?new Rl({keyType:e,valueType:t,typeName:ge.ZodRecord,...be(i)}):new Rl({keyType:cn.create(),valueType:e,typeName:ge.ZodRecord,...be(t)})}}class Tp extends Ee{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==se.map)return W(i,{code:$.invalid_type,expected:se.map,received:i.parsedType}),ye;const r=this._def.keyType,o=this._def.valueType,m=[...i.data.entries()].map(([g,x],p)=>({key:r._parse(new fn(i,g,i.path,[p,"key"])),value:o._parse(new fn(i,x,i.path,[p,"value"]))}));if(i.common.async){const g=new Map;return Promise.resolve().then(async()=>{for(const x of m){const p=await x.key,v=await x.value;if(p.status==="aborted"||v.status==="aborted")return ye;(p.status==="dirty"||v.status==="dirty")&&t.dirty(),g.set(p.value,v.value)}return{status:t.value,value:g}})}else{const g=new Map;for(const x of m){const p=x.key,v=x.value;if(p.status==="aborted"||v.status==="aborted")return ye;(p.status==="dirty"||v.status==="dirty")&&t.dirty(),g.set(p.value,v.value)}return{status:t.value,value:g}}}}Tp.create=(s,e,t)=>new Tp({valueType:e,keyType:s,typeName:ge.ZodMap,...be(t)});class Ks extends Ee{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==se.set)return W(i,{code:$.invalid_type,expected:se.set,received:i.parsedType}),ye;const r=this._def;r.minSize!==null&&i.data.size<r.minSize.value&&(W(i,{code:$.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),r.maxSize!==null&&i.data.size>r.maxSize.value&&(W(i,{code:$.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const o=this._def.valueType;function m(x){const p=new Set;for(const v of x){if(v.status==="aborted")return ye;v.status==="dirty"&&t.dirty(),p.add(v.value)}return{status:t.value,value:p}}const g=[...i.data.values()].map((x,p)=>o._parse(new fn(i,x,i.path,p)));return i.common.async?Promise.all(g).then(x=>m(x)):m(g)}min(e,t){return new Ks({...this._def,minSize:{value:e,message:re.toString(t)}})}max(e,t){return new Ks({...this._def,maxSize:{value:e,message:re.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Ks.create=(s,e)=>new Ks({valueType:s,minSize:null,maxSize:null,typeName:ge.ZodSet,...be(e)});class Sc extends Ee{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Sc.create=(s,e)=>new Sc({getter:s,typeName:ge.ZodLazy,...be(e)});class Cp extends Ee{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return W(t,{received:t.data,code:$.invalid_literal,expected:this._def.value}),ye}return{status:"valid",value:e.data}}get value(){return this._def.value}}Cp.create=(s,e)=>new Cp({value:s,typeName:ge.ZodLiteral,...be(e)});function my(s,e){return new Di({values:s,typeName:ge.ZodEnum,...be(e)})}class Di extends Ee{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),i=this._def.values;return W(t,{expected:De.joinValues(i),received:t.parsedType,code:$.invalid_type}),ye}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),i=this._def.values;return W(t,{received:t.data,code:$.invalid_enum_value,options:i}),ye}return Zt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Di.create(e,{...this._def,...t})}exclude(e,t=this._def){return Di.create(this.options.filter(i=>!e.includes(i)),{...this._def,...t})}}Di.create=my;class _p extends Ee{_parse(e){const t=De.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==se.string&&i.parsedType!==se.number){const r=De.objectValues(t);return W(i,{expected:De.joinValues(r),received:i.parsedType,code:$.invalid_type}),ye}if(this._cache||(this._cache=new Set(De.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const r=De.objectValues(t);return W(i,{received:i.data,code:$.invalid_enum_value,options:r}),ye}return Zt(e.data)}get enum(){return this._def.values}}_p.create=(s,e)=>new _p({values:s,typeName:ge.ZodNativeEnum,...be(e)});class Dl extends Ee{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==se.promise&&t.common.async===!1)return W(t,{code:$.invalid_type,expected:se.promise,received:t.parsedType}),ye;const i=t.parsedType===se.promise?t.data:Promise.resolve(t.data);return Zt(i.then(r=>this._def.type.parseAsync(r,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Dl.create=(s,e)=>new Dl({type:s,typeName:ge.ZodPromise,...be(e)});class Ii extends Ee{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ge.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:i}=this._processInputParams(e),r=this._def.effect||null,o={addIssue:m=>{W(i,m),m.fatal?t.abort():t.dirty()},get path(){return i.path}};if(o.addIssue=o.addIssue.bind(o),r.type==="preprocess"){const m=r.transform(i.data,o);if(i.common.async)return Promise.resolve(m).then(async g=>{if(t.value==="aborted")return ye;const x=await this._def.schema._parseAsync({data:g,path:i.path,parent:i});return x.status==="aborted"?ye:x.status==="dirty"||t.value==="dirty"?zs(x.value):x});{if(t.value==="aborted")return ye;const g=this._def.schema._parseSync({data:m,path:i.path,parent:i});return g.status==="aborted"?ye:g.status==="dirty"||t.value==="dirty"?zs(g.value):g}}if(r.type==="refinement"){const m=g=>{const x=r.refinement(g,o);if(i.common.async)return Promise.resolve(x);if(x instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return g};if(i.common.async===!1){const g=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return g.status==="aborted"?ye:(g.status==="dirty"&&t.dirty(),m(g.value),{status:t.value,value:g.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(g=>g.status==="aborted"?ye:(g.status==="dirty"&&t.dirty(),m(g.value).then(()=>({status:t.value,value:g.value}))))}if(r.type==="transform")if(i.common.async===!1){const m=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Mi(m))return ye;const g=r.transform(m.value,o);if(g instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:g}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(m=>Mi(m)?Promise.resolve(r.transform(m.value,o)).then(g=>({status:t.value,value:g})):ye);De.assertNever(r)}}Ii.create=(s,e,t)=>new Ii({schema:s,typeName:ge.ZodEffects,effect:e,...be(t)});Ii.createWithPreprocess=(s,e,t)=>new Ii({schema:e,effect:{type:"preprocess",transform:s},typeName:ge.ZodEffects,...be(t)});class oa extends Ee{_parse(e){return this._getType(e)===se.undefined?Zt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}oa.create=(s,e)=>new oa({innerType:s,typeName:ge.ZodOptional,...be(e)});class ki extends Ee{_parse(e){return this._getType(e)===se.null?Zt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ki.create=(s,e)=>new ki({innerType:s,typeName:ge.ZodNullable,...be(e)});class Nc extends Ee{_parse(e){const{ctx:t}=this._processInputParams(e);let i=t.data;return t.parsedType===se.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Nc.create=(s,e)=>new Nc({innerType:s,typeName:ge.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...be(e)});class Ec extends Ee{_parse(e){const{ctx:t}=this._processInputParams(e),i={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return El(r)?r.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new In(i.common.issues)},input:i.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new In(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}Ec.create=(s,e)=>new Ec({innerType:s,typeName:ge.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...be(e)});class Sp extends Ee{_parse(e){if(this._getType(e)!==se.nan){const i=this._getOrReturnCtx(e);return W(i,{code:$.invalid_type,expected:se.nan,received:i.parsedType}),ye}return{status:"valid",value:e.data}}}Sp.create=s=>new Sp({typeName:ge.ZodNaN,...be(s)});class UT extends Ee{_parse(e){const{ctx:t}=this._processInputParams(e),i=t.data;return this._def.type._parse({data:i,path:t.path,parent:t})}unwrap(){return this._def.type}}class Zc extends Ee{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?ye:o.status==="dirty"?(t.dirty(),zs(o.value)):this._def.out._parseAsync({data:o.value,path:i.path,parent:i})})();{const r=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return r.status==="aborted"?ye:r.status==="dirty"?(t.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:i.path,parent:i})}}static create(e,t){return new Zc({in:e,out:t,typeName:ge.ZodPipeline})}}class Ac extends Ee{_parse(e){const t=this._def.innerType._parse(e),i=r=>(Mi(r)&&(r.value=Object.freeze(r.value)),r);return El(t)?t.then(r=>i(r)):i(t)}unwrap(){return this._def.innerType}}Ac.create=(s,e)=>new Ac({innerType:s,typeName:ge.ZodReadonly,...be(e)});var ge;(function(s){s.ZodString="ZodString",s.ZodNumber="ZodNumber",s.ZodNaN="ZodNaN",s.ZodBigInt="ZodBigInt",s.ZodBoolean="ZodBoolean",s.ZodDate="ZodDate",s.ZodSymbol="ZodSymbol",s.ZodUndefined="ZodUndefined",s.ZodNull="ZodNull",s.ZodAny="ZodAny",s.ZodUnknown="ZodUnknown",s.ZodNever="ZodNever",s.ZodVoid="ZodVoid",s.ZodArray="ZodArray",s.ZodObject="ZodObject",s.ZodUnion="ZodUnion",s.ZodDiscriminatedUnion="ZodDiscriminatedUnion",s.ZodIntersection="ZodIntersection",s.ZodTuple="ZodTuple",s.ZodRecord="ZodRecord",s.ZodMap="ZodMap",s.ZodSet="ZodSet",s.ZodFunction="ZodFunction",s.ZodLazy="ZodLazy",s.ZodLiteral="ZodLiteral",s.ZodEnum="ZodEnum",s.ZodEffects="ZodEffects",s.ZodNativeEnum="ZodNativeEnum",s.ZodOptional="ZodOptional",s.ZodNullable="ZodNullable",s.ZodDefault="ZodDefault",s.ZodCatch="ZodCatch",s.ZodPromise="ZodPromise",s.ZodBranded="ZodBranded",s.ZodPipeline="ZodPipeline",s.ZodReadonly="ZodReadonly"})(ge||(ge={}));const ka=cn.create,Np=Ua.create;La.create;const LT=Al.create;Ri.create;const Ep=Cc.create;ua.create;const Hs=dn.create,PT=tt.create,jT=wl.create;Ml.create;Pa.create;const VT=Rl.create,OT=Sc.create,BT=Di.create;Dl.create;oa.create;ki.create;const _i={string:s=>cn.create({...s,coerce:!0}),number:s=>Ua.create({...s,coerce:!0}),boolean:s=>Al.create({...s,coerce:!0}),bigint:s=>La.create({...s,coerce:!0}),date:s=>Ri.create({...s,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let qT,GT;function zT(){return{geminiUrl:qT,vertexUrl:GT}}function HT(s,e,t){var i,r,o;if(!(!((i=s.httpOptions)===null||i===void 0)&&i.baseUrl)){const m=zT();return s.vertexai?(r=m.vertexUrl)!==null&&r!==void 0?r:e:(o=m.geminiUrl)!==null&&o!==void 0?o:t}return s.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ji{}function pe(s,e){const t=/\{([^}]+)\}/g;return s.replace(t,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const o=e[r];return o!=null?String(o):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function d(s,e,t){for(let o=0;o<e.length-1;o++){const m=e[o];if(m.endsWith("[]")){const g=m.slice(0,-2);if(!(g in s))if(Array.isArray(t))s[g]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(s[g])){const x=s[g];if(Array.isArray(t))for(let p=0;p<x.length;p++){const v=x[p];d(v,e.slice(o+1),t[p])}else for(const p of x)d(p,e.slice(o+1),t)}return}else if(m.endsWith("[0]")){const g=m.slice(0,-3);g in s||(s[g]=[{}]);const x=s[g];d(x[0],e.slice(o+1),t);return}(!s[m]||typeof s[m]!="object")&&(s[m]={}),s=s[m]}const i=e[e.length-1],r=s[i];if(r!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===r)return;if(typeof r=="object"&&typeof t=="object"&&r!==null&&t!==null)Object.assign(r,t);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else s[i]=t}function c(s,e){try{if(e.length===1&&e[0]==="_self")return s;for(let t=0;t<e.length;t++){if(typeof s!="object"||s===null)return;const i=e[t];if(i.endsWith("[]")){const r=i.slice(0,-2);if(r in s){const o=s[r];return Array.isArray(o)?o.map(m=>c(m,e.slice(t+1))):void 0}else return}else s=s[i]}return s}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ap;(function(s){s.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",s.OUTCOME_OK="OUTCOME_OK",s.OUTCOME_FAILED="OUTCOME_FAILED",s.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Ap||(Ap={}));var wp;(function(s){s.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",s.PYTHON="PYTHON"})(wp||(wp={}));var Yt;(function(s){s.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",s.STRING="STRING",s.NUMBER="NUMBER",s.INTEGER="INTEGER",s.BOOLEAN="BOOLEAN",s.ARRAY="ARRAY",s.OBJECT="OBJECT",s.NULL="NULL"})(Yt||(Yt={}));var Mp;(function(s){s.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",s.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",s.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",s.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",s.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",s.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Mp||(Mp={}));var Rp;(function(s){s.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",s.SEVERITY="SEVERITY",s.PROBABILITY="PROBABILITY"})(Rp||(Rp={}));var Dp;(function(s){s.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",s.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",s.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",s.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",s.BLOCK_NONE="BLOCK_NONE",s.OFF="OFF"})(Dp||(Dp={}));var Ip;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.MODE_DYNAMIC="MODE_DYNAMIC"})(Ip||(Ip={}));var kp;(function(s){s.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",s.NO_AUTH="NO_AUTH",s.API_KEY_AUTH="API_KEY_AUTH",s.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",s.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",s.OAUTH="OAUTH",s.OIDC_AUTH="OIDC_AUTH"})(kp||(kp={}));var Up;(function(s){s.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",s.STOP="STOP",s.MAX_TOKENS="MAX_TOKENS",s.SAFETY="SAFETY",s.RECITATION="RECITATION",s.LANGUAGE="LANGUAGE",s.OTHER="OTHER",s.BLOCKLIST="BLOCKLIST",s.PROHIBITED_CONTENT="PROHIBITED_CONTENT",s.SPII="SPII",s.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",s.IMAGE_SAFETY="IMAGE_SAFETY",s.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Up||(Up={}));var Lp;(function(s){s.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",s.NEGLIGIBLE="NEGLIGIBLE",s.LOW="LOW",s.MEDIUM="MEDIUM",s.HIGH="HIGH"})(Lp||(Lp={}));var Pp;(function(s){s.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",s.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",s.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",s.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",s.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Pp||(Pp={}));var jp;(function(s){s.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",s.SAFETY="SAFETY",s.OTHER="OTHER",s.BLOCKLIST="BLOCKLIST",s.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(jp||(jp={}));var Vp;(function(s){s.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",s.ON_DEMAND="ON_DEMAND",s.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Vp||(Vp={}));var Il;(function(s){s.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",s.TEXT="TEXT",s.IMAGE="IMAGE",s.AUDIO="AUDIO"})(Il||(Il={}));var Op;(function(s){s.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",s.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",s.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",s.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Op||(Op={}));var wc;(function(s){s.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",s.JOB_STATE_QUEUED="JOB_STATE_QUEUED",s.JOB_STATE_PENDING="JOB_STATE_PENDING",s.JOB_STATE_RUNNING="JOB_STATE_RUNNING",s.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",s.JOB_STATE_FAILED="JOB_STATE_FAILED",s.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",s.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",s.JOB_STATE_PAUSED="JOB_STATE_PAUSED",s.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",s.JOB_STATE_UPDATING="JOB_STATE_UPDATING",s.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(wc||(wc={}));var Bp;(function(s){s.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",s.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",s.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",s.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",s.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",s.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",s.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Bp||(Bp={}));var qp;(function(s){s.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",s.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",s.BALANCED="BALANCED",s.PRIORITIZE_COST="PRIORITIZE_COST"})(qp||(qp={}));var Gp;(function(s){s.UNSPECIFIED="UNSPECIFIED",s.BLOCKING="BLOCKING",s.NON_BLOCKING="NON_BLOCKING"})(Gp||(Gp={}));var zp;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.MODE_DYNAMIC="MODE_DYNAMIC"})(zp||(zp={}));var Hp;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.AUTO="AUTO",s.ANY="ANY",s.NONE="NONE"})(Hp||(Hp={}));var Fp;(function(s){s.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",s.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",s.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(Fp||(Fp={}));var Yp;(function(s){s.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",s.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",s.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",s.BLOCK_NONE="BLOCK_NONE"})(Yp||(Yp={}));var $p;(function(s){s.DONT_ALLOW="DONT_ALLOW",s.ALLOW_ADULT="ALLOW_ADULT",s.ALLOW_ALL="ALLOW_ALL"})($p||($p={}));var Zp;(function(s){s.auto="auto",s.en="en",s.ja="ja",s.ko="ko",s.hi="hi"})(Zp||(Zp={}));var Kp;(function(s){s.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",s.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",s.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",s.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",s.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Kp||(Kp={}));var Jp;(function(s){s.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",s.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",s.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",s.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Jp||(Jp={}));var Xp;(function(s){s.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",s.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",s.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",s.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Xp||(Xp={}));var Qp;(function(s){s.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",s.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",s.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",s.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",s.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",s.EDIT_MODE_STYLE="EDIT_MODE_STYLE",s.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",s.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Qp||(Qp={}));var Wp;(function(s){s.STATE_UNSPECIFIED="STATE_UNSPECIFIED",s.PROCESSING="PROCESSING",s.ACTIVE="ACTIVE",s.FAILED="FAILED"})(Wp||(Wp={}));var eg;(function(s){s.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",s.UPLOADED="UPLOADED",s.GENERATED="GENERATED"})(eg||(eg={}));var tg;(function(s){s.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",s.TEXT="TEXT",s.IMAGE="IMAGE",s.VIDEO="VIDEO",s.AUDIO="AUDIO",s.DOCUMENT="DOCUMENT"})(tg||(tg={}));var ng;(function(s){s.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",s.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",s.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ng||(ng={}));var ag;(function(s){s.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",s.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",s.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ag||(ag={}));var ig;(function(s){s.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",s.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",s.NO_INTERRUPTION="NO_INTERRUPTION"})(ig||(ig={}));var sg;(function(s){s.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",s.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",s.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(sg||(sg={}));var rg;(function(s){s.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",s.SILENT="SILENT",s.WHEN_IDLE="WHEN_IDLE",s.INTERRUPT="INTERRUPT"})(rg||(rg={}));var lg;(function(s){s.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",s.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",s.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",s.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",s.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",s.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",s.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",s.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",s.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",s.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",s.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",s.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",s.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(lg||(lg={}));var Ni;(function(s){s.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",s.PLAY="PLAY",s.PAUSE="PAUSE",s.STOP="STOP",s.RESET_CONTEXT="RESET_CONTEXT"})(Ni||(Ni={}));class qs{get text(){var e,t,i,r,o,m,g,x;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",v=!1;const C=[];for(const b of(x=(g=(m=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&x!==void 0?x:[]){for(const[S,N]of Object.entries(b))S!=="text"&&S!=="thought"&&(N!==null||N!==void 0)&&C.push(S);if(typeof b.text=="string"){if(typeof b.thought=="boolean"&&b.thought)continue;v=!0,p+=b.text}}return C.length>0&&console.warn(`there are non-text parts ${C} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?p:void 0}get data(){var e,t,i,r,o,m,g,x;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const v=[];for(const C of(x=(g=(m=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&x!==void 0?x:[]){for(const[b,S]of Object.entries(C))b!=="inlineData"&&(S!==null||S!==void 0)&&v.push(b);C.inlineData&&typeof C.inlineData.data=="string"&&(p+=atob(C.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,t,i,r,o,m,g,x;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(x=(g=(m=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||x===void 0?void 0:x.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,t,i,r,o,m,g,x,p;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(x=(g=(m=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||x===void 0?void 0:x.filter(C=>C.executableCode).map(C=>C.executableCode).filter(C=>C!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,t,i,r,o,m,g,x,p;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(x=(g=(m=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||x===void 0?void 0:x.filter(C=>C.codeExecutionResult).map(C=>C.codeExecutionResult).filter(C=>C!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.output}}class og{}class ug{}class FT{}class YT{}class cg{}class dg{}class fg{}class $T{}class mg{}class hg{}class pg{}class ZT{}class Mc{constructor(e){const t={};for(const i of e.headers.entries())t[i[0]]=i[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class KT{}class JT{}class XT{get text(){var e,t,i;let r="",o=!1;const m=[];for(const g of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[x,p]of Object.entries(g))x!=="text"&&x!=="thought"&&p!==null&&m.push(x);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;o=!0,r+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?r:void 0}get data(){var e,t,i;let r="";const o=[];for(const m of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[g,x]of Object.entries(m))g!=="inlineData"&&x!==null&&o.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(r+=atob(m.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class QT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ze(s,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(s.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function hy(s,e){const t=ze(s,e);return t?t.startsWith("publishers/")&&s.isVertexAI()?`projects/${s.getProject()}/locations/${s.getLocation()}/${t}`:t.startsWith("models/")&&s.isVertexAI()?`projects/${s.getProject()}/locations/${s.getLocation()}/publishers/google/${t}`:t:""}function py(s,e){return Array.isArray(e)?e.map(t=>kl(s,t)):[kl(s,e)]}function kl(s,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function WT(s,e){const t=kl(s,e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function eC(s,e){const t=kl(s,e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function gg(s,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function gy(s,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>gg(s,t)):[gg(s,e)]}function Rc(s){return s!=null&&typeof s=="object"&&"parts"in s&&Array.isArray(s.parts)}function yg(s){return s!=null&&typeof s=="object"&&"functionCall"in s}function xg(s){return s!=null&&typeof s=="object"&&"functionResponse"in s}function yt(s,e){if(e==null)throw new Error("ContentUnion is required");return Rc(e)?e:{role:"user",parts:gy(s,e)}}function yy(s,e){if(!e)return[];if(s.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const i=yt(s,t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(s.isVertexAI()){const t=yt(s,e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>yt(s,t)):[yt(s,e)]}function en(s,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(yg(e)||xg(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[yt(s,e)]}const t=[],i=[],r=Rc(e[0]);for(const o of e){const m=Rc(o);if(m!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(m)t.push(o);else{if(yg(o)||xg(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(o)}}return r||t.push({role:"user",parts:gy(s,i)}),t}const tC=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),vg=BT(["string","number","integer","object","array","boolean","null"]),nC=jT([vg,Hs(vg)]);function aC(s=!0){const e=OT(()=>{const t=PT({type:nC.optional(),format:ka().optional(),title:ka().optional(),description:ka().optional(),default:Ep().optional(),items:e.optional(),minItems:_i.string().optional(),maxItems:_i.string().optional(),enum:Hs(Ep()).optional(),properties:VT(ka(),e).optional(),required:Hs(ka()).optional(),minProperties:_i.string().optional(),maxProperties:_i.string().optional(),propertyOrdering:Hs(ka()).optional(),minimum:Np().optional(),maximum:Np().optional(),minLength:_i.string().optional(),maxLength:_i.string().optional(),pattern:ka().optional(),anyOf:Hs(e).optional(),additionalProperties:LT().optional()});return s?t.strict():t});return e}function iC(s,e){s.includes("null")&&(e.nullable=!0);const t=s.filter(i=>i!=="null");if(t.length===1)e.type=Object.keys(Yt).includes(t[0].toUpperCase())?Yt[t[0].toUpperCase()]:Yt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of t)e.anyOf.push({type:Object.keys(Yt).includes(i.toUpperCase())?Yt[i.toUpperCase()]:Yt.TYPE_UNSPECIFIED})}}function Ai(s){const e={},t=["items"],i=["anyOf"],r=["properties"];if(s.type&&s.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=s.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,s=o[1]):o[1].type==="null"&&(e.nullable=!0,s=o[0])),s.type instanceof Array&&iC(s.type,e);for(const[m,g]of Object.entries(s))if(g!=null)if(m=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;e.type=Object.keys(Yt).includes(g.toUpperCase())?g.toUpperCase():Yt.TYPE_UNSPECIFIED}else if(t.includes(m))e[m]=Ai(g);else if(i.includes(m)){const x=[];for(const p of g){if(p.type=="null"){e.nullable=!0;continue}x.push(Ai(p))}e[m]=x}else if(r.includes(m)){const x={};for(const[p,v]of Object.entries(g))x[p]=Ai(v);e[m]=x}else{if(m==="additionalProperties")continue;e[m]=g}return e}function Ul(s,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const t=aC().parse(e);return Ai(t)}else return Ai(e)}function xy(s,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Kc(s,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Ws(s,e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(t.parameters=Ul(s,t.parameters)),t.response&&(t.response=Ul(s,t.response));return e}function er(s,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const i of e)t.push(i);return t}function sC(s,e,t,i=1){const r=!e.startsWith(`${t}/`)&&e.split("/").length===i;return s.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${s.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${s.getProject()}/locations/${s.getLocation()}/${e}`:r?`projects/${s.getProject()}/locations/${s.getLocation()}/${t}/${e}`:e:r?`${t}/${e}`:e}function fa(s,e){if(typeof e!="string")throw new Error("name must be a string");return sC(s,e,"cachedContents")}function vy(s,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function ma(s,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function rC(s){return s!=null&&typeof s=="object"&&"name"in s}function lC(s){return s!=null&&typeof s=="object"&&"video"in s}function oC(s){return s!=null&&typeof s=="object"&&"uri"in s}function by(s,e){var t;let i;if(rC(e)&&(i=e.name),!(oC(e)&&(i=e.uri,i===void 0))&&!(lC(e)&&(i=(t=e.video)===null||t===void 0?void 0:t.uri,i===void 0))){if(typeof e=="string"&&(i=e),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const o=i.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${i}`);i=o[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function Ty(s,e){let t;return s.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function Cy(s,e){for(const t of["models","tunedModels","publisherModels"])if(uC(e,t))return e[t];return[]}function uC(s,e){return s!==null&&typeof s=="object"&&e in s}function cC(s,e={}){const t=s,i={name:t.name,description:t.description,parameters:Ai(jl(t.inputSchema))};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function dC(s,e={}){const t=[],i=new Set;for(const r of s){const o=r.name;if(i.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);i.add(o);const m=cC(r,e);m.functionDeclarations&&t.push(...m.functionDeclarations)}return{functionDeclarations:t}}function fC(s){const e=[];for(const t of s)e.push(jl(t));return e}function mC(s){const e={};for(const[t,i]of Object.entries(s)){const r=i;e[t]=jl(r)}return e}function jl(s){const e=new Set(["items"]),t=new Set(["anyOf"]),i=new Set(["properties"]),r={};for(const[o,m]of Object.entries(s))if(e.has(o))r[o]=jl(m);else if(t.has(o))r[o]=fC(m);else if(i.has(o))r[o]=mC(m);else if(o==="type"){const g=m.toUpperCase();r[o]=Object.keys(Yt).includes(g)?g:Yt.TYPE_UNSPECIFIED}else tC.has(o)&&(r[o]=m);return r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hC(s,e){const t={},i=c(e,["fps"]);i!=null&&d(t,["fps"],i);const r=c(e,["endOffset"]);r!=null&&d(t,["endOffset"],r);const o=c(e,["startOffset"]);return o!=null&&d(t,["startOffset"],o),t}function pC(s,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(e,["data"]);i!=null&&d(t,["data"],i);const r=c(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function gC(s,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(e,["fileUri"]);i!=null&&d(t,["fileUri"],i);const r=c(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function yC(s,e){const t={},i=c(e,["videoMetadata"]);i!=null&&d(t,["videoMetadata"],hC(s,i));const r=c(e,["thought"]);r!=null&&d(t,["thought"],r);const o=c(e,["inlineData"]);o!=null&&d(t,["inlineData"],pC(s,o));const m=c(e,["fileData"]);m!=null&&d(t,["fileData"],gC(s,m));const g=c(e,["thoughtSignature"]);g!=null&&d(t,["thoughtSignature"],g);const x=c(e,["codeExecutionResult"]);x!=null&&d(t,["codeExecutionResult"],x);const p=c(e,["executableCode"]);p!=null&&d(t,["executableCode"],p);const v=c(e,["functionCall"]);v!=null&&d(t,["functionCall"],v);const C=c(e,["functionResponse"]);C!=null&&d(t,["functionResponse"],C);const b=c(e,["text"]);return b!=null&&d(t,["text"],b),t}function bg(s,e){const t={},i=c(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(m=>yC(s,m))),d(t,["parts"],o)}const r=c(e,["role"]);return r!=null&&d(t,["role"],r),t}function xC(s,e){const t={},i=c(e,["behavior"]);i!=null&&d(t,["behavior"],i);const r=c(e,["description"]);r!=null&&d(t,["description"],r);const o=c(e,["name"]);o!=null&&d(t,["name"],o);const m=c(e,["parameters"]);m!=null&&d(t,["parameters"],m);const g=c(e,["response"]);return g!=null&&d(t,["response"],g),t}function vC(s,e){const t={},i=c(e,["startTime"]);i!=null&&d(t,["startTime"],i);const r=c(e,["endTime"]);return r!=null&&d(t,["endTime"],r),t}function bC(s,e){const t={},i=c(e,["timeRangeFilter"]);return i!=null&&d(t,["timeRangeFilter"],vC(s,i)),t}function TC(s,e){const t={},i=c(e,["mode"]);i!=null&&d(t,["mode"],i);const r=c(e,["dynamicThreshold"]);return r!=null&&d(t,["dynamicThreshold"],r),t}function CC(s,e){const t={},i=c(e,["dynamicRetrievalConfig"]);return i!=null&&d(t,["dynamicRetrievalConfig"],TC(s,i)),t}function _C(){return{}}function SC(s,e){const t={},i=c(e,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(p=>xC(s,p))),d(t,["functionDeclarations"],x)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=c(e,["googleSearch"]);r!=null&&d(t,["googleSearch"],bC(s,r));const o=c(e,["googleSearchRetrieval"]);if(o!=null&&d(t,["googleSearchRetrieval"],CC(s,o)),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(e,["urlContext"])!=null&&d(t,["urlContext"],_C());const g=c(e,["codeExecution"]);return g!=null&&d(t,["codeExecution"],g),t}function NC(s,e){const t={},i=c(e,["mode"]);i!=null&&d(t,["mode"],i);const r=c(e,["allowedFunctionNames"]);return r!=null&&d(t,["allowedFunctionNames"],r),t}function EC(s,e){const t={},i=c(e,["latitude"]);i!=null&&d(t,["latitude"],i);const r=c(e,["longitude"]);return r!=null&&d(t,["longitude"],r),t}function AC(s,e){const t={},i=c(e,["latLng"]);i!=null&&d(t,["latLng"],EC(s,i));const r=c(e,["languageCode"]);return r!=null&&d(t,["languageCode"],r),t}function wC(s,e){const t={},i=c(e,["functionCallingConfig"]);i!=null&&d(t,["functionCallingConfig"],NC(s,i));const r=c(e,["retrievalConfig"]);return r!=null&&d(t,["retrievalConfig"],AC(s,r)),t}function MC(s,e,t){const i={},r=c(e,["ttl"]);t!==void 0&&r!=null&&d(t,["ttl"],r);const o=c(e,["expireTime"]);t!==void 0&&o!=null&&d(t,["expireTime"],o);const m=c(e,["displayName"]);t!==void 0&&m!=null&&d(t,["displayName"],m);const g=c(e,["contents"]);if(t!==void 0&&g!=null){let C=en(s,g);Array.isArray(C)&&(C=C.map(b=>bg(s,b))),d(t,["contents"],C)}const x=c(e,["systemInstruction"]);t!==void 0&&x!=null&&d(t,["systemInstruction"],bg(s,yt(s,x)));const p=c(e,["tools"]);if(t!==void 0&&p!=null){let C=p;Array.isArray(C)&&(C=C.map(b=>SC(s,b))),d(t,["tools"],C)}const v=c(e,["toolConfig"]);if(t!==void 0&&v!=null&&d(t,["toolConfig"],wC(s,v)),c(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function RC(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["model"],hy(s,i));const r=c(e,["config"]);return r!=null&&d(t,["config"],MC(s,r,t)),t}function DC(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["_url","name"],fa(s,i));const r=c(e,["config"]);return r!=null&&d(t,["config"],r),t}function IC(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["_url","name"],fa(s,i));const r=c(e,["config"]);return r!=null&&d(t,["config"],r),t}function kC(s,e,t){const i={},r=c(e,["ttl"]);t!==void 0&&r!=null&&d(t,["ttl"],r);const o=c(e,["expireTime"]);return t!==void 0&&o!=null&&d(t,["expireTime"],o),i}function UC(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["_url","name"],fa(s,i));const r=c(e,["config"]);return r!=null&&d(t,["config"],kC(s,r,t)),t}function LC(s,e,t){const i={},r=c(e,["pageSize"]);t!==void 0&&r!=null&&d(t,["_query","pageSize"],r);const o=c(e,["pageToken"]);return t!==void 0&&o!=null&&d(t,["_query","pageToken"],o),i}function PC(s,e){const t={},i=c(e,["config"]);return i!=null&&d(t,["config"],LC(s,i,t)),t}function jC(s,e){const t={},i=c(e,["fps"]);i!=null&&d(t,["fps"],i);const r=c(e,["endOffset"]);r!=null&&d(t,["endOffset"],r);const o=c(e,["startOffset"]);return o!=null&&d(t,["startOffset"],o),t}function VC(s,e){const t={},i=c(e,["displayName"]);i!=null&&d(t,["displayName"],i);const r=c(e,["data"]);r!=null&&d(t,["data"],r);const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function OC(s,e){const t={},i=c(e,["displayName"]);i!=null&&d(t,["displayName"],i);const r=c(e,["fileUri"]);r!=null&&d(t,["fileUri"],r);const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function BC(s,e){const t={},i=c(e,["videoMetadata"]);i!=null&&d(t,["videoMetadata"],jC(s,i));const r=c(e,["thought"]);r!=null&&d(t,["thought"],r);const o=c(e,["inlineData"]);o!=null&&d(t,["inlineData"],VC(s,o));const m=c(e,["fileData"]);m!=null&&d(t,["fileData"],OC(s,m));const g=c(e,["thoughtSignature"]);g!=null&&d(t,["thoughtSignature"],g);const x=c(e,["codeExecutionResult"]);x!=null&&d(t,["codeExecutionResult"],x);const p=c(e,["executableCode"]);p!=null&&d(t,["executableCode"],p);const v=c(e,["functionCall"]);v!=null&&d(t,["functionCall"],v);const C=c(e,["functionResponse"]);C!=null&&d(t,["functionResponse"],C);const b=c(e,["text"]);return b!=null&&d(t,["text"],b),t}function Tg(s,e){const t={},i=c(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(m=>BC(s,m))),d(t,["parts"],o)}const r=c(e,["role"]);return r!=null&&d(t,["role"],r),t}function qC(s,e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=c(e,["description"]);i!=null&&d(t,["description"],i);const r=c(e,["name"]);r!=null&&d(t,["name"],r);const o=c(e,["parameters"]);o!=null&&d(t,["parameters"],o);const m=c(e,["response"]);return m!=null&&d(t,["response"],m),t}function GC(s,e){const t={},i=c(e,["startTime"]);i!=null&&d(t,["startTime"],i);const r=c(e,["endTime"]);return r!=null&&d(t,["endTime"],r),t}function zC(s,e){const t={},i=c(e,["timeRangeFilter"]);return i!=null&&d(t,["timeRangeFilter"],GC(s,i)),t}function HC(s,e){const t={},i=c(e,["mode"]);i!=null&&d(t,["mode"],i);const r=c(e,["dynamicThreshold"]);return r!=null&&d(t,["dynamicThreshold"],r),t}function FC(s,e){const t={},i=c(e,["dynamicRetrievalConfig"]);return i!=null&&d(t,["dynamicRetrievalConfig"],HC(s,i)),t}function YC(){return{}}function $C(s,e){const t={},i=c(e,["apiKeyString"]);return i!=null&&d(t,["apiKeyString"],i),t}function ZC(s,e){const t={},i=c(e,["apiKeyConfig"]);i!=null&&d(t,["apiKeyConfig"],$C(s,i));const r=c(e,["authType"]);r!=null&&d(t,["authType"],r);const o=c(e,["googleServiceAccountConfig"]);o!=null&&d(t,["googleServiceAccountConfig"],o);const m=c(e,["httpBasicAuthConfig"]);m!=null&&d(t,["httpBasicAuthConfig"],m);const g=c(e,["oauthConfig"]);g!=null&&d(t,["oauthConfig"],g);const x=c(e,["oidcConfig"]);return x!=null&&d(t,["oidcConfig"],x),t}function KC(s,e){const t={},i=c(e,["authConfig"]);return i!=null&&d(t,["authConfig"],ZC(s,i)),t}function JC(s,e){const t={},i=c(e,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(C=>qC(s,C))),d(t,["functionDeclarations"],v)}const r=c(e,["retrieval"]);r!=null&&d(t,["retrieval"],r);const o=c(e,["googleSearch"]);o!=null&&d(t,["googleSearch"],zC(s,o));const m=c(e,["googleSearchRetrieval"]);m!=null&&d(t,["googleSearchRetrieval"],FC(s,m)),c(e,["enterpriseWebSearch"])!=null&&d(t,["enterpriseWebSearch"],YC());const x=c(e,["googleMaps"]);if(x!=null&&d(t,["googleMaps"],KC(s,x)),c(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const p=c(e,["codeExecution"]);return p!=null&&d(t,["codeExecution"],p),t}function XC(s,e){const t={},i=c(e,["mode"]);i!=null&&d(t,["mode"],i);const r=c(e,["allowedFunctionNames"]);return r!=null&&d(t,["allowedFunctionNames"],r),t}function QC(s,e){const t={},i=c(e,["latitude"]);i!=null&&d(t,["latitude"],i);const r=c(e,["longitude"]);return r!=null&&d(t,["longitude"],r),t}function WC(s,e){const t={},i=c(e,["latLng"]);i!=null&&d(t,["latLng"],QC(s,i));const r=c(e,["languageCode"]);return r!=null&&d(t,["languageCode"],r),t}function e_(s,e){const t={},i=c(e,["functionCallingConfig"]);i!=null&&d(t,["functionCallingConfig"],XC(s,i));const r=c(e,["retrievalConfig"]);return r!=null&&d(t,["retrievalConfig"],WC(s,r)),t}function t_(s,e,t){const i={},r=c(e,["ttl"]);t!==void 0&&r!=null&&d(t,["ttl"],r);const o=c(e,["expireTime"]);t!==void 0&&o!=null&&d(t,["expireTime"],o);const m=c(e,["displayName"]);t!==void 0&&m!=null&&d(t,["displayName"],m);const g=c(e,["contents"]);if(t!==void 0&&g!=null){let b=en(s,g);Array.isArray(b)&&(b=b.map(S=>Tg(s,S))),d(t,["contents"],b)}const x=c(e,["systemInstruction"]);t!==void 0&&x!=null&&d(t,["systemInstruction"],Tg(s,yt(s,x)));const p=c(e,["tools"]);if(t!==void 0&&p!=null){let b=p;Array.isArray(b)&&(b=b.map(S=>JC(s,S))),d(t,["tools"],b)}const v=c(e,["toolConfig"]);t!==void 0&&v!=null&&d(t,["toolConfig"],e_(s,v));const C=c(e,["kmsKeyName"]);return t!==void 0&&C!=null&&d(t,["encryption_spec","kmsKeyName"],C),i}function n_(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["model"],hy(s,i));const r=c(e,["config"]);return r!=null&&d(t,["config"],t_(s,r,t)),t}function a_(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["_url","name"],fa(s,i));const r=c(e,["config"]);return r!=null&&d(t,["config"],r),t}function i_(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["_url","name"],fa(s,i));const r=c(e,["config"]);return r!=null&&d(t,["config"],r),t}function s_(s,e,t){const i={},r=c(e,["ttl"]);t!==void 0&&r!=null&&d(t,["ttl"],r);const o=c(e,["expireTime"]);return t!==void 0&&o!=null&&d(t,["expireTime"],o),i}function r_(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["_url","name"],fa(s,i));const r=c(e,["config"]);return r!=null&&d(t,["config"],s_(s,r,t)),t}function l_(s,e,t){const i={},r=c(e,["pageSize"]);t!==void 0&&r!=null&&d(t,["_query","pageSize"],r);const o=c(e,["pageToken"]);return t!==void 0&&o!=null&&d(t,["_query","pageToken"],o),i}function o_(s,e){const t={},i=c(e,["config"]);return i!=null&&d(t,["config"],l_(s,i,t)),t}function Tl(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const r=c(e,["displayName"]);r!=null&&d(t,["displayName"],r);const o=c(e,["model"]);o!=null&&d(t,["model"],o);const m=c(e,["createTime"]);m!=null&&d(t,["createTime"],m);const g=c(e,["updateTime"]);g!=null&&d(t,["updateTime"],g);const x=c(e,["expireTime"]);x!=null&&d(t,["expireTime"],x);const p=c(e,["usageMetadata"]);return p!=null&&d(t,["usageMetadata"],p),t}function u_(){return{}}function c_(s,e){const t={},i=c(e,["nextPageToken"]);i!=null&&d(t,["nextPageToken"],i);const r=c(e,["cachedContents"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(m=>Tl(s,m))),d(t,["cachedContents"],o)}return t}function Cl(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const r=c(e,["displayName"]);r!=null&&d(t,["displayName"],r);const o=c(e,["model"]);o!=null&&d(t,["model"],o);const m=c(e,["createTime"]);m!=null&&d(t,["createTime"],m);const g=c(e,["updateTime"]);g!=null&&d(t,["updateTime"],g);const x=c(e,["expireTime"]);x!=null&&d(t,["expireTime"],x);const p=c(e,["usageMetadata"]);return p!=null&&d(t,["usageMetadata"],p),t}function d_(){return{}}function f_(s,e){const t={},i=c(e,["nextPageToken"]);i!=null&&d(t,["nextPageToken"],i);const r=c(e,["cachedContents"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(m=>Cl(s,m))),d(t,["cachedContents"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ui;(function(s){s.PAGED_ITEM_BATCH_JOBS="batchJobs",s.PAGED_ITEM_MODELS="models",s.PAGED_ITEM_TUNING_JOBS="tuningJobs",s.PAGED_ITEM_FILES="files",s.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Ui||(Ui={}));class Vl{constructor(e,t,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,i,r)}init(e,t,i){var r,o;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let m={config:{}};i?typeof i=="object"?m=Object.assign({},i):m=i:m={config:{}},m.config&&(m.config.pageToken=t.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(o=(r=m.config)===null||r===void 0?void 0:r.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class m_ extends ji{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Vl(Ui.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(t),t)}async create(e){var t,i,r,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=n_(this.apiClient,e);return g=pe("cachedContents",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),m.then(v=>Cl(this.apiClient,v))}else{const p=RC(this.apiClient,e);return g=pe("cachedContents",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>Tl(this.apiClient,v))}}async get(e){var t,i,r,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=a_(this.apiClient,e);return g=pe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),m.then(v=>Cl(this.apiClient,v))}else{const p=DC(this.apiClient,e);return g=pe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>Tl(this.apiClient,v))}}async delete(e){var t,i,r,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=i_(this.apiClient,e);return g=pe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),m.then(()=>{const v=d_(),C=new hg;return Object.assign(C,v),C})}else{const p=IC(this.apiClient,e);return g=pe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(()=>{const v=u_(),C=new hg;return Object.assign(C,v),C})}}async update(e){var t,i,r,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=r_(this.apiClient,e);return g=pe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),m.then(v=>Cl(this.apiClient,v))}else{const p=UC(this.apiClient,e);return g=pe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>Tl(this.apiClient,v))}}async listInternal(e){var t,i,r,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=o_(this.apiClient,e);return g=pe("cachedContents",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),m.then(v=>{const C=f_(this.apiClient,v),b=new pg;return Object.assign(b,C),b})}else{const p=PC(this.apiClient,e);return g=pe("cachedContents",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>{const C=c_(this.apiClient,v),b=new pg;return Object.assign(b,C),b})}}}function Cg(s){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&s[e],i=0;if(t)return t.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&i>=s.length&&(s=void 0),{value:s&&s[i++],done:!s}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function He(s){return this instanceof He?(this.v=s,this):new He(s)}function wi(s,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(s,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",m),r[Symbol.asyncIterator]=function(){return this},r;function m(S){return function(N){return Promise.resolve(N).then(S,C)}}function g(S,N){i[S]&&(r[S]=function(E){return new Promise(function(M,I){o.push([S,E,M,I])>1||x(S,E)})},N&&(r[S]=N(r[S])))}function x(S,N){try{p(i[S](N))}catch(E){b(o[0][3],E)}}function p(S){S.value instanceof He?Promise.resolve(S.value.v).then(v,C):b(o[0][2],S)}function v(S){x("next",S)}function C(S){x("throw",S)}function b(S,N){S(N),o.shift(),o.length&&x(o[0][0],o[0][1])}}function Ys(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=s[Symbol.asyncIterator],t;return e?e.call(s):(s=typeof Cg=="function"?Cg(s):s[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=s[o]&&function(m){return new Promise(function(g,x){m=s[o](m),r(g,x,m.done,m.value)})}}function r(o,m,g,x){Promise.resolve(x).then(function(p){o({value:p,done:g})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function h_(s){var e;if(s.candidates==null||s.candidates.length===0)return!1;const t=(e=s.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:_y(t)}function _y(s){if(s.parts===void 0||s.parts.length===0)return!1;for(const e of s.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function p_(s){if(s.length!==0){for(const e of s)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function _g(s){if(s===void 0||s.length===0)return[];const e=[],t=s.length;let i=0;for(;i<t;)if(s[i].role==="user")e.push(s[i]),i++;else{const r=[];let o=!0;for(;i<t&&s[i].role==="model";)r.push(s[i]),o&&!_y(s[i])&&(o=!1),i++;o?e.push(...r):e.pop()}return e}class g_{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new y_(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class y_{constructor(e,t,i,r={},o=[]){this.apiClient=e,this.modelsModule=t,this.model=i,this.config=r,this.history=o,this.sendPromise=Promise.resolve(),p_(o)}async sendMessage(e){var t;await this.sendPromise;const i=yt(this.apiClient,e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var o,m,g;const x=await r,p=(m=(o=x.candidates)===null||o===void 0?void 0:o[0])===null||m===void 0?void 0:m.content,v=x.automaticFunctionCallingHistory,C=this.getHistory(!0).length;let b=[];v!=null&&(b=(g=v.slice(C))!==null&&g!==void 0?g:[]);const S=p?[p]:[];this.recordHistory(i,S,b)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const i=yt(this.apiClient,e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const o=await r;return this.processStreamResponse(o,i)}getHistory(e=!1){const t=e?_g(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var i,r;return wi(this,arguments,function*(){var m,g,x,p;const v=[];try{for(var C=!0,b=Ys(e),S;S=yield He(b.next()),m=S.done,!m;C=!0){p=S.value,C=!1;const N=p;if(h_(N)){const E=(r=(i=N.candidates)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.content;E!==void 0&&v.push(E)}yield yield He(N)}}catch(N){g={error:N}}finally{try{!C&&!m&&(x=b.return)&&(yield He(x.call(b)))}finally{if(g)throw g.error}}this.recordHistory(t,v)})}recordHistory(e,t,i){let r=[];t.length>0&&t.every(o=>o.role!==void 0)?r=t:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(..._g(i)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function x_(s,e,t){const i={},r=c(e,["pageSize"]);t!==void 0&&r!=null&&d(t,["_query","pageSize"],r);const o=c(e,["pageToken"]);return t!==void 0&&o!=null&&d(t,["_query","pageToken"],o),i}function v_(s,e){const t={},i=c(e,["config"]);return i!=null&&d(t,["config"],x_(s,i,t)),t}function b_(s,e){const t={},i=c(e,["details"]);i!=null&&d(t,["details"],i);const r=c(e,["message"]);r!=null&&d(t,["message"],r);const o=c(e,["code"]);return o!=null&&d(t,["code"],o),t}function T_(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const r=c(e,["displayName"]);r!=null&&d(t,["displayName"],r);const o=c(e,["mimeType"]);o!=null&&d(t,["mimeType"],o);const m=c(e,["sizeBytes"]);m!=null&&d(t,["sizeBytes"],m);const g=c(e,["createTime"]);g!=null&&d(t,["createTime"],g);const x=c(e,["expirationTime"]);x!=null&&d(t,["expirationTime"],x);const p=c(e,["updateTime"]);p!=null&&d(t,["updateTime"],p);const v=c(e,["sha256Hash"]);v!=null&&d(t,["sha256Hash"],v);const C=c(e,["uri"]);C!=null&&d(t,["uri"],C);const b=c(e,["downloadUri"]);b!=null&&d(t,["downloadUri"],b);const S=c(e,["state"]);S!=null&&d(t,["state"],S);const N=c(e,["source"]);N!=null&&d(t,["source"],N);const E=c(e,["videoMetadata"]);E!=null&&d(t,["videoMetadata"],E);const M=c(e,["error"]);return M!=null&&d(t,["error"],b_(s,M)),t}function C_(s,e){const t={},i=c(e,["file"]);i!=null&&d(t,["file"],T_(s,i));const r=c(e,["config"]);return r!=null&&d(t,["config"],r),t}function __(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["_url","file"],by(s,i));const r=c(e,["config"]);return r!=null&&d(t,["config"],r),t}function S_(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["_url","file"],by(s,i));const r=c(e,["config"]);return r!=null&&d(t,["config"],r),t}function N_(s,e){const t={},i=c(e,["details"]);i!=null&&d(t,["details"],i);const r=c(e,["message"]);r!=null&&d(t,["message"],r);const o=c(e,["code"]);return o!=null&&d(t,["code"],o),t}function Dc(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const r=c(e,["displayName"]);r!=null&&d(t,["displayName"],r);const o=c(e,["mimeType"]);o!=null&&d(t,["mimeType"],o);const m=c(e,["sizeBytes"]);m!=null&&d(t,["sizeBytes"],m);const g=c(e,["createTime"]);g!=null&&d(t,["createTime"],g);const x=c(e,["expirationTime"]);x!=null&&d(t,["expirationTime"],x);const p=c(e,["updateTime"]);p!=null&&d(t,["updateTime"],p);const v=c(e,["sha256Hash"]);v!=null&&d(t,["sha256Hash"],v);const C=c(e,["uri"]);C!=null&&d(t,["uri"],C);const b=c(e,["downloadUri"]);b!=null&&d(t,["downloadUri"],b);const S=c(e,["state"]);S!=null&&d(t,["state"],S);const N=c(e,["source"]);N!=null&&d(t,["source"],N);const E=c(e,["videoMetadata"]);E!=null&&d(t,["videoMetadata"],E);const M=c(e,["error"]);return M!=null&&d(t,["error"],N_(s,M)),t}function E_(s,e){const t={},i=c(e,["nextPageToken"]);i!=null&&d(t,["nextPageToken"],i);const r=c(e,["files"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(m=>Dc(s,m))),d(t,["files"],o)}return t}function A_(){return{}}function w_(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class M_ extends ji{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Vl(Ui.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>Dc(this.apiClient,t))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,i;let r,o="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=v_(this.apiClient,e);return o=pe("files",g._url),m=g._query,delete g.config,delete g._url,delete g._query,r=this.apiClient.request({path:o,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),r.then(x=>{const p=E_(this.apiClient,x),v=new ZT;return Object.assign(v,p),v})}}async createInternal(e){var t,i;let r,o="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=C_(this.apiClient,e);return o=pe("upload/v1beta/files",g._url),m=g._query,delete g.config,delete g._url,delete g._query,r=this.apiClient.request({path:o,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),r.then(()=>{const x=A_(),p=new KT;return Object.assign(p,x),p})}}async get(e){var t,i;let r,o="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=__(this.apiClient,e);return o=pe("files/{file}",g._url),m=g._query,delete g.config,delete g._url,delete g._query,r=this.apiClient.request({path:o,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),r.then(x=>Dc(this.apiClient,x))}}async delete(e){var t,i;let r,o="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=S_(this.apiClient,e);return o=pe("files/{file}",g._url),m=g._query,delete g.config,delete g._url,delete g._query,r=this.apiClient.request({path:o,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),r.then(()=>{const x=w_(),p=new JT;return Object.assign(p,x),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function R_(s,e){const t={},i=c(e,["voiceName"]);return i!=null&&d(t,["voiceName"],i),t}function D_(s,e){const t={},i=c(e,["voiceName"]);return i!=null&&d(t,["voiceName"],i),t}function Sy(s,e){const t={},i=c(e,["prebuiltVoiceConfig"]);return i!=null&&d(t,["prebuiltVoiceConfig"],R_(s,i)),t}function I_(s,e){const t={},i=c(e,["prebuiltVoiceConfig"]);return i!=null&&d(t,["prebuiltVoiceConfig"],D_(s,i)),t}function k_(s,e){const t={},i=c(e,["speaker"]);i!=null&&d(t,["speaker"],i);const r=c(e,["voiceConfig"]);return r!=null&&d(t,["voiceConfig"],Sy(s,r)),t}function U_(s,e){const t={},i=c(e,["speakerVoiceConfigs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>k_(s,o))),d(t,["speakerVoiceConfigs"],r)}return t}function L_(s,e){const t={},i=c(e,["voiceConfig"]);i!=null&&d(t,["voiceConfig"],Sy(s,i));const r=c(e,["multiSpeakerVoiceConfig"]);r!=null&&d(t,["multiSpeakerVoiceConfig"],U_(s,r));const o=c(e,["languageCode"]);return o!=null&&d(t,["languageCode"],o),t}function P_(s,e){const t={},i=c(e,["voiceConfig"]);if(i!=null&&d(t,["voiceConfig"],I_(s,i)),c(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=c(e,["languageCode"]);return r!=null&&d(t,["languageCode"],r),t}function j_(s,e){const t={},i=c(e,["fps"]);i!=null&&d(t,["fps"],i);const r=c(e,["endOffset"]);r!=null&&d(t,["endOffset"],r);const o=c(e,["startOffset"]);return o!=null&&d(t,["startOffset"],o),t}function V_(s,e){const t={},i=c(e,["fps"]);i!=null&&d(t,["fps"],i);const r=c(e,["endOffset"]);r!=null&&d(t,["endOffset"],r);const o=c(e,["startOffset"]);return o!=null&&d(t,["startOffset"],o),t}function O_(s,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(e,["data"]);i!=null&&d(t,["data"],i);const r=c(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function B_(s,e){const t={},i=c(e,["displayName"]);i!=null&&d(t,["displayName"],i);const r=c(e,["data"]);r!=null&&d(t,["data"],r);const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function q_(s,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(e,["fileUri"]);i!=null&&d(t,["fileUri"],i);const r=c(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function G_(s,e){const t={},i=c(e,["displayName"]);i!=null&&d(t,["displayName"],i);const r=c(e,["fileUri"]);r!=null&&d(t,["fileUri"],r);const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function z_(s,e){const t={},i=c(e,["videoMetadata"]);i!=null&&d(t,["videoMetadata"],j_(s,i));const r=c(e,["thought"]);r!=null&&d(t,["thought"],r);const o=c(e,["inlineData"]);o!=null&&d(t,["inlineData"],O_(s,o));const m=c(e,["fileData"]);m!=null&&d(t,["fileData"],q_(s,m));const g=c(e,["thoughtSignature"]);g!=null&&d(t,["thoughtSignature"],g);const x=c(e,["codeExecutionResult"]);x!=null&&d(t,["codeExecutionResult"],x);const p=c(e,["executableCode"]);p!=null&&d(t,["executableCode"],p);const v=c(e,["functionCall"]);v!=null&&d(t,["functionCall"],v);const C=c(e,["functionResponse"]);C!=null&&d(t,["functionResponse"],C);const b=c(e,["text"]);return b!=null&&d(t,["text"],b),t}function H_(s,e){const t={},i=c(e,["videoMetadata"]);i!=null&&d(t,["videoMetadata"],V_(s,i));const r=c(e,["thought"]);r!=null&&d(t,["thought"],r);const o=c(e,["inlineData"]);o!=null&&d(t,["inlineData"],B_(s,o));const m=c(e,["fileData"]);m!=null&&d(t,["fileData"],G_(s,m));const g=c(e,["thoughtSignature"]);g!=null&&d(t,["thoughtSignature"],g);const x=c(e,["codeExecutionResult"]);x!=null&&d(t,["codeExecutionResult"],x);const p=c(e,["executableCode"]);p!=null&&d(t,["executableCode"],p);const v=c(e,["functionCall"]);v!=null&&d(t,["functionCall"],v);const C=c(e,["functionResponse"]);C!=null&&d(t,["functionResponse"],C);const b=c(e,["text"]);return b!=null&&d(t,["text"],b),t}function F_(s,e){const t={},i=c(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(m=>z_(s,m))),d(t,["parts"],o)}const r=c(e,["role"]);return r!=null&&d(t,["role"],r),t}function Y_(s,e){const t={},i=c(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(m=>H_(s,m))),d(t,["parts"],o)}const r=c(e,["role"]);return r!=null&&d(t,["role"],r),t}function $_(s,e){const t={},i=c(e,["behavior"]);i!=null&&d(t,["behavior"],i);const r=c(e,["description"]);r!=null&&d(t,["description"],r);const o=c(e,["name"]);o!=null&&d(t,["name"],o);const m=c(e,["parameters"]);m!=null&&d(t,["parameters"],m);const g=c(e,["response"]);return g!=null&&d(t,["response"],g),t}function Z_(s,e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=c(e,["description"]);i!=null&&d(t,["description"],i);const r=c(e,["name"]);r!=null&&d(t,["name"],r);const o=c(e,["parameters"]);o!=null&&d(t,["parameters"],o);const m=c(e,["response"]);return m!=null&&d(t,["response"],m),t}function K_(s,e){const t={},i=c(e,["startTime"]);i!=null&&d(t,["startTime"],i);const r=c(e,["endTime"]);return r!=null&&d(t,["endTime"],r),t}function J_(s,e){const t={},i=c(e,["startTime"]);i!=null&&d(t,["startTime"],i);const r=c(e,["endTime"]);return r!=null&&d(t,["endTime"],r),t}function X_(s,e){const t={},i=c(e,["timeRangeFilter"]);return i!=null&&d(t,["timeRangeFilter"],K_(s,i)),t}function Q_(s,e){const t={},i=c(e,["timeRangeFilter"]);return i!=null&&d(t,["timeRangeFilter"],J_(s,i)),t}function W_(s,e){const t={},i=c(e,["mode"]);i!=null&&d(t,["mode"],i);const r=c(e,["dynamicThreshold"]);return r!=null&&d(t,["dynamicThreshold"],r),t}function eS(s,e){const t={},i=c(e,["mode"]);i!=null&&d(t,["mode"],i);const r=c(e,["dynamicThreshold"]);return r!=null&&d(t,["dynamicThreshold"],r),t}function tS(s,e){const t={},i=c(e,["dynamicRetrievalConfig"]);return i!=null&&d(t,["dynamicRetrievalConfig"],W_(s,i)),t}function nS(s,e){const t={},i=c(e,["dynamicRetrievalConfig"]);return i!=null&&d(t,["dynamicRetrievalConfig"],eS(s,i)),t}function aS(){return{}}function iS(s,e){const t={},i=c(e,["apiKeyString"]);return i!=null&&d(t,["apiKeyString"],i),t}function sS(s,e){const t={},i=c(e,["apiKeyConfig"]);i!=null&&d(t,["apiKeyConfig"],iS(s,i));const r=c(e,["authType"]);r!=null&&d(t,["authType"],r);const o=c(e,["googleServiceAccountConfig"]);o!=null&&d(t,["googleServiceAccountConfig"],o);const m=c(e,["httpBasicAuthConfig"]);m!=null&&d(t,["httpBasicAuthConfig"],m);const g=c(e,["oauthConfig"]);g!=null&&d(t,["oauthConfig"],g);const x=c(e,["oidcConfig"]);return x!=null&&d(t,["oidcConfig"],x),t}function rS(s,e){const t={},i=c(e,["authConfig"]);return i!=null&&d(t,["authConfig"],sS(s,i)),t}function lS(){return{}}function oS(s,e){const t={},i=c(e,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(p=>$_(s,p))),d(t,["functionDeclarations"],x)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=c(e,["googleSearch"]);r!=null&&d(t,["googleSearch"],X_(s,r));const o=c(e,["googleSearchRetrieval"]);if(o!=null&&d(t,["googleSearchRetrieval"],tS(s,o)),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(e,["urlContext"])!=null&&d(t,["urlContext"],lS());const g=c(e,["codeExecution"]);return g!=null&&d(t,["codeExecution"],g),t}function uS(s,e){const t={},i=c(e,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(C=>Z_(s,C))),d(t,["functionDeclarations"],v)}const r=c(e,["retrieval"]);r!=null&&d(t,["retrieval"],r);const o=c(e,["googleSearch"]);o!=null&&d(t,["googleSearch"],Q_(s,o));const m=c(e,["googleSearchRetrieval"]);m!=null&&d(t,["googleSearchRetrieval"],nS(s,m)),c(e,["enterpriseWebSearch"])!=null&&d(t,["enterpriseWebSearch"],aS());const x=c(e,["googleMaps"]);if(x!=null&&d(t,["googleMaps"],rS(s,x)),c(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const p=c(e,["codeExecution"]);return p!=null&&d(t,["codeExecution"],p),t}function cS(s,e){const t={},i=c(e,["handle"]);if(i!=null&&d(t,["handle"],i),c(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function dS(s,e){const t={},i=c(e,["handle"]);i!=null&&d(t,["handle"],i);const r=c(e,["transparent"]);return r!=null&&d(t,["transparent"],r),t}function Sg(){return{}}function Ng(){return{}}function fS(s,e){const t={},i=c(e,["disabled"]);i!=null&&d(t,["disabled"],i);const r=c(e,["startOfSpeechSensitivity"]);r!=null&&d(t,["startOfSpeechSensitivity"],r);const o=c(e,["endOfSpeechSensitivity"]);o!=null&&d(t,["endOfSpeechSensitivity"],o);const m=c(e,["prefixPaddingMs"]);m!=null&&d(t,["prefixPaddingMs"],m);const g=c(e,["silenceDurationMs"]);return g!=null&&d(t,["silenceDurationMs"],g),t}function mS(s,e){const t={},i=c(e,["disabled"]);i!=null&&d(t,["disabled"],i);const r=c(e,["startOfSpeechSensitivity"]);r!=null&&d(t,["startOfSpeechSensitivity"],r);const o=c(e,["endOfSpeechSensitivity"]);o!=null&&d(t,["endOfSpeechSensitivity"],o);const m=c(e,["prefixPaddingMs"]);m!=null&&d(t,["prefixPaddingMs"],m);const g=c(e,["silenceDurationMs"]);return g!=null&&d(t,["silenceDurationMs"],g),t}function hS(s,e){const t={},i=c(e,["automaticActivityDetection"]);i!=null&&d(t,["automaticActivityDetection"],fS(s,i));const r=c(e,["activityHandling"]);r!=null&&d(t,["activityHandling"],r);const o=c(e,["turnCoverage"]);return o!=null&&d(t,["turnCoverage"],o),t}function pS(s,e){const t={},i=c(e,["automaticActivityDetection"]);i!=null&&d(t,["automaticActivityDetection"],mS(s,i));const r=c(e,["activityHandling"]);r!=null&&d(t,["activityHandling"],r);const o=c(e,["turnCoverage"]);return o!=null&&d(t,["turnCoverage"],o),t}function gS(s,e){const t={},i=c(e,["targetTokens"]);return i!=null&&d(t,["targetTokens"],i),t}function yS(s,e){const t={},i=c(e,["targetTokens"]);return i!=null&&d(t,["targetTokens"],i),t}function xS(s,e){const t={},i=c(e,["triggerTokens"]);i!=null&&d(t,["triggerTokens"],i);const r=c(e,["slidingWindow"]);return r!=null&&d(t,["slidingWindow"],gS(s,r)),t}function vS(s,e){const t={},i=c(e,["triggerTokens"]);i!=null&&d(t,["triggerTokens"],i);const r=c(e,["slidingWindow"]);return r!=null&&d(t,["slidingWindow"],yS(s,r)),t}function bS(s,e){const t={},i=c(e,["proactiveAudio"]);return i!=null&&d(t,["proactiveAudio"],i),t}function TS(s,e){const t={},i=c(e,["proactiveAudio"]);return i!=null&&d(t,["proactiveAudio"],i),t}function CS(s,e,t){const i={},r=c(e,["generationConfig"]);t!==void 0&&r!=null&&d(t,["setup","generationConfig"],r);const o=c(e,["responseModalities"]);t!==void 0&&o!=null&&d(t,["setup","generationConfig","responseModalities"],o);const m=c(e,["temperature"]);t!==void 0&&m!=null&&d(t,["setup","generationConfig","temperature"],m);const g=c(e,["topP"]);t!==void 0&&g!=null&&d(t,["setup","generationConfig","topP"],g);const x=c(e,["topK"]);t!==void 0&&x!=null&&d(t,["setup","generationConfig","topK"],x);const p=c(e,["maxOutputTokens"]);t!==void 0&&p!=null&&d(t,["setup","generationConfig","maxOutputTokens"],p);const v=c(e,["mediaResolution"]);t!==void 0&&v!=null&&d(t,["setup","generationConfig","mediaResolution"],v);const C=c(e,["seed"]);t!==void 0&&C!=null&&d(t,["setup","generationConfig","seed"],C);const b=c(e,["speechConfig"]);t!==void 0&&b!=null&&d(t,["setup","generationConfig","speechConfig"],L_(s,Kc(s,b)));const S=c(e,["enableAffectiveDialog"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],S);const N=c(e,["systemInstruction"]);t!==void 0&&N!=null&&d(t,["setup","systemInstruction"],F_(s,yt(s,N)));const E=c(e,["tools"]);if(t!==void 0&&E!=null){let ae=er(s,E);Array.isArray(ae)&&(ae=ae.map(z=>oS(s,Ws(s,z)))),d(t,["setup","tools"],ae)}const M=c(e,["sessionResumption"]);t!==void 0&&M!=null&&d(t,["setup","sessionResumption"],cS(s,M));const I=c(e,["inputAudioTranscription"]);t!==void 0&&I!=null&&d(t,["setup","inputAudioTranscription"],Sg());const j=c(e,["outputAudioTranscription"]);t!==void 0&&j!=null&&d(t,["setup","outputAudioTranscription"],Sg());const B=c(e,["realtimeInputConfig"]);t!==void 0&&B!=null&&d(t,["setup","realtimeInputConfig"],hS(s,B));const Z=c(e,["contextWindowCompression"]);t!==void 0&&Z!=null&&d(t,["setup","contextWindowCompression"],xS(s,Z));const F=c(e,["proactivity"]);return t!==void 0&&F!=null&&d(t,["setup","proactivity"],bS(s,F)),i}function _S(s,e,t){const i={},r=c(e,["generationConfig"]);t!==void 0&&r!=null&&d(t,["setup","generationConfig"],r);const o=c(e,["responseModalities"]);t!==void 0&&o!=null&&d(t,["setup","generationConfig","responseModalities"],o);const m=c(e,["temperature"]);t!==void 0&&m!=null&&d(t,["setup","generationConfig","temperature"],m);const g=c(e,["topP"]);t!==void 0&&g!=null&&d(t,["setup","generationConfig","topP"],g);const x=c(e,["topK"]);t!==void 0&&x!=null&&d(t,["setup","generationConfig","topK"],x);const p=c(e,["maxOutputTokens"]);t!==void 0&&p!=null&&d(t,["setup","generationConfig","maxOutputTokens"],p);const v=c(e,["mediaResolution"]);t!==void 0&&v!=null&&d(t,["setup","generationConfig","mediaResolution"],v);const C=c(e,["seed"]);t!==void 0&&C!=null&&d(t,["setup","generationConfig","seed"],C);const b=c(e,["speechConfig"]);t!==void 0&&b!=null&&d(t,["setup","generationConfig","speechConfig"],P_(s,Kc(s,b)));const S=c(e,["enableAffectiveDialog"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],S);const N=c(e,["systemInstruction"]);t!==void 0&&N!=null&&d(t,["setup","systemInstruction"],Y_(s,yt(s,N)));const E=c(e,["tools"]);if(t!==void 0&&E!=null){let ae=er(s,E);Array.isArray(ae)&&(ae=ae.map(z=>uS(s,Ws(s,z)))),d(t,["setup","tools"],ae)}const M=c(e,["sessionResumption"]);t!==void 0&&M!=null&&d(t,["setup","sessionResumption"],dS(s,M));const I=c(e,["inputAudioTranscription"]);t!==void 0&&I!=null&&d(t,["setup","inputAudioTranscription"],Ng());const j=c(e,["outputAudioTranscription"]);t!==void 0&&j!=null&&d(t,["setup","outputAudioTranscription"],Ng());const B=c(e,["realtimeInputConfig"]);t!==void 0&&B!=null&&d(t,["setup","realtimeInputConfig"],pS(s,B));const Z=c(e,["contextWindowCompression"]);t!==void 0&&Z!=null&&d(t,["setup","contextWindowCompression"],vS(s,Z));const F=c(e,["proactivity"]);return t!==void 0&&F!=null&&d(t,["setup","proactivity"],TS(s,F)),i}function SS(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["setup","model"],ze(s,i));const r=c(e,["config"]);return r!=null&&d(t,["config"],CS(s,r,t)),t}function NS(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["setup","model"],ze(s,i));const r=c(e,["config"]);return r!=null&&d(t,["config"],_S(s,r,t)),t}function ES(){return{}}function AS(){return{}}function wS(){return{}}function MS(){return{}}function RS(s,e){const t={},i=c(e,["media"]);i!=null&&d(t,["mediaChunks"],py(s,i));const r=c(e,["audio"]);r!=null&&d(t,["audio"],eC(s,r));const o=c(e,["audioStreamEnd"]);o!=null&&d(t,["audioStreamEnd"],o);const m=c(e,["video"]);m!=null&&d(t,["video"],WT(s,m));const g=c(e,["text"]);return g!=null&&d(t,["text"],g),c(e,["activityStart"])!=null&&d(t,["activityStart"],ES()),c(e,["activityEnd"])!=null&&d(t,["activityEnd"],wS()),t}function DS(s,e){const t={},i=c(e,["media"]);if(i!=null&&d(t,["mediaChunks"],py(s,i)),c(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const r=c(e,["audioStreamEnd"]);if(r!=null&&d(t,["audioStreamEnd"],r),c(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(c(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return c(e,["activityStart"])!=null&&d(t,["activityStart"],AS()),c(e,["activityEnd"])!=null&&d(t,["activityEnd"],MS()),t}function Ny(s,e){const t={},i=c(e,["text"]);i!=null&&d(t,["text"],i);const r=c(e,["weight"]);return r!=null&&d(t,["weight"],r),t}function IS(s,e){const t={},i=c(e,["weightedPrompts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>Ny(s,o))),d(t,["weightedPrompts"],r)}return t}function Ey(s,e){const t={},i=c(e,["temperature"]);i!=null&&d(t,["temperature"],i);const r=c(e,["topK"]);r!=null&&d(t,["topK"],r);const o=c(e,["seed"]);o!=null&&d(t,["seed"],o);const m=c(e,["guidance"]);m!=null&&d(t,["guidance"],m);const g=c(e,["bpm"]);g!=null&&d(t,["bpm"],g);const x=c(e,["density"]);x!=null&&d(t,["density"],x);const p=c(e,["brightness"]);p!=null&&d(t,["brightness"],p);const v=c(e,["scale"]);v!=null&&d(t,["scale"],v);const C=c(e,["muteBass"]);C!=null&&d(t,["muteBass"],C);const b=c(e,["muteDrums"]);b!=null&&d(t,["muteDrums"],b);const S=c(e,["onlyBassAndDrums"]);return S!=null&&d(t,["onlyBassAndDrums"],S),t}function kS(s,e){const t={},i=c(e,["musicGenerationConfig"]);return i!=null&&d(t,["musicGenerationConfig"],Ey(s,i)),t}function Ay(s,e){const t={},i=c(e,["model"]);return i!=null&&d(t,["model"],i),t}function wy(s,e){const t={},i=c(e,["weightedPrompts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>Ny(s,o))),d(t,["weightedPrompts"],r)}return t}function Ic(s,e){const t={},i=c(e,["setup"]);i!=null&&d(t,["setup"],Ay(s,i));const r=c(e,["clientContent"]);r!=null&&d(t,["clientContent"],wy(s,r));const o=c(e,["musicGenerationConfig"]);o!=null&&d(t,["musicGenerationConfig"],Ey(s,o));const m=c(e,["playbackControl"]);return m!=null&&d(t,["playbackControl"],m),t}function US(){return{}}function LS(){return{}}function PS(s,e){const t={},i=c(e,["fps"]);i!=null&&d(t,["fps"],i);const r=c(e,["endOffset"]);r!=null&&d(t,["endOffset"],r);const o=c(e,["startOffset"]);return o!=null&&d(t,["startOffset"],o),t}function jS(s,e){const t={},i=c(e,["fps"]);i!=null&&d(t,["fps"],i);const r=c(e,["endOffset"]);r!=null&&d(t,["endOffset"],r);const o=c(e,["startOffset"]);return o!=null&&d(t,["startOffset"],o),t}function VS(s,e){const t={},i=c(e,["data"]);i!=null&&d(t,["data"],i);const r=c(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function OS(s,e){const t={},i=c(e,["displayName"]);i!=null&&d(t,["displayName"],i);const r=c(e,["data"]);r!=null&&d(t,["data"],r);const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function BS(s,e){const t={},i=c(e,["fileUri"]);i!=null&&d(t,["fileUri"],i);const r=c(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function qS(s,e){const t={},i=c(e,["displayName"]);i!=null&&d(t,["displayName"],i);const r=c(e,["fileUri"]);r!=null&&d(t,["fileUri"],r);const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function GS(s,e){const t={},i=c(e,["videoMetadata"]);i!=null&&d(t,["videoMetadata"],PS(s,i));const r=c(e,["thought"]);r!=null&&d(t,["thought"],r);const o=c(e,["inlineData"]);o!=null&&d(t,["inlineData"],VS(s,o));const m=c(e,["fileData"]);m!=null&&d(t,["fileData"],BS(s,m));const g=c(e,["thoughtSignature"]);g!=null&&d(t,["thoughtSignature"],g);const x=c(e,["codeExecutionResult"]);x!=null&&d(t,["codeExecutionResult"],x);const p=c(e,["executableCode"]);p!=null&&d(t,["executableCode"],p);const v=c(e,["functionCall"]);v!=null&&d(t,["functionCall"],v);const C=c(e,["functionResponse"]);C!=null&&d(t,["functionResponse"],C);const b=c(e,["text"]);return b!=null&&d(t,["text"],b),t}function zS(s,e){const t={},i=c(e,["videoMetadata"]);i!=null&&d(t,["videoMetadata"],jS(s,i));const r=c(e,["thought"]);r!=null&&d(t,["thought"],r);const o=c(e,["inlineData"]);o!=null&&d(t,["inlineData"],OS(s,o));const m=c(e,["fileData"]);m!=null&&d(t,["fileData"],qS(s,m));const g=c(e,["thoughtSignature"]);g!=null&&d(t,["thoughtSignature"],g);const x=c(e,["codeExecutionResult"]);x!=null&&d(t,["codeExecutionResult"],x);const p=c(e,["executableCode"]);p!=null&&d(t,["executableCode"],p);const v=c(e,["functionCall"]);v!=null&&d(t,["functionCall"],v);const C=c(e,["functionResponse"]);C!=null&&d(t,["functionResponse"],C);const b=c(e,["text"]);return b!=null&&d(t,["text"],b),t}function HS(s,e){const t={},i=c(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(m=>GS(s,m))),d(t,["parts"],o)}const r=c(e,["role"]);return r!=null&&d(t,["role"],r),t}function FS(s,e){const t={},i=c(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(m=>zS(s,m))),d(t,["parts"],o)}const r=c(e,["role"]);return r!=null&&d(t,["role"],r),t}function Eg(s,e){const t={},i=c(e,["text"]);i!=null&&d(t,["text"],i);const r=c(e,["finished"]);return r!=null&&d(t,["finished"],r),t}function Ag(s,e){const t={},i=c(e,["text"]);i!=null&&d(t,["text"],i);const r=c(e,["finished"]);return r!=null&&d(t,["finished"],r),t}function YS(s,e){const t={},i=c(e,["retrievedUrl"]);i!=null&&d(t,["retrievedUrl"],i);const r=c(e,["urlRetrievalStatus"]);return r!=null&&d(t,["urlRetrievalStatus"],r),t}function $S(s,e){const t={},i=c(e,["urlMetadata"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>YS(s,o))),d(t,["urlMetadata"],r)}return t}function ZS(s,e){const t={},i=c(e,["modelTurn"]);i!=null&&d(t,["modelTurn"],HS(s,i));const r=c(e,["turnComplete"]);r!=null&&d(t,["turnComplete"],r);const o=c(e,["interrupted"]);o!=null&&d(t,["interrupted"],o);const m=c(e,["groundingMetadata"]);m!=null&&d(t,["groundingMetadata"],m);const g=c(e,["generationComplete"]);g!=null&&d(t,["generationComplete"],g);const x=c(e,["inputTranscription"]);x!=null&&d(t,["inputTranscription"],Eg(s,x));const p=c(e,["outputTranscription"]);p!=null&&d(t,["outputTranscription"],Eg(s,p));const v=c(e,["urlContextMetadata"]);return v!=null&&d(t,["urlContextMetadata"],$S(s,v)),t}function KS(s,e){const t={},i=c(e,["modelTurn"]);i!=null&&d(t,["modelTurn"],FS(s,i));const r=c(e,["turnComplete"]);r!=null&&d(t,["turnComplete"],r);const o=c(e,["interrupted"]);o!=null&&d(t,["interrupted"],o);const m=c(e,["groundingMetadata"]);m!=null&&d(t,["groundingMetadata"],m);const g=c(e,["generationComplete"]);g!=null&&d(t,["generationComplete"],g);const x=c(e,["inputTranscription"]);x!=null&&d(t,["inputTranscription"],Ag(s,x));const p=c(e,["outputTranscription"]);return p!=null&&d(t,["outputTranscription"],Ag(s,p)),t}function JS(s,e){const t={},i=c(e,["id"]);i!=null&&d(t,["id"],i);const r=c(e,["args"]);r!=null&&d(t,["args"],r);const o=c(e,["name"]);return o!=null&&d(t,["name"],o),t}function XS(s,e){const t={},i=c(e,["args"]);i!=null&&d(t,["args"],i);const r=c(e,["name"]);return r!=null&&d(t,["name"],r),t}function QS(s,e){const t={},i=c(e,["functionCalls"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>JS(s,o))),d(t,["functionCalls"],r)}return t}function WS(s,e){const t={},i=c(e,["functionCalls"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>XS(s,o))),d(t,["functionCalls"],r)}return t}function eN(s,e){const t={},i=c(e,["ids"]);return i!=null&&d(t,["ids"],i),t}function tN(s,e){const t={},i=c(e,["ids"]);return i!=null&&d(t,["ids"],i),t}function yl(s,e){const t={},i=c(e,["modality"]);i!=null&&d(t,["modality"],i);const r=c(e,["tokenCount"]);return r!=null&&d(t,["tokenCount"],r),t}function xl(s,e){const t={},i=c(e,["modality"]);i!=null&&d(t,["modality"],i);const r=c(e,["tokenCount"]);return r!=null&&d(t,["tokenCount"],r),t}function nN(s,e){const t={},i=c(e,["promptTokenCount"]);i!=null&&d(t,["promptTokenCount"],i);const r=c(e,["cachedContentTokenCount"]);r!=null&&d(t,["cachedContentTokenCount"],r);const o=c(e,["responseTokenCount"]);o!=null&&d(t,["responseTokenCount"],o);const m=c(e,["toolUsePromptTokenCount"]);m!=null&&d(t,["toolUsePromptTokenCount"],m);const g=c(e,["thoughtsTokenCount"]);g!=null&&d(t,["thoughtsTokenCount"],g);const x=c(e,["totalTokenCount"]);x!=null&&d(t,["totalTokenCount"],x);const p=c(e,["promptTokensDetails"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(N=>yl(s,N))),d(t,["promptTokensDetails"],S)}const v=c(e,["cacheTokensDetails"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(N=>yl(s,N))),d(t,["cacheTokensDetails"],S)}const C=c(e,["responseTokensDetails"]);if(C!=null){let S=C;Array.isArray(S)&&(S=S.map(N=>yl(s,N))),d(t,["responseTokensDetails"],S)}const b=c(e,["toolUsePromptTokensDetails"]);if(b!=null){let S=b;Array.isArray(S)&&(S=S.map(N=>yl(s,N))),d(t,["toolUsePromptTokensDetails"],S)}return t}function aN(s,e){const t={},i=c(e,["promptTokenCount"]);i!=null&&d(t,["promptTokenCount"],i);const r=c(e,["cachedContentTokenCount"]);r!=null&&d(t,["cachedContentTokenCount"],r);const o=c(e,["candidatesTokenCount"]);o!=null&&d(t,["responseTokenCount"],o);const m=c(e,["toolUsePromptTokenCount"]);m!=null&&d(t,["toolUsePromptTokenCount"],m);const g=c(e,["thoughtsTokenCount"]);g!=null&&d(t,["thoughtsTokenCount"],g);const x=c(e,["totalTokenCount"]);x!=null&&d(t,["totalTokenCount"],x);const p=c(e,["promptTokensDetails"]);if(p!=null){let N=p;Array.isArray(N)&&(N=N.map(E=>xl(s,E))),d(t,["promptTokensDetails"],N)}const v=c(e,["cacheTokensDetails"]);if(v!=null){let N=v;Array.isArray(N)&&(N=N.map(E=>xl(s,E))),d(t,["cacheTokensDetails"],N)}const C=c(e,["candidatesTokensDetails"]);if(C!=null){let N=C;Array.isArray(N)&&(N=N.map(E=>xl(s,E))),d(t,["responseTokensDetails"],N)}const b=c(e,["toolUsePromptTokensDetails"]);if(b!=null){let N=b;Array.isArray(N)&&(N=N.map(E=>xl(s,E))),d(t,["toolUsePromptTokensDetails"],N)}const S=c(e,["trafficType"]);return S!=null&&d(t,["trafficType"],S),t}function iN(s,e){const t={},i=c(e,["timeLeft"]);return i!=null&&d(t,["timeLeft"],i),t}function sN(s,e){const t={},i=c(e,["timeLeft"]);return i!=null&&d(t,["timeLeft"],i),t}function rN(s,e){const t={},i=c(e,["newHandle"]);i!=null&&d(t,["newHandle"],i);const r=c(e,["resumable"]);r!=null&&d(t,["resumable"],r);const o=c(e,["lastConsumedClientMessageIndex"]);return o!=null&&d(t,["lastConsumedClientMessageIndex"],o),t}function lN(s,e){const t={},i=c(e,["newHandle"]);i!=null&&d(t,["newHandle"],i);const r=c(e,["resumable"]);r!=null&&d(t,["resumable"],r);const o=c(e,["lastConsumedClientMessageIndex"]);return o!=null&&d(t,["lastConsumedClientMessageIndex"],o),t}function oN(s,e){const t={};c(e,["setupComplete"])!=null&&d(t,["setupComplete"],US());const r=c(e,["serverContent"]);r!=null&&d(t,["serverContent"],ZS(s,r));const o=c(e,["toolCall"]);o!=null&&d(t,["toolCall"],QS(s,o));const m=c(e,["toolCallCancellation"]);m!=null&&d(t,["toolCallCancellation"],eN(s,m));const g=c(e,["usageMetadata"]);g!=null&&d(t,["usageMetadata"],nN(s,g));const x=c(e,["goAway"]);x!=null&&d(t,["goAway"],iN(s,x));const p=c(e,["sessionResumptionUpdate"]);return p!=null&&d(t,["sessionResumptionUpdate"],rN(s,p)),t}function uN(s,e){const t={};c(e,["setupComplete"])!=null&&d(t,["setupComplete"],LS());const r=c(e,["serverContent"]);r!=null&&d(t,["serverContent"],KS(s,r));const o=c(e,["toolCall"]);o!=null&&d(t,["toolCall"],WS(s,o));const m=c(e,["toolCallCancellation"]);m!=null&&d(t,["toolCallCancellation"],tN(s,m));const g=c(e,["usageMetadata"]);g!=null&&d(t,["usageMetadata"],aN(s,g));const x=c(e,["goAway"]);x!=null&&d(t,["goAway"],sN(s,x));const p=c(e,["sessionResumptionUpdate"]);return p!=null&&d(t,["sessionResumptionUpdate"],lN(s,p)),t}function cN(){return{}}function dN(s,e){const t={},i=c(e,["text"]);i!=null&&d(t,["text"],i);const r=c(e,["weight"]);return r!=null&&d(t,["weight"],r),t}function fN(s,e){const t={},i=c(e,["weightedPrompts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>dN(s,o))),d(t,["weightedPrompts"],r)}return t}function mN(s,e){const t={},i=c(e,["temperature"]);i!=null&&d(t,["temperature"],i);const r=c(e,["topK"]);r!=null&&d(t,["topK"],r);const o=c(e,["seed"]);o!=null&&d(t,["seed"],o);const m=c(e,["guidance"]);m!=null&&d(t,["guidance"],m);const g=c(e,["bpm"]);g!=null&&d(t,["bpm"],g);const x=c(e,["density"]);x!=null&&d(t,["density"],x);const p=c(e,["brightness"]);p!=null&&d(t,["brightness"],p);const v=c(e,["scale"]);v!=null&&d(t,["scale"],v);const C=c(e,["muteBass"]);C!=null&&d(t,["muteBass"],C);const b=c(e,["muteDrums"]);b!=null&&d(t,["muteDrums"],b);const S=c(e,["onlyBassAndDrums"]);return S!=null&&d(t,["onlyBassAndDrums"],S),t}function hN(s,e){const t={},i=c(e,["clientContent"]);i!=null&&d(t,["clientContent"],fN(s,i));const r=c(e,["musicGenerationConfig"]);return r!=null&&d(t,["musicGenerationConfig"],mN(s,r)),t}function pN(s,e){const t={},i=c(e,["data"]);i!=null&&d(t,["data"],i);const r=c(e,["mimeType"]);r!=null&&d(t,["mimeType"],r);const o=c(e,["sourceMetadata"]);return o!=null&&d(t,["sourceMetadata"],hN(s,o)),t}function gN(s,e){const t={},i=c(e,["audioChunks"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>pN(s,o))),d(t,["audioChunks"],r)}return t}function yN(s,e){const t={},i=c(e,["text"]);i!=null&&d(t,["text"],i);const r=c(e,["filteredReason"]);return r!=null&&d(t,["filteredReason"],r),t}function xN(s,e){const t={};c(e,["setupComplete"])!=null&&d(t,["setupComplete"],cN());const r=c(e,["serverContent"]);r!=null&&d(t,["serverContent"],gN(s,r));const o=c(e,["filteredPrompt"]);return o!=null&&d(t,["filteredPrompt"],yN(s,o)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vN(s,e){const t={},i=c(e,["fps"]);i!=null&&d(t,["fps"],i);const r=c(e,["endOffset"]);r!=null&&d(t,["endOffset"],r);const o=c(e,["startOffset"]);return o!=null&&d(t,["startOffset"],o),t}function bN(s,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(e,["data"]);i!=null&&d(t,["data"],i);const r=c(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function TN(s,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(e,["fileUri"]);i!=null&&d(t,["fileUri"],i);const r=c(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function CN(s,e){const t={},i=c(e,["videoMetadata"]);i!=null&&d(t,["videoMetadata"],vN(s,i));const r=c(e,["thought"]);r!=null&&d(t,["thought"],r);const o=c(e,["inlineData"]);o!=null&&d(t,["inlineData"],bN(s,o));const m=c(e,["fileData"]);m!=null&&d(t,["fileData"],TN(s,m));const g=c(e,["thoughtSignature"]);g!=null&&d(t,["thoughtSignature"],g);const x=c(e,["codeExecutionResult"]);x!=null&&d(t,["codeExecutionResult"],x);const p=c(e,["executableCode"]);p!=null&&d(t,["executableCode"],p);const v=c(e,["functionCall"]);v!=null&&d(t,["functionCall"],v);const C=c(e,["functionResponse"]);C!=null&&d(t,["functionResponse"],C);const b=c(e,["text"]);return b!=null&&d(t,["text"],b),t}function Ol(s,e){const t={},i=c(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(m=>CN(s,m))),d(t,["parts"],o)}const r=c(e,["role"]);return r!=null&&d(t,["role"],r),t}function _N(s,e){const t={},i=c(e,["anyOf"]);i!=null&&d(t,["anyOf"],i);const r=c(e,["default"]);r!=null&&d(t,["default"],r);const o=c(e,["description"]);o!=null&&d(t,["description"],o);const m=c(e,["enum"]);m!=null&&d(t,["enum"],m);const g=c(e,["example"]);g!=null&&d(t,["example"],g);const x=c(e,["format"]);x!=null&&d(t,["format"],x);const p=c(e,["items"]);p!=null&&d(t,["items"],p);const v=c(e,["maxItems"]);v!=null&&d(t,["maxItems"],v);const C=c(e,["maxLength"]);C!=null&&d(t,["maxLength"],C);const b=c(e,["maxProperties"]);b!=null&&d(t,["maxProperties"],b);const S=c(e,["maximum"]);S!=null&&d(t,["maximum"],S);const N=c(e,["minItems"]);N!=null&&d(t,["minItems"],N);const E=c(e,["minLength"]);E!=null&&d(t,["minLength"],E);const M=c(e,["minProperties"]);M!=null&&d(t,["minProperties"],M);const I=c(e,["minimum"]);I!=null&&d(t,["minimum"],I);const j=c(e,["nullable"]);j!=null&&d(t,["nullable"],j);const B=c(e,["pattern"]);B!=null&&d(t,["pattern"],B);const Z=c(e,["properties"]);Z!=null&&d(t,["properties"],Z);const F=c(e,["propertyOrdering"]);F!=null&&d(t,["propertyOrdering"],F);const ae=c(e,["required"]);ae!=null&&d(t,["required"],ae);const z=c(e,["title"]);z!=null&&d(t,["title"],z);const J=c(e,["type"]);return J!=null&&d(t,["type"],J),t}function SN(s,e){const t={};if(c(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=c(e,["category"]);i!=null&&d(t,["category"],i);const r=c(e,["threshold"]);return r!=null&&d(t,["threshold"],r),t}function NN(s,e){const t={},i=c(e,["behavior"]);i!=null&&d(t,["behavior"],i);const r=c(e,["description"]);r!=null&&d(t,["description"],r);const o=c(e,["name"]);o!=null&&d(t,["name"],o);const m=c(e,["parameters"]);m!=null&&d(t,["parameters"],m);const g=c(e,["response"]);return g!=null&&d(t,["response"],g),t}function EN(s,e){const t={},i=c(e,["startTime"]);i!=null&&d(t,["startTime"],i);const r=c(e,["endTime"]);return r!=null&&d(t,["endTime"],r),t}function AN(s,e){const t={},i=c(e,["timeRangeFilter"]);return i!=null&&d(t,["timeRangeFilter"],EN(s,i)),t}function wN(s,e){const t={},i=c(e,["mode"]);i!=null&&d(t,["mode"],i);const r=c(e,["dynamicThreshold"]);return r!=null&&d(t,["dynamicThreshold"],r),t}function MN(s,e){const t={},i=c(e,["dynamicRetrievalConfig"]);return i!=null&&d(t,["dynamicRetrievalConfig"],wN(s,i)),t}function RN(){return{}}function DN(s,e){const t={},i=c(e,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(p=>NN(s,p))),d(t,["functionDeclarations"],x)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=c(e,["googleSearch"]);r!=null&&d(t,["googleSearch"],AN(s,r));const o=c(e,["googleSearchRetrieval"]);if(o!=null&&d(t,["googleSearchRetrieval"],MN(s,o)),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(e,["urlContext"])!=null&&d(t,["urlContext"],RN());const g=c(e,["codeExecution"]);return g!=null&&d(t,["codeExecution"],g),t}function IN(s,e){const t={},i=c(e,["mode"]);i!=null&&d(t,["mode"],i);const r=c(e,["allowedFunctionNames"]);return r!=null&&d(t,["allowedFunctionNames"],r),t}function kN(s,e){const t={},i=c(e,["latitude"]);i!=null&&d(t,["latitude"],i);const r=c(e,["longitude"]);return r!=null&&d(t,["longitude"],r),t}function UN(s,e){const t={},i=c(e,["latLng"]);i!=null&&d(t,["latLng"],kN(s,i));const r=c(e,["languageCode"]);return r!=null&&d(t,["languageCode"],r),t}function LN(s,e){const t={},i=c(e,["functionCallingConfig"]);i!=null&&d(t,["functionCallingConfig"],IN(s,i));const r=c(e,["retrievalConfig"]);return r!=null&&d(t,["retrievalConfig"],UN(s,r)),t}function PN(s,e){const t={},i=c(e,["voiceName"]);return i!=null&&d(t,["voiceName"],i),t}function My(s,e){const t={},i=c(e,["prebuiltVoiceConfig"]);return i!=null&&d(t,["prebuiltVoiceConfig"],PN(s,i)),t}function jN(s,e){const t={},i=c(e,["speaker"]);i!=null&&d(t,["speaker"],i);const r=c(e,["voiceConfig"]);return r!=null&&d(t,["voiceConfig"],My(s,r)),t}function VN(s,e){const t={},i=c(e,["speakerVoiceConfigs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>jN(s,o))),d(t,["speakerVoiceConfigs"],r)}return t}function ON(s,e){const t={},i=c(e,["voiceConfig"]);i!=null&&d(t,["voiceConfig"],My(s,i));const r=c(e,["multiSpeakerVoiceConfig"]);r!=null&&d(t,["multiSpeakerVoiceConfig"],VN(s,r));const o=c(e,["languageCode"]);return o!=null&&d(t,["languageCode"],o),t}function BN(s,e){const t={},i=c(e,["includeThoughts"]);i!=null&&d(t,["includeThoughts"],i);const r=c(e,["thinkingBudget"]);return r!=null&&d(t,["thinkingBudget"],r),t}function qN(s,e,t){const i={},r=c(e,["systemInstruction"]);t!==void 0&&r!=null&&d(t,["systemInstruction"],Ol(s,yt(s,r)));const o=c(e,["temperature"]);o!=null&&d(i,["temperature"],o);const m=c(e,["topP"]);m!=null&&d(i,["topP"],m);const g=c(e,["topK"]);g!=null&&d(i,["topK"],g);const x=c(e,["candidateCount"]);x!=null&&d(i,["candidateCount"],x);const p=c(e,["maxOutputTokens"]);p!=null&&d(i,["maxOutputTokens"],p);const v=c(e,["stopSequences"]);v!=null&&d(i,["stopSequences"],v);const C=c(e,["responseLogprobs"]);C!=null&&d(i,["responseLogprobs"],C);const b=c(e,["logprobs"]);b!=null&&d(i,["logprobs"],b);const S=c(e,["presencePenalty"]);S!=null&&d(i,["presencePenalty"],S);const N=c(e,["frequencyPenalty"]);N!=null&&d(i,["frequencyPenalty"],N);const E=c(e,["seed"]);E!=null&&d(i,["seed"],E);const M=c(e,["responseMimeType"]);M!=null&&d(i,["responseMimeType"],M);const I=c(e,["responseSchema"]);if(I!=null&&d(i,["responseSchema"],_N(s,Ul(s,I))),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const j=c(e,["safetySettings"]);if(t!==void 0&&j!=null){let ue=j;Array.isArray(ue)&&(ue=ue.map(ke=>SN(s,ke))),d(t,["safetySettings"],ue)}const B=c(e,["tools"]);if(t!==void 0&&B!=null){let ue=er(s,B);Array.isArray(ue)&&(ue=ue.map(ke=>DN(s,Ws(s,ke)))),d(t,["tools"],ue)}const Z=c(e,["toolConfig"]);if(t!==void 0&&Z!=null&&d(t,["toolConfig"],LN(s,Z)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=c(e,["cachedContent"]);t!==void 0&&F!=null&&d(t,["cachedContent"],fa(s,F));const ae=c(e,["responseModalities"]);ae!=null&&d(i,["responseModalities"],ae);const z=c(e,["mediaResolution"]);z!=null&&d(i,["mediaResolution"],z);const J=c(e,["speechConfig"]);if(J!=null&&d(i,["speechConfig"],ON(s,xy(s,J))),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const te=c(e,["thinkingConfig"]);return te!=null&&d(i,["thinkingConfig"],BN(s,te)),i}function wg(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],ze(s,i));const r=c(e,["contents"]);if(r!=null){let m=en(s,r);Array.isArray(m)&&(m=m.map(g=>Ol(s,g))),d(t,["contents"],m)}const o=c(e,["config"]);return o!=null&&d(t,["generationConfig"],qN(s,o,t)),t}function GN(s,e,t){const i={},r=c(e,["taskType"]);t!==void 0&&r!=null&&d(t,["requests[]","taskType"],r);const o=c(e,["title"]);t!==void 0&&o!=null&&d(t,["requests[]","title"],o);const m=c(e,["outputDimensionality"]);if(t!==void 0&&m!=null&&d(t,["requests[]","outputDimensionality"],m),c(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function zN(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],ze(s,i));const r=c(e,["contents"]);r!=null&&d(t,["requests[]","content"],yy(s,r));const o=c(e,["config"]);o!=null&&d(t,["config"],GN(s,o,t));const m=c(e,["model"]);return m!==void 0&&d(t,["requests[]","model"],ze(s,m)),t}function HN(s,e,t){const i={};if(c(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=c(e,["numberOfImages"]);t!==void 0&&r!=null&&d(t,["parameters","sampleCount"],r);const o=c(e,["aspectRatio"]);t!==void 0&&o!=null&&d(t,["parameters","aspectRatio"],o);const m=c(e,["guidanceScale"]);if(t!==void 0&&m!=null&&d(t,["parameters","guidanceScale"],m),c(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const g=c(e,["safetyFilterLevel"]);t!==void 0&&g!=null&&d(t,["parameters","safetySetting"],g);const x=c(e,["personGeneration"]);t!==void 0&&x!=null&&d(t,["parameters","personGeneration"],x);const p=c(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&d(t,["parameters","includeSafetyAttributes"],p);const v=c(e,["includeRaiReason"]);t!==void 0&&v!=null&&d(t,["parameters","includeRaiReason"],v);const C=c(e,["language"]);t!==void 0&&C!=null&&d(t,["parameters","language"],C);const b=c(e,["outputMimeType"]);t!==void 0&&b!=null&&d(t,["parameters","outputOptions","mimeType"],b);const S=c(e,["outputCompressionQuality"]);if(t!==void 0&&S!=null&&d(t,["parameters","outputOptions","compressionQuality"],S),c(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function FN(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],ze(s,i));const r=c(e,["prompt"]);r!=null&&d(t,["instances[0]","prompt"],r);const o=c(e,["config"]);return o!=null&&d(t,["config"],HN(s,o,t)),t}function YN(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","name"],ze(s,i));const r=c(e,["config"]);return r!=null&&d(t,["config"],r),t}function $N(s,e,t){const i={},r=c(e,["pageSize"]);t!==void 0&&r!=null&&d(t,["_query","pageSize"],r);const o=c(e,["pageToken"]);t!==void 0&&o!=null&&d(t,["_query","pageToken"],o);const m=c(e,["filter"]);t!==void 0&&m!=null&&d(t,["_query","filter"],m);const g=c(e,["queryBase"]);return t!==void 0&&g!=null&&d(t,["_url","models_url"],Ty(s,g)),i}function ZN(s,e){const t={},i=c(e,["config"]);return i!=null&&d(t,["config"],$N(s,i,t)),t}function KN(s,e,t){const i={},r=c(e,["displayName"]);t!==void 0&&r!=null&&d(t,["displayName"],r);const o=c(e,["description"]);t!==void 0&&o!=null&&d(t,["description"],o);const m=c(e,["defaultCheckpointId"]);return t!==void 0&&m!=null&&d(t,["defaultCheckpointId"],m),i}function JN(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","name"],ze(s,i));const r=c(e,["config"]);return r!=null&&d(t,["config"],KN(s,r,t)),t}function XN(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","name"],ze(s,i));const r=c(e,["config"]);return r!=null&&d(t,["config"],r),t}function QN(s,e){const t={};if(c(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function WN(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],ze(s,i));const r=c(e,["contents"]);if(r!=null){let m=en(s,r);Array.isArray(m)&&(m=m.map(g=>Ol(s,g))),d(t,["contents"],m)}const o=c(e,["config"]);return o!=null&&d(t,["config"],QN(s,o)),t}function eE(s,e){const t={};if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=c(e,["imageBytes"]);i!=null&&d(t,["bytesBase64Encoded"],ma(s,i));const r=c(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function tE(s,e,t){const i={},r=c(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&d(t,["parameters","sampleCount"],r),c(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=c(e,["durationSeconds"]);if(t!==void 0&&o!=null&&d(t,["parameters","durationSeconds"],o),c(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=c(e,["aspectRatio"]);if(t!==void 0&&m!=null&&d(t,["parameters","aspectRatio"],m),c(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const g=c(e,["personGeneration"]);if(t!==void 0&&g!=null&&d(t,["parameters","personGeneration"],g),c(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const x=c(e,["negativePrompt"]);if(t!==void 0&&x!=null&&d(t,["parameters","negativePrompt"],x),c(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");if(c(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");return i}function nE(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],ze(s,i));const r=c(e,["prompt"]);r!=null&&d(t,["instances[0]","prompt"],r);const o=c(e,["image"]);o!=null&&d(t,["instances[0]","image"],eE(s,o));const m=c(e,["config"]);return m!=null&&d(t,["config"],tE(s,m,t)),t}function aE(s,e){const t={},i=c(e,["fps"]);i!=null&&d(t,["fps"],i);const r=c(e,["endOffset"]);r!=null&&d(t,["endOffset"],r);const o=c(e,["startOffset"]);return o!=null&&d(t,["startOffset"],o),t}function iE(s,e){const t={},i=c(e,["displayName"]);i!=null&&d(t,["displayName"],i);const r=c(e,["data"]);r!=null&&d(t,["data"],r);const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function sE(s,e){const t={},i=c(e,["displayName"]);i!=null&&d(t,["displayName"],i);const r=c(e,["fileUri"]);r!=null&&d(t,["fileUri"],r);const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function rE(s,e){const t={},i=c(e,["videoMetadata"]);i!=null&&d(t,["videoMetadata"],aE(s,i));const r=c(e,["thought"]);r!=null&&d(t,["thought"],r);const o=c(e,["inlineData"]);o!=null&&d(t,["inlineData"],iE(s,o));const m=c(e,["fileData"]);m!=null&&d(t,["fileData"],sE(s,m));const g=c(e,["thoughtSignature"]);g!=null&&d(t,["thoughtSignature"],g);const x=c(e,["codeExecutionResult"]);x!=null&&d(t,["codeExecutionResult"],x);const p=c(e,["executableCode"]);p!=null&&d(t,["executableCode"],p);const v=c(e,["functionCall"]);v!=null&&d(t,["functionCall"],v);const C=c(e,["functionResponse"]);C!=null&&d(t,["functionResponse"],C);const b=c(e,["text"]);return b!=null&&d(t,["text"],b),t}function Vi(s,e){const t={},i=c(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(m=>rE(s,m))),d(t,["parts"],o)}const r=c(e,["role"]);return r!=null&&d(t,["role"],r),t}function lE(s,e){const t={},i=c(e,["anyOf"]);i!=null&&d(t,["anyOf"],i);const r=c(e,["default"]);r!=null&&d(t,["default"],r);const o=c(e,["description"]);o!=null&&d(t,["description"],o);const m=c(e,["enum"]);m!=null&&d(t,["enum"],m);const g=c(e,["example"]);g!=null&&d(t,["example"],g);const x=c(e,["format"]);x!=null&&d(t,["format"],x);const p=c(e,["items"]);p!=null&&d(t,["items"],p);const v=c(e,["maxItems"]);v!=null&&d(t,["maxItems"],v);const C=c(e,["maxLength"]);C!=null&&d(t,["maxLength"],C);const b=c(e,["maxProperties"]);b!=null&&d(t,["maxProperties"],b);const S=c(e,["maximum"]);S!=null&&d(t,["maximum"],S);const N=c(e,["minItems"]);N!=null&&d(t,["minItems"],N);const E=c(e,["minLength"]);E!=null&&d(t,["minLength"],E);const M=c(e,["minProperties"]);M!=null&&d(t,["minProperties"],M);const I=c(e,["minimum"]);I!=null&&d(t,["minimum"],I);const j=c(e,["nullable"]);j!=null&&d(t,["nullable"],j);const B=c(e,["pattern"]);B!=null&&d(t,["pattern"],B);const Z=c(e,["properties"]);Z!=null&&d(t,["properties"],Z);const F=c(e,["propertyOrdering"]);F!=null&&d(t,["propertyOrdering"],F);const ae=c(e,["required"]);ae!=null&&d(t,["required"],ae);const z=c(e,["title"]);z!=null&&d(t,["title"],z);const J=c(e,["type"]);return J!=null&&d(t,["type"],J),t}function oE(s,e){const t={},i=c(e,["featureSelectionPreference"]);return i!=null&&d(t,["featureSelectionPreference"],i),t}function uE(s,e){const t={},i=c(e,["method"]);i!=null&&d(t,["method"],i);const r=c(e,["category"]);r!=null&&d(t,["category"],r);const o=c(e,["threshold"]);return o!=null&&d(t,["threshold"],o),t}function cE(s,e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=c(e,["description"]);i!=null&&d(t,["description"],i);const r=c(e,["name"]);r!=null&&d(t,["name"],r);const o=c(e,["parameters"]);o!=null&&d(t,["parameters"],o);const m=c(e,["response"]);return m!=null&&d(t,["response"],m),t}function dE(s,e){const t={},i=c(e,["startTime"]);i!=null&&d(t,["startTime"],i);const r=c(e,["endTime"]);return r!=null&&d(t,["endTime"],r),t}function fE(s,e){const t={},i=c(e,["timeRangeFilter"]);return i!=null&&d(t,["timeRangeFilter"],dE(s,i)),t}function mE(s,e){const t={},i=c(e,["mode"]);i!=null&&d(t,["mode"],i);const r=c(e,["dynamicThreshold"]);return r!=null&&d(t,["dynamicThreshold"],r),t}function hE(s,e){const t={},i=c(e,["dynamicRetrievalConfig"]);return i!=null&&d(t,["dynamicRetrievalConfig"],mE(s,i)),t}function pE(){return{}}function gE(s,e){const t={},i=c(e,["apiKeyString"]);return i!=null&&d(t,["apiKeyString"],i),t}function yE(s,e){const t={},i=c(e,["apiKeyConfig"]);i!=null&&d(t,["apiKeyConfig"],gE(s,i));const r=c(e,["authType"]);r!=null&&d(t,["authType"],r);const o=c(e,["googleServiceAccountConfig"]);o!=null&&d(t,["googleServiceAccountConfig"],o);const m=c(e,["httpBasicAuthConfig"]);m!=null&&d(t,["httpBasicAuthConfig"],m);const g=c(e,["oauthConfig"]);g!=null&&d(t,["oauthConfig"],g);const x=c(e,["oidcConfig"]);return x!=null&&d(t,["oidcConfig"],x),t}function xE(s,e){const t={},i=c(e,["authConfig"]);return i!=null&&d(t,["authConfig"],yE(s,i)),t}function Ry(s,e){const t={},i=c(e,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(C=>cE(s,C))),d(t,["functionDeclarations"],v)}const r=c(e,["retrieval"]);r!=null&&d(t,["retrieval"],r);const o=c(e,["googleSearch"]);o!=null&&d(t,["googleSearch"],fE(s,o));const m=c(e,["googleSearchRetrieval"]);m!=null&&d(t,["googleSearchRetrieval"],hE(s,m)),c(e,["enterpriseWebSearch"])!=null&&d(t,["enterpriseWebSearch"],pE());const x=c(e,["googleMaps"]);if(x!=null&&d(t,["googleMaps"],xE(s,x)),c(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const p=c(e,["codeExecution"]);return p!=null&&d(t,["codeExecution"],p),t}function vE(s,e){const t={},i=c(e,["mode"]);i!=null&&d(t,["mode"],i);const r=c(e,["allowedFunctionNames"]);return r!=null&&d(t,["allowedFunctionNames"],r),t}function bE(s,e){const t={},i=c(e,["latitude"]);i!=null&&d(t,["latitude"],i);const r=c(e,["longitude"]);return r!=null&&d(t,["longitude"],r),t}function TE(s,e){const t={},i=c(e,["latLng"]);i!=null&&d(t,["latLng"],bE(s,i));const r=c(e,["languageCode"]);return r!=null&&d(t,["languageCode"],r),t}function CE(s,e){const t={},i=c(e,["functionCallingConfig"]);i!=null&&d(t,["functionCallingConfig"],vE(s,i));const r=c(e,["retrievalConfig"]);return r!=null&&d(t,["retrievalConfig"],TE(s,r)),t}function _E(s,e){const t={},i=c(e,["voiceName"]);return i!=null&&d(t,["voiceName"],i),t}function SE(s,e){const t={},i=c(e,["prebuiltVoiceConfig"]);return i!=null&&d(t,["prebuiltVoiceConfig"],_E(s,i)),t}function NE(s,e){const t={},i=c(e,["voiceConfig"]);if(i!=null&&d(t,["voiceConfig"],SE(s,i)),c(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=c(e,["languageCode"]);return r!=null&&d(t,["languageCode"],r),t}function EE(s,e){const t={},i=c(e,["includeThoughts"]);i!=null&&d(t,["includeThoughts"],i);const r=c(e,["thinkingBudget"]);return r!=null&&d(t,["thinkingBudget"],r),t}function AE(s,e,t){const i={},r=c(e,["systemInstruction"]);t!==void 0&&r!=null&&d(t,["systemInstruction"],Vi(s,yt(s,r)));const o=c(e,["temperature"]);o!=null&&d(i,["temperature"],o);const m=c(e,["topP"]);m!=null&&d(i,["topP"],m);const g=c(e,["topK"]);g!=null&&d(i,["topK"],g);const x=c(e,["candidateCount"]);x!=null&&d(i,["candidateCount"],x);const p=c(e,["maxOutputTokens"]);p!=null&&d(i,["maxOutputTokens"],p);const v=c(e,["stopSequences"]);v!=null&&d(i,["stopSequences"],v);const C=c(e,["responseLogprobs"]);C!=null&&d(i,["responseLogprobs"],C);const b=c(e,["logprobs"]);b!=null&&d(i,["logprobs"],b);const S=c(e,["presencePenalty"]);S!=null&&d(i,["presencePenalty"],S);const N=c(e,["frequencyPenalty"]);N!=null&&d(i,["frequencyPenalty"],N);const E=c(e,["seed"]);E!=null&&d(i,["seed"],E);const M=c(e,["responseMimeType"]);M!=null&&d(i,["responseMimeType"],M);const I=c(e,["responseSchema"]);I!=null&&d(i,["responseSchema"],lE(s,Ul(s,I)));const j=c(e,["routingConfig"]);j!=null&&d(i,["routingConfig"],j);const B=c(e,["modelSelectionConfig"]);B!=null&&d(i,["modelConfig"],oE(s,B));const Z=c(e,["safetySettings"]);if(t!==void 0&&Z!=null){let K=Z;Array.isArray(K)&&(K=K.map(we=>uE(s,we))),d(t,["safetySettings"],K)}const F=c(e,["tools"]);if(t!==void 0&&F!=null){let K=er(s,F);Array.isArray(K)&&(K=K.map(we=>Ry(s,Ws(s,we)))),d(t,["tools"],K)}const ae=c(e,["toolConfig"]);t!==void 0&&ae!=null&&d(t,["toolConfig"],CE(s,ae));const z=c(e,["labels"]);t!==void 0&&z!=null&&d(t,["labels"],z);const J=c(e,["cachedContent"]);t!==void 0&&J!=null&&d(t,["cachedContent"],fa(s,J));const te=c(e,["responseModalities"]);te!=null&&d(i,["responseModalities"],te);const ue=c(e,["mediaResolution"]);ue!=null&&d(i,["mediaResolution"],ue);const ke=c(e,["speechConfig"]);ke!=null&&d(i,["speechConfig"],NE(s,xy(s,ke)));const Pe=c(e,["audioTimestamp"]);Pe!=null&&d(i,["audioTimestamp"],Pe);const Pt=c(e,["thinkingConfig"]);return Pt!=null&&d(i,["thinkingConfig"],EE(s,Pt)),i}function Mg(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],ze(s,i));const r=c(e,["contents"]);if(r!=null){let m=en(s,r);Array.isArray(m)&&(m=m.map(g=>Vi(s,g))),d(t,["contents"],m)}const o=c(e,["config"]);return o!=null&&d(t,["generationConfig"],AE(s,o,t)),t}function wE(s,e,t){const i={},r=c(e,["taskType"]);t!==void 0&&r!=null&&d(t,["instances[]","task_type"],r);const o=c(e,["title"]);t!==void 0&&o!=null&&d(t,["instances[]","title"],o);const m=c(e,["outputDimensionality"]);t!==void 0&&m!=null&&d(t,["parameters","outputDimensionality"],m);const g=c(e,["mimeType"]);t!==void 0&&g!=null&&d(t,["instances[]","mimeType"],g);const x=c(e,["autoTruncate"]);return t!==void 0&&x!=null&&d(t,["parameters","autoTruncate"],x),i}function ME(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],ze(s,i));const r=c(e,["contents"]);r!=null&&d(t,["instances[]","content"],yy(s,r));const o=c(e,["config"]);return o!=null&&d(t,["config"],wE(s,o,t)),t}function RE(s,e,t){const i={},r=c(e,["outputGcsUri"]);t!==void 0&&r!=null&&d(t,["parameters","storageUri"],r);const o=c(e,["negativePrompt"]);t!==void 0&&o!=null&&d(t,["parameters","negativePrompt"],o);const m=c(e,["numberOfImages"]);t!==void 0&&m!=null&&d(t,["parameters","sampleCount"],m);const g=c(e,["aspectRatio"]);t!==void 0&&g!=null&&d(t,["parameters","aspectRatio"],g);const x=c(e,["guidanceScale"]);t!==void 0&&x!=null&&d(t,["parameters","guidanceScale"],x);const p=c(e,["seed"]);t!==void 0&&p!=null&&d(t,["parameters","seed"],p);const v=c(e,["safetyFilterLevel"]);t!==void 0&&v!=null&&d(t,["parameters","safetySetting"],v);const C=c(e,["personGeneration"]);t!==void 0&&C!=null&&d(t,["parameters","personGeneration"],C);const b=c(e,["includeSafetyAttributes"]);t!==void 0&&b!=null&&d(t,["parameters","includeSafetyAttributes"],b);const S=c(e,["includeRaiReason"]);t!==void 0&&S!=null&&d(t,["parameters","includeRaiReason"],S);const N=c(e,["language"]);t!==void 0&&N!=null&&d(t,["parameters","language"],N);const E=c(e,["outputMimeType"]);t!==void 0&&E!=null&&d(t,["parameters","outputOptions","mimeType"],E);const M=c(e,["outputCompressionQuality"]);t!==void 0&&M!=null&&d(t,["parameters","outputOptions","compressionQuality"],M);const I=c(e,["addWatermark"]);t!==void 0&&I!=null&&d(t,["parameters","addWatermark"],I);const j=c(e,["enhancePrompt"]);return t!==void 0&&j!=null&&d(t,["parameters","enhancePrompt"],j),i}function DE(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],ze(s,i));const r=c(e,["prompt"]);r!=null&&d(t,["instances[0]","prompt"],r);const o=c(e,["config"]);return o!=null&&d(t,["config"],RE(s,o,t)),t}function Jc(s,e){const t={},i=c(e,["gcsUri"]);i!=null&&d(t,["gcsUri"],i);const r=c(e,["imageBytes"]);r!=null&&d(t,["bytesBase64Encoded"],ma(s,r));const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function IE(s,e){const t={},i=c(e,["maskMode"]);i!=null&&d(t,["maskMode"],i);const r=c(e,["segmentationClasses"]);r!=null&&d(t,["maskClasses"],r);const o=c(e,["maskDilation"]);return o!=null&&d(t,["dilation"],o),t}function kE(s,e){const t={},i=c(e,["controlType"]);i!=null&&d(t,["controlType"],i);const r=c(e,["enableControlImageComputation"]);return r!=null&&d(t,["computeControl"],r),t}function UE(s,e){const t={},i=c(e,["styleDescription"]);return i!=null&&d(t,["styleDescription"],i),t}function LE(s,e){const t={},i=c(e,["subjectType"]);i!=null&&d(t,["subjectType"],i);const r=c(e,["subjectDescription"]);return r!=null&&d(t,["subjectDescription"],r),t}function PE(s,e){const t={},i=c(e,["referenceImage"]);i!=null&&d(t,["referenceImage"],Jc(s,i));const r=c(e,["referenceId"]);r!=null&&d(t,["referenceId"],r);const o=c(e,["referenceType"]);o!=null&&d(t,["referenceType"],o);const m=c(e,["maskImageConfig"]);m!=null&&d(t,["maskImageConfig"],IE(s,m));const g=c(e,["controlImageConfig"]);g!=null&&d(t,["controlImageConfig"],kE(s,g));const x=c(e,["styleImageConfig"]);x!=null&&d(t,["styleImageConfig"],UE(s,x));const p=c(e,["subjectImageConfig"]);return p!=null&&d(t,["subjectImageConfig"],LE(s,p)),t}function jE(s,e,t){const i={},r=c(e,["outputGcsUri"]);t!==void 0&&r!=null&&d(t,["parameters","storageUri"],r);const o=c(e,["negativePrompt"]);t!==void 0&&o!=null&&d(t,["parameters","negativePrompt"],o);const m=c(e,["numberOfImages"]);t!==void 0&&m!=null&&d(t,["parameters","sampleCount"],m);const g=c(e,["aspectRatio"]);t!==void 0&&g!=null&&d(t,["parameters","aspectRatio"],g);const x=c(e,["guidanceScale"]);t!==void 0&&x!=null&&d(t,["parameters","guidanceScale"],x);const p=c(e,["seed"]);t!==void 0&&p!=null&&d(t,["parameters","seed"],p);const v=c(e,["safetyFilterLevel"]);t!==void 0&&v!=null&&d(t,["parameters","safetySetting"],v);const C=c(e,["personGeneration"]);t!==void 0&&C!=null&&d(t,["parameters","personGeneration"],C);const b=c(e,["includeSafetyAttributes"]);t!==void 0&&b!=null&&d(t,["parameters","includeSafetyAttributes"],b);const S=c(e,["includeRaiReason"]);t!==void 0&&S!=null&&d(t,["parameters","includeRaiReason"],S);const N=c(e,["language"]);t!==void 0&&N!=null&&d(t,["parameters","language"],N);const E=c(e,["outputMimeType"]);t!==void 0&&E!=null&&d(t,["parameters","outputOptions","mimeType"],E);const M=c(e,["outputCompressionQuality"]);t!==void 0&&M!=null&&d(t,["parameters","outputOptions","compressionQuality"],M);const I=c(e,["editMode"]);t!==void 0&&I!=null&&d(t,["parameters","editMode"],I);const j=c(e,["baseSteps"]);return t!==void 0&&j!=null&&d(t,["parameters","editConfig","baseSteps"],j),i}function VE(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],ze(s,i));const r=c(e,["prompt"]);r!=null&&d(t,["instances[0]","prompt"],r);const o=c(e,["referenceImages"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(x=>PE(s,x))),d(t,["instances[0]","referenceImages"],g)}const m=c(e,["config"]);return m!=null&&d(t,["config"],jE(s,m,t)),t}function OE(s,e,t){const i={},r=c(e,["includeRaiReason"]);t!==void 0&&r!=null&&d(t,["parameters","includeRaiReason"],r);const o=c(e,["outputMimeType"]);t!==void 0&&o!=null&&d(t,["parameters","outputOptions","mimeType"],o);const m=c(e,["outputCompressionQuality"]);t!==void 0&&m!=null&&d(t,["parameters","outputOptions","compressionQuality"],m);const g=c(e,["numberOfImages"]);t!==void 0&&g!=null&&d(t,["parameters","sampleCount"],g);const x=c(e,["mode"]);return t!==void 0&&x!=null&&d(t,["parameters","mode"],x),i}function BE(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],ze(s,i));const r=c(e,["image"]);r!=null&&d(t,["instances[0]","image"],Jc(s,r));const o=c(e,["upscaleFactor"]);o!=null&&d(t,["parameters","upscaleConfig","upscaleFactor"],o);const m=c(e,["config"]);return m!=null&&d(t,["config"],OE(s,m,t)),t}function qE(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","name"],ze(s,i));const r=c(e,["config"]);return r!=null&&d(t,["config"],r),t}function GE(s,e,t){const i={},r=c(e,["pageSize"]);t!==void 0&&r!=null&&d(t,["_query","pageSize"],r);const o=c(e,["pageToken"]);t!==void 0&&o!=null&&d(t,["_query","pageToken"],o);const m=c(e,["filter"]);t!==void 0&&m!=null&&d(t,["_query","filter"],m);const g=c(e,["queryBase"]);return t!==void 0&&g!=null&&d(t,["_url","models_url"],Ty(s,g)),i}function zE(s,e){const t={},i=c(e,["config"]);return i!=null&&d(t,["config"],GE(s,i,t)),t}function HE(s,e,t){const i={},r=c(e,["displayName"]);t!==void 0&&r!=null&&d(t,["displayName"],r);const o=c(e,["description"]);t!==void 0&&o!=null&&d(t,["description"],o);const m=c(e,["defaultCheckpointId"]);return t!==void 0&&m!=null&&d(t,["defaultCheckpointId"],m),i}function FE(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],ze(s,i));const r=c(e,["config"]);return r!=null&&d(t,["config"],HE(s,r,t)),t}function YE(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","name"],ze(s,i));const r=c(e,["config"]);return r!=null&&d(t,["config"],r),t}function $E(s,e,t){const i={},r=c(e,["systemInstruction"]);t!==void 0&&r!=null&&d(t,["systemInstruction"],Vi(s,yt(s,r)));const o=c(e,["tools"]);if(t!==void 0&&o!=null){let g=o;Array.isArray(g)&&(g=g.map(x=>Ry(s,x))),d(t,["tools"],g)}const m=c(e,["generationConfig"]);return t!==void 0&&m!=null&&d(t,["generationConfig"],m),i}function ZE(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],ze(s,i));const r=c(e,["contents"]);if(r!=null){let m=en(s,r);Array.isArray(m)&&(m=m.map(g=>Vi(s,g))),d(t,["contents"],m)}const o=c(e,["config"]);return o!=null&&d(t,["config"],$E(s,o,t)),t}function KE(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],ze(s,i));const r=c(e,["contents"]);if(r!=null){let m=en(s,r);Array.isArray(m)&&(m=m.map(g=>Vi(s,g))),d(t,["contents"],m)}const o=c(e,["config"]);return o!=null&&d(t,["config"],o),t}function JE(s,e,t){const i={},r=c(e,["numberOfVideos"]);t!==void 0&&r!=null&&d(t,["parameters","sampleCount"],r);const o=c(e,["outputGcsUri"]);t!==void 0&&o!=null&&d(t,["parameters","storageUri"],o);const m=c(e,["fps"]);t!==void 0&&m!=null&&d(t,["parameters","fps"],m);const g=c(e,["durationSeconds"]);t!==void 0&&g!=null&&d(t,["parameters","durationSeconds"],g);const x=c(e,["seed"]);t!==void 0&&x!=null&&d(t,["parameters","seed"],x);const p=c(e,["aspectRatio"]);t!==void 0&&p!=null&&d(t,["parameters","aspectRatio"],p);const v=c(e,["resolution"]);t!==void 0&&v!=null&&d(t,["parameters","resolution"],v);const C=c(e,["personGeneration"]);t!==void 0&&C!=null&&d(t,["parameters","personGeneration"],C);const b=c(e,["pubsubTopic"]);t!==void 0&&b!=null&&d(t,["parameters","pubsubTopic"],b);const S=c(e,["negativePrompt"]);t!==void 0&&S!=null&&d(t,["parameters","negativePrompt"],S);const N=c(e,["enhancePrompt"]);t!==void 0&&N!=null&&d(t,["parameters","enhancePrompt"],N);const E=c(e,["generateAudio"]);return t!==void 0&&E!=null&&d(t,["parameters","generateAudio"],E),i}function XE(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["_url","model"],ze(s,i));const r=c(e,["prompt"]);r!=null&&d(t,["instances[0]","prompt"],r);const o=c(e,["image"]);o!=null&&d(t,["instances[0]","image"],Jc(s,o));const m=c(e,["config"]);return m!=null&&d(t,["config"],JE(s,m,t)),t}function QE(s,e){const t={},i=c(e,["fps"]);i!=null&&d(t,["fps"],i);const r=c(e,["endOffset"]);r!=null&&d(t,["endOffset"],r);const o=c(e,["startOffset"]);return o!=null&&d(t,["startOffset"],o),t}function WE(s,e){const t={},i=c(e,["data"]);i!=null&&d(t,["data"],i);const r=c(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function eA(s,e){const t={},i=c(e,["fileUri"]);i!=null&&d(t,["fileUri"],i);const r=c(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function tA(s,e){const t={},i=c(e,["videoMetadata"]);i!=null&&d(t,["videoMetadata"],QE(s,i));const r=c(e,["thought"]);r!=null&&d(t,["thought"],r);const o=c(e,["inlineData"]);o!=null&&d(t,["inlineData"],WE(s,o));const m=c(e,["fileData"]);m!=null&&d(t,["fileData"],eA(s,m));const g=c(e,["thoughtSignature"]);g!=null&&d(t,["thoughtSignature"],g);const x=c(e,["codeExecutionResult"]);x!=null&&d(t,["codeExecutionResult"],x);const p=c(e,["executableCode"]);p!=null&&d(t,["executableCode"],p);const v=c(e,["functionCall"]);v!=null&&d(t,["functionCall"],v);const C=c(e,["functionResponse"]);C!=null&&d(t,["functionResponse"],C);const b=c(e,["text"]);return b!=null&&d(t,["text"],b),t}function nA(s,e){const t={},i=c(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(m=>tA(s,m))),d(t,["parts"],o)}const r=c(e,["role"]);return r!=null&&d(t,["role"],r),t}function aA(s,e){const t={},i=c(e,["citationSources"]);return i!=null&&d(t,["citations"],i),t}function iA(s,e){const t={},i=c(e,["retrievedUrl"]);i!=null&&d(t,["retrievedUrl"],i);const r=c(e,["urlRetrievalStatus"]);return r!=null&&d(t,["urlRetrievalStatus"],r),t}function sA(s,e){const t={},i=c(e,["urlMetadata"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>iA(s,o))),d(t,["urlMetadata"],r)}return t}function rA(s,e){const t={},i=c(e,["content"]);i!=null&&d(t,["content"],nA(s,i));const r=c(e,["citationMetadata"]);r!=null&&d(t,["citationMetadata"],aA(s,r));const o=c(e,["tokenCount"]);o!=null&&d(t,["tokenCount"],o);const m=c(e,["finishReason"]);m!=null&&d(t,["finishReason"],m);const g=c(e,["urlContextMetadata"]);g!=null&&d(t,["urlContextMetadata"],sA(s,g));const x=c(e,["avgLogprobs"]);x!=null&&d(t,["avgLogprobs"],x);const p=c(e,["groundingMetadata"]);p!=null&&d(t,["groundingMetadata"],p);const v=c(e,["index"]);v!=null&&d(t,["index"],v);const C=c(e,["logprobsResult"]);C!=null&&d(t,["logprobsResult"],C);const b=c(e,["safetyRatings"]);return b!=null&&d(t,["safetyRatings"],b),t}function Rg(s,e){const t={},i=c(e,["candidates"]);if(i!=null){let g=i;Array.isArray(g)&&(g=g.map(x=>rA(s,x))),d(t,["candidates"],g)}const r=c(e,["modelVersion"]);r!=null&&d(t,["modelVersion"],r);const o=c(e,["promptFeedback"]);o!=null&&d(t,["promptFeedback"],o);const m=c(e,["usageMetadata"]);return m!=null&&d(t,["usageMetadata"],m),t}function lA(s,e){const t={},i=c(e,["values"]);return i!=null&&d(t,["values"],i),t}function oA(){return{}}function uA(s,e){const t={},i=c(e,["embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(m=>lA(s,m))),d(t,["embeddings"],o)}return c(e,["metadata"])!=null&&d(t,["metadata"],oA()),t}function cA(s,e){const t={},i=c(e,["bytesBase64Encoded"]);i!=null&&d(t,["imageBytes"],ma(s,i));const r=c(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function Dy(s,e){const t={},i=c(e,["safetyAttributes","categories"]);i!=null&&d(t,["categories"],i);const r=c(e,["safetyAttributes","scores"]);r!=null&&d(t,["scores"],r);const o=c(e,["contentType"]);return o!=null&&d(t,["contentType"],o),t}function dA(s,e){const t={},i=c(e,["_self"]);i!=null&&d(t,["image"],cA(s,i));const r=c(e,["raiFilteredReason"]);r!=null&&d(t,["raiFilteredReason"],r);const o=c(e,["_self"]);return o!=null&&d(t,["safetyAttributes"],Dy(s,o)),t}function fA(s,e){const t={},i=c(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(m=>dA(s,m))),d(t,["generatedImages"],o)}const r=c(e,["positivePromptSafetyAttributes"]);return r!=null&&d(t,["positivePromptSafetyAttributes"],Dy(s,r)),t}function mA(s,e){const t={},i=c(e,["baseModel"]);i!=null&&d(t,["baseModel"],i);const r=c(e,["createTime"]);r!=null&&d(t,["createTime"],r);const o=c(e,["updateTime"]);return o!=null&&d(t,["updateTime"],o),t}function kc(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const r=c(e,["displayName"]);r!=null&&d(t,["displayName"],r);const o=c(e,["description"]);o!=null&&d(t,["description"],o);const m=c(e,["version"]);m!=null&&d(t,["version"],m);const g=c(e,["_self"]);g!=null&&d(t,["tunedModelInfo"],mA(s,g));const x=c(e,["inputTokenLimit"]);x!=null&&d(t,["inputTokenLimit"],x);const p=c(e,["outputTokenLimit"]);p!=null&&d(t,["outputTokenLimit"],p);const v=c(e,["supportedGenerationMethods"]);return v!=null&&d(t,["supportedActions"],v),t}function hA(s,e){const t={},i=c(e,["nextPageToken"]);i!=null&&d(t,["nextPageToken"],i);const r=c(e,["_self"]);if(r!=null){let o=Cy(s,r);Array.isArray(o)&&(o=o.map(m=>kc(s,m))),d(t,["models"],o)}return t}function pA(){return{}}function gA(s,e){const t={},i=c(e,["totalTokens"]);i!=null&&d(t,["totalTokens"],i);const r=c(e,["cachedContentTokenCount"]);return r!=null&&d(t,["cachedContentTokenCount"],r),t}function yA(s,e){const t={},i=c(e,["video","uri"]);i!=null&&d(t,["uri"],i);const r=c(e,["video","encodedVideo"]);r!=null&&d(t,["videoBytes"],ma(s,r));const o=c(e,["encoding"]);return o!=null&&d(t,["mimeType"],o),t}function xA(s,e){const t={},i=c(e,["_self"]);return i!=null&&d(t,["video"],yA(s,i)),t}function vA(s,e){const t={},i=c(e,["generatedSamples"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(g=>xA(s,g))),d(t,["generatedVideos"],m)}const r=c(e,["raiMediaFilteredCount"]);r!=null&&d(t,["raiMediaFilteredCount"],r);const o=c(e,["raiMediaFilteredReasons"]);return o!=null&&d(t,["raiMediaFilteredReasons"],o),t}function bA(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const r=c(e,["metadata"]);r!=null&&d(t,["metadata"],r);const o=c(e,["done"]);o!=null&&d(t,["done"],o);const m=c(e,["error"]);m!=null&&d(t,["error"],m);const g=c(e,["response","generateVideoResponse"]);return g!=null&&d(t,["response"],vA(s,g)),t}function TA(s,e){const t={},i=c(e,["fps"]);i!=null&&d(t,["fps"],i);const r=c(e,["endOffset"]);r!=null&&d(t,["endOffset"],r);const o=c(e,["startOffset"]);return o!=null&&d(t,["startOffset"],o),t}function CA(s,e){const t={},i=c(e,["displayName"]);i!=null&&d(t,["displayName"],i);const r=c(e,["data"]);r!=null&&d(t,["data"],r);const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function _A(s,e){const t={},i=c(e,["displayName"]);i!=null&&d(t,["displayName"],i);const r=c(e,["fileUri"]);r!=null&&d(t,["fileUri"],r);const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function SA(s,e){const t={},i=c(e,["videoMetadata"]);i!=null&&d(t,["videoMetadata"],TA(s,i));const r=c(e,["thought"]);r!=null&&d(t,["thought"],r);const o=c(e,["inlineData"]);o!=null&&d(t,["inlineData"],CA(s,o));const m=c(e,["fileData"]);m!=null&&d(t,["fileData"],_A(s,m));const g=c(e,["thoughtSignature"]);g!=null&&d(t,["thoughtSignature"],g);const x=c(e,["codeExecutionResult"]);x!=null&&d(t,["codeExecutionResult"],x);const p=c(e,["executableCode"]);p!=null&&d(t,["executableCode"],p);const v=c(e,["functionCall"]);v!=null&&d(t,["functionCall"],v);const C=c(e,["functionResponse"]);C!=null&&d(t,["functionResponse"],C);const b=c(e,["text"]);return b!=null&&d(t,["text"],b),t}function NA(s,e){const t={},i=c(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(m=>SA(s,m))),d(t,["parts"],o)}const r=c(e,["role"]);return r!=null&&d(t,["role"],r),t}function EA(s,e){const t={},i=c(e,["citations"]);return i!=null&&d(t,["citations"],i),t}function AA(s,e){const t={},i=c(e,["content"]);i!=null&&d(t,["content"],NA(s,i));const r=c(e,["citationMetadata"]);r!=null&&d(t,["citationMetadata"],EA(s,r));const o=c(e,["finishMessage"]);o!=null&&d(t,["finishMessage"],o);const m=c(e,["finishReason"]);m!=null&&d(t,["finishReason"],m);const g=c(e,["avgLogprobs"]);g!=null&&d(t,["avgLogprobs"],g);const x=c(e,["groundingMetadata"]);x!=null&&d(t,["groundingMetadata"],x);const p=c(e,["index"]);p!=null&&d(t,["index"],p);const v=c(e,["logprobsResult"]);v!=null&&d(t,["logprobsResult"],v);const C=c(e,["safetyRatings"]);return C!=null&&d(t,["safetyRatings"],C),t}function Dg(s,e){const t={},i=c(e,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(v=>AA(s,v))),d(t,["candidates"],p)}const r=c(e,["createTime"]);r!=null&&d(t,["createTime"],r);const o=c(e,["responseId"]);o!=null&&d(t,["responseId"],o);const m=c(e,["modelVersion"]);m!=null&&d(t,["modelVersion"],m);const g=c(e,["promptFeedback"]);g!=null&&d(t,["promptFeedback"],g);const x=c(e,["usageMetadata"]);return x!=null&&d(t,["usageMetadata"],x),t}function wA(s,e){const t={},i=c(e,["truncated"]);i!=null&&d(t,["truncated"],i);const r=c(e,["token_count"]);return r!=null&&d(t,["tokenCount"],r),t}function MA(s,e){const t={},i=c(e,["values"]);i!=null&&d(t,["values"],i);const r=c(e,["statistics"]);return r!=null&&d(t,["statistics"],wA(s,r)),t}function RA(s,e){const t={},i=c(e,["billableCharacterCount"]);return i!=null&&d(t,["billableCharacterCount"],i),t}function DA(s,e){const t={},i=c(e,["predictions[]","embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(m=>MA(s,m))),d(t,["embeddings"],o)}const r=c(e,["metadata"]);return r!=null&&d(t,["metadata"],RA(s,r)),t}function IA(s,e){const t={},i=c(e,["gcsUri"]);i!=null&&d(t,["gcsUri"],i);const r=c(e,["bytesBase64Encoded"]);r!=null&&d(t,["imageBytes"],ma(s,r));const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function Iy(s,e){const t={},i=c(e,["safetyAttributes","categories"]);i!=null&&d(t,["categories"],i);const r=c(e,["safetyAttributes","scores"]);r!=null&&d(t,["scores"],r);const o=c(e,["contentType"]);return o!=null&&d(t,["contentType"],o),t}function Xc(s,e){const t={},i=c(e,["_self"]);i!=null&&d(t,["image"],IA(s,i));const r=c(e,["raiFilteredReason"]);r!=null&&d(t,["raiFilteredReason"],r);const o=c(e,["_self"]);o!=null&&d(t,["safetyAttributes"],Iy(s,o));const m=c(e,["prompt"]);return m!=null&&d(t,["enhancedPrompt"],m),t}function kA(s,e){const t={},i=c(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(m=>Xc(s,m))),d(t,["generatedImages"],o)}const r=c(e,["positivePromptSafetyAttributes"]);return r!=null&&d(t,["positivePromptSafetyAttributes"],Iy(s,r)),t}function UA(s,e){const t={},i=c(e,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>Xc(s,o))),d(t,["generatedImages"],r)}return t}function LA(s,e){const t={},i=c(e,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>Xc(s,o))),d(t,["generatedImages"],r)}return t}function PA(s,e){const t={},i=c(e,["endpoint"]);i!=null&&d(t,["name"],i);const r=c(e,["deployedModelId"]);return r!=null&&d(t,["deployedModelId"],r),t}function jA(s,e){const t={},i=c(e,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&d(t,["baseModel"],i);const r=c(e,["createTime"]);r!=null&&d(t,["createTime"],r);const o=c(e,["updateTime"]);return o!=null&&d(t,["updateTime"],o),t}function VA(s,e){const t={},i=c(e,["checkpointId"]);i!=null&&d(t,["checkpointId"],i);const r=c(e,["epoch"]);r!=null&&d(t,["epoch"],r);const o=c(e,["step"]);return o!=null&&d(t,["step"],o),t}function Uc(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const r=c(e,["displayName"]);r!=null&&d(t,["displayName"],r);const o=c(e,["description"]);o!=null&&d(t,["description"],o);const m=c(e,["versionId"]);m!=null&&d(t,["version"],m);const g=c(e,["deployedModels"]);if(g!=null){let b=g;Array.isArray(b)&&(b=b.map(S=>PA(s,S))),d(t,["endpoints"],b)}const x=c(e,["labels"]);x!=null&&d(t,["labels"],x);const p=c(e,["_self"]);p!=null&&d(t,["tunedModelInfo"],jA(s,p));const v=c(e,["defaultCheckpointId"]);v!=null&&d(t,["defaultCheckpointId"],v);const C=c(e,["checkpoints"]);if(C!=null){let b=C;Array.isArray(b)&&(b=b.map(S=>VA(s,S))),d(t,["checkpoints"],b)}return t}function OA(s,e){const t={},i=c(e,["nextPageToken"]);i!=null&&d(t,["nextPageToken"],i);const r=c(e,["_self"]);if(r!=null){let o=Cy(s,r);Array.isArray(o)&&(o=o.map(m=>Uc(s,m))),d(t,["models"],o)}return t}function BA(){return{}}function qA(s,e){const t={},i=c(e,["totalTokens"]);return i!=null&&d(t,["totalTokens"],i),t}function GA(s,e){const t={},i=c(e,["tokensInfo"]);return i!=null&&d(t,["tokensInfo"],i),t}function zA(s,e){const t={},i=c(e,["gcsUri"]);i!=null&&d(t,["uri"],i);const r=c(e,["bytesBase64Encoded"]);r!=null&&d(t,["videoBytes"],ma(s,r));const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function HA(s,e){const t={},i=c(e,["_self"]);return i!=null&&d(t,["video"],zA(s,i)),t}function FA(s,e){const t={},i=c(e,["videos"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(g=>HA(s,g))),d(t,["generatedVideos"],m)}const r=c(e,["raiMediaFilteredCount"]);r!=null&&d(t,["raiMediaFilteredCount"],r);const o=c(e,["raiMediaFilteredReasons"]);return o!=null&&d(t,["raiMediaFilteredReasons"],o),t}function YA(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const r=c(e,["metadata"]);r!=null&&d(t,["metadata"],r);const o=c(e,["done"]);o!=null&&d(t,["done"],o);const m=c(e,["error"]);m!=null&&d(t,["error"],m);const g=c(e,["response"]);return g!=null&&d(t,["response"],FA(s,g)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $A="Content-Type",ZA="X-Server-Timeout",KA="User-Agent",Lc="x-goog-api-client",JA="1.3.0",XA=`google-genai-sdk/${JA}`,QA="v1beta1",WA="v1beta",Ig=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class ky extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class Pc extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class ew{constructor(e){var t,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:QA,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:WA,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,i){const r=[this.getRequestUrlInternal(t)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,i);if(e.queryParams)for(const[m,g]of Object.entries(e.queryParams))r.searchParams.append(m,String(g));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,t,e.abortSignal),this.unaryApiCall(r,o,e.httpMethod)}patchHttpOptions(e,t){const i=JSON.parse(JSON.stringify(e));for(const[r,o]of Object.entries(t))typeof o=="object"?i[r]=Object.assign(Object.assign({},i[r]),o):o!==void 0&&(i[r]=o);return i}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,t,e.abortSignal),this.streamApiCall(r,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,i){if(t&&t.timeout||i){const r=new AbortController,o=r.signal;t.timeout&&(t==null?void 0:t.timeout)>0&&setTimeout(()=>r.abort(),t.timeout),i&&i.addEventListener("abort",()=>{r.abort()}),e.signal=o}return e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await kg(r),new Mc(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await kg(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var t;return wi(this,arguments,function*(){const r=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),o=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let m="";for(;;){const{done:g,value:x}=yield He(r.read());if(g){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=o.decode(x);try{const C=JSON.parse(p);if("error"in C){const b=JSON.parse(JSON.stringify(C.error)),S=b.status,N=b.code,E=`got status: ${S}. ${JSON.stringify(C)}`;if(N>=400&&N<500)throw new ky(E);if(N>=500&&N<600)throw new Pc(E)}}catch(C){const b=C;if(b.name==="ClientError"||b.name==="ServerError")throw C}m+=p;let v=m.match(Ig);for(;v;){const C=v[1];try{const b=new Response(C,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield He(new Mc(b)),m=m.slice(v[0].length),v=m.match(Ig)}catch(b){throw new Error(`exception parsing stream chunk ${C}. ${b}`)}}}}finally{r.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},t=XA+" "+this.clientOptions.userAgentExtra;return e[KA]=t,e[Lc]=t,e[$A]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[i,r]of Object.entries(e.headers))t.append(i,r);e.timeout&&e.timeout>0&&t.append(ZA,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var i;const r={};t!=null&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const o=this.clientOptions.uploader,m=await o.stat(e);r.sizeBytes=String(m.size);const g=(i=t==null?void 0:t.mimeType)!==null&&i!==void 0?i:m.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const x=await this.fetchUploadUrl(r,t);return o.upload(e,x,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t){var i;let r={};t!=null&&t.httpOptions?r=t.httpOptions:r={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},m=await this.request({path:pe("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:r});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(i=m==null?void 0:m.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function kg(s){var e;if(s===void 0)throw new Pc("response is undefined");if(!s.ok){const t=s.status,i=s.statusText;let r;!((e=s.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await s.json():r={error:{message:await s.text(),code:s.status,status:s.statusText}};const o=`got status: ${t} ${i}. ${JSON.stringify(r)}`;throw t>=400&&t<500?new ky(o):t>=500&&t<600?new Pc(o):new Error(o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tw="mcp_used/unknown";function Uy(s){for(const e of s)if(Qc(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function Ly(s){var e;const t=(e=s[Lc])!==null&&e!==void 0?e:"";s[Lc]=(t+` ${tw}`).trimStart()}function nw(s){var e,t,i;return(i=(t=(e=s.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>Qc(r)))!==null&&i!==void 0?i:!1}function aw(s){var e,t,i;return(i=(t=(e=s.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>!Qc(r)))!==null&&i!==void 0?i:!1}function Qc(s){return s!==null&&typeof s=="object"&&s instanceof Wc}function iw(s,e=100){return wi(this,arguments,function*(){let i,r=0;for(;r<e;){const o=yield He(s.listTools({cursor:i}));for(const m of o.tools)yield yield He(m),r++;if(!o.nextCursor)break;i=o.nextCursor}})}class Wc{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new Wc(e,t)}async initialize(){var e,t,i,r;if(this.mcpTools.length>0)return;const o={},m=[];for(const v of this.mcpClients)try{for(var g=!0,x=(t=void 0,Ys(iw(v))),p;p=await x.next(),e=p.done,!e;g=!0){r=p.value,g=!1;const C=r;m.push(C);const b=C.name;if(o[b])throw new Error(`Duplicate function name ${b} found in MCP tools. Please ensure function names are unique.`);o[b]=v}}catch(C){t={error:C}}finally{try{!g&&!e&&(i=x.return)&&await i.call(x)}finally{if(t)throw t.error}}this.mcpTools=m,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),dC(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const o=await this.functionNameToMcpClient[i.name].callTool({name:i.name,arguments:i.args});t.push({functionResponse:{name:i.name,response:o.isError?{error:o}:o}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function sw(s,e,t){const i=new QT;let r;t.data instanceof Blob?r=JSON.parse(await t.data.text()):r=JSON.parse(t.data);const o=xN(s,r);Object.assign(i,o),e(i)}class rw{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i}async connect(e){var t,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),m=uw(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),x=`${r}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${g}`;let p=()=>{};const v=new Promise(B=>{p=B}),C=e.callbacks,b=function(){p({})},S=this.apiClient,N={onopen:b,onmessage:B=>{sw(S,C.onmessage,B)},onerror:(t=C==null?void 0:C.onerror)!==null&&t!==void 0?t:function(B){},onclose:(i=C==null?void 0:C.onclose)!==null&&i!==void 0?i:function(B){}},E=this.webSocketFactory.create(x,ow(m),N);E.connect(),await v;const M=ze(this.apiClient,e.model),I=Ay(this.apiClient,{model:M}),j=Ic(this.apiClient,{setup:I});return E.send(JSON.stringify(j)),new lw(E,this.apiClient)}}class lw{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=IS(this.apiClient,e),i=wy(this.apiClient,t);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=kS(this.apiClient,e),i=Ic(this.apiClient,t);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const t=Ic(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Ni.PLAY)}pause(){this.sendPlaybackControl(Ni.PAUSE)}stop(){this.sendPlaybackControl(Ni.STOP)}resetContext(){this.sendPlaybackControl(Ni.RESET_CONTEXT)}close(){this.conn.close()}}function ow(s){const e={};return s.forEach((t,i)=>{e[i]=t}),e}function uw(s){const e=new Headers;for(const[t,i]of Object.entries(s))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cw="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function dw(s,e,t){const i=new XT;let r;if(t.data instanceof Blob?r=JSON.parse(await t.data.text()):r=JSON.parse(t.data),s.isVertexAI()){const o=uN(s,r);Object.assign(i,o)}else{const o=oN(s,r);Object.assign(i,o)}e(i)}class fw{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i,this.music=new rw(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,i,r,o,m,g;const x=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let v;const C=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&Uy(e.config.tools)&&Ly(C);const b=gw(C);if(this.apiClient.isVertexAI())v=`${x}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(b);else{const te=this.apiClient.getApiKey();let ue="BidiGenerateContent",ke="key";te!=null&&te.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),ue="BidiGenerateContentConstrained",ke="access_token"),v=`${x}/ws/google.ai.generativelanguage.${p}.GenerativeService.${ue}?${ke}=${te}`}let S=()=>{};const N=new Promise(te=>{S=te}),E=e.callbacks,M=function(){var te;(te=E==null?void 0:E.onopen)===null||te===void 0||te.call(E),S({})},I=this.apiClient,j={onopen:M,onmessage:te=>{dw(I,E.onmessage,te)},onerror:(t=E==null?void 0:E.onerror)!==null&&t!==void 0?t:function(te){},onclose:(i=E==null?void 0:E.onclose)!==null&&i!==void 0?i:function(te){}},B=this.webSocketFactory.create(v,pw(b),j);B.connect(),await N;let Z=ze(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&Z.startsWith("publishers/")){const te=this.apiClient.getProject(),ue=this.apiClient.getLocation();Z=`projects/${te}/locations/${ue}/`+Z}let F={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Il.AUDIO]}:e.config.responseModalities=[Il.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ae=(g=(m=e.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[],z=[];for(const te of ae)if(this.isCallableTool(te)){const ue=te;z.push(await ue.tool())}else z.push(te);z.length>0&&(e.config.tools=z);const J={model:Z,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?F=NS(this.apiClient,J):F=SS(this.apiClient,J),delete F.config,B.send(JSON.stringify(F)),new hw(B,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const mw={turnComplete:!0};class hw{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let i=[];try{i=en(e,t.turns),e.isVertexAI()?i=i.map(r=>Vi(e,r)):i=i.map(r=>Ol(e,r))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let i=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?i=t.functionResponses:i=[t.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const o of i){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(cw)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},mw),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:DS(this.apiClient,e)}:t={realtimeInput:RS(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function pw(s){const e={};return s.forEach((t,i)=>{e[i]=t}),e}function gw(s){const e=new Headers;for(const[t,i]of Object.entries(s))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ug=10;function Lg(s){var e,t,i;if(!((e=s==null?void 0:s.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const m of(t=s==null?void 0:s.tools)!==null&&t!==void 0?t:[])if(_l(m)){r=!0;break}if(!r)return!0;const o=(i=s==null?void 0:s.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function _l(s){return"callTool"in s&&typeof s.callTool=="function"}function Pg(s){var e;return!(!((e=s==null?void 0:s.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yw extends ji{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var i,r,o,m,g;const x=await this.processParamsForMcpUsage(t);if(!nw(t)||Lg(t.config))return await this.generateContentInternal(x);if(aw(t))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,v;const C=en(this.apiClient,x.contents),b=(o=(r=(i=x.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&o!==void 0?o:Ug;let S=0;for(;S<b&&(p=await this.generateContentInternal(x),!(!p.functionCalls||p.functionCalls.length===0));){const N=p.candidates[0].content,E=[];for(const M of(g=(m=t.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[])if(_l(M)){const j=await M.callTool(p.functionCalls);E.push(...j)}S++,v={role:"user",parts:E},x.contents=en(this.apiClient,x.contents),x.contents.push(N),x.contents.push(v),Pg(x.config)&&(C.push(N),C.push(v))}return Pg(x.config)&&(p.automaticFunctionCallingHistory=C),p},this.generateContentStream=async t=>{if(Lg(t.config)){const i=await this.processParamsForMcpUsage(t);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(i=>{var r;let o;const m=[];if(i!=null&&i.generatedImages)for(const x of i.generatedImages)x&&(x!=null&&x.safetyAttributes)&&((r=x==null?void 0:x.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?o=x==null?void 0:x.safetyAttributes:m.push(x);let g;return o?g={generatedImages:m,positivePromptSafetyAttributes:o}:g={generatedImages:m},g}),this.list=async t=>{var i;const m={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((i=m.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new Vl(Ui.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(m),m)},this.editImage=async t=>{const i={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(i.referenceImages=t.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async t=>{let i={numberOfImages:1,mode:"upscale"};t.config&&(i=Object.assign(Object.assign({},i),t.config));const r={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:i};return await this.upscaleImageInternal(r)}}async processParamsForMcpUsage(e){var t,i,r;const o=(t=e.config)===null||t===void 0?void 0:t.tools;if(!o)return e;const m=await Promise.all(o.map(async x=>_l(x)?await x.tool():x)),g={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:m})};if(g.config.tools=m,e.config&&e.config.tools&&Uy(e.config.tools)){const x=(r=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let p=Object.assign({},x);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),Ly(p),g.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return g}async initAfcToolsMap(e){var t,i,r;const o=new Map;for(const m of(i=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&i!==void 0?i:[])if(_l(m)){const g=m,x=await g.tool();for(const p of(r=x.functionDeclarations)!==null&&r!==void 0?r:[]){if(!p.name)throw new Error("Function declaration name is required.");if(o.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);o.set(p.name,g)}}return o}async processAfcStream(e){var t,i,r;const o=(r=(i=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:Ug;let m=!1,g=0;const x=await this.initAfcToolsMap(e);return function(p,v,C){var b,S;return wi(this,arguments,function*(){for(var N,E,M,I;g<o;){m&&(g++,m=!1);const F=yield He(p.processParamsForMcpUsage(C)),ae=yield He(p.generateContentStreamInternal(F)),z=[],J=[];try{for(var j=!0,B=(E=void 0,Ys(ae)),Z;Z=yield He(B.next()),N=Z.done,!N;j=!0){I=Z.value,j=!1;const te=I;if(yield yield He(te),te.candidates&&(!((b=te.candidates[0])===null||b===void 0)&&b.content)){J.push(te.candidates[0].content);for(const ue of(S=te.candidates[0].content.parts)!==null&&S!==void 0?S:[])if(g<o&&ue.functionCall){if(!ue.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ue.functionCall.name)){const ke=yield He(v.get(ue.functionCall.name).callTool([ue.functionCall]));z.push(...ke)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ue.functionCall.name}`)}}}}catch(te){E={error:te}}finally{try{!j&&!N&&(M=B.return)&&(yield He(M.call(B)))}finally{if(E)throw E.error}}if(z.length>0){m=!0;const te=new qs;te.candidates=[{content:{role:"user",parts:z}}],yield yield He(te);const ue=[];ue.push(...J),ue.push({role:"user",parts:z});const ke=en(p.apiClient,C.contents).concat(ue);C.contents=ke}else break}})}(this,x,e)}async generateContentInternal(e){var t,i,r,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=Mg(this.apiClient,e);return g=pe("{model}:generateContent",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),m.then(v=>{const C=Dg(this.apiClient,v),b=new qs;return Object.assign(b,C),b})}else{const p=wg(this.apiClient,e);return g=pe("{model}:generateContent",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>{const C=Rg(this.apiClient,v),b=new qs;return Object.assign(b,C),b})}}async generateContentStreamInternal(e){var t,i,r,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=Mg(this.apiClient,e);g=pe("{model}:streamGenerateContent?alt=sse",p._url),x=p._query,delete p.config,delete p._url,delete p._query;const v=this.apiClient;return m=v.requestStream({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),m.then(function(C){return wi(this,arguments,function*(){var b,S,N,E;try{for(var M=!0,I=Ys(C),j;j=yield He(I.next()),b=j.done,!b;M=!0){E=j.value,M=!1;const Z=Dg(v,yield He(E.json())),F=new qs;Object.assign(F,Z),yield yield He(F)}}catch(B){S={error:B}}finally{try{!M&&!b&&(N=I.return)&&(yield He(N.call(I)))}finally{if(S)throw S.error}}})})}else{const p=wg(this.apiClient,e);g=pe("{model}:streamGenerateContent?alt=sse",p._url),x=p._query,delete p.config,delete p._url,delete p._query;const v=this.apiClient;return m=v.requestStream({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),m.then(function(C){return wi(this,arguments,function*(){var b,S,N,E;try{for(var M=!0,I=Ys(C),j;j=yield He(I.next()),b=j.done,!b;M=!0){E=j.value,M=!1;const Z=Rg(v,yield He(E.json())),F=new qs;Object.assign(F,Z),yield yield He(F)}}catch(B){S={error:B}}finally{try{!M&&!b&&(N=I.return)&&(yield He(N.call(I)))}finally{if(S)throw S.error}}})})}}async embedContent(e){var t,i,r,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=ME(this.apiClient,e);return g=pe("{model}:predict",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),m.then(v=>{const C=DA(this.apiClient,v),b=new og;return Object.assign(b,C),b})}else{const p=zN(this.apiClient,e);return g=pe("{model}:batchEmbedContents",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>{const C=uA(this.apiClient,v),b=new og;return Object.assign(b,C),b})}}async generateImagesInternal(e){var t,i,r,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=DE(this.apiClient,e);return g=pe("{model}:predict",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),m.then(v=>{const C=kA(this.apiClient,v),b=new ug;return Object.assign(b,C),b})}else{const p=FN(this.apiClient,e);return g=pe("{model}:predict",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>{const C=fA(this.apiClient,v),b=new ug;return Object.assign(b,C),b})}}async editImageInternal(e){var t,i;let r,o="",m={};if(this.apiClient.isVertexAI()){const g=VE(this.apiClient,e);return o=pe("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,r=this.apiClient.request({path:o,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),r.then(x=>{const p=UA(this.apiClient,x),v=new FT;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,i;let r,o="",m={};if(this.apiClient.isVertexAI()){const g=BE(this.apiClient,e);return o=pe("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,r=this.apiClient.request({path:o,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),r.then(x=>{const p=LA(this.apiClient,x),v=new YT;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,i,r,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=qE(this.apiClient,e);return g=pe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),m.then(v=>Uc(this.apiClient,v))}else{const p=YN(this.apiClient,e);return g=pe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>kc(this.apiClient,v))}}async listInternal(e){var t,i,r,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=zE(this.apiClient,e);return g=pe("{models_url}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),m.then(v=>{const C=OA(this.apiClient,v),b=new cg;return Object.assign(b,C),b})}else{const p=ZN(this.apiClient,e);return g=pe("{models_url}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>{const C=hA(this.apiClient,v),b=new cg;return Object.assign(b,C),b})}}async update(e){var t,i,r,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=FE(this.apiClient,e);return g=pe("{model}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),m.then(v=>Uc(this.apiClient,v))}else{const p=JN(this.apiClient,e);return g=pe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>kc(this.apiClient,v))}}async delete(e){var t,i,r,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=YE(this.apiClient,e);return g=pe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),m.then(()=>{const v=BA(),C=new dg;return Object.assign(C,v),C})}else{const p=XN(this.apiClient,e);return g=pe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(()=>{const v=pA(),C=new dg;return Object.assign(C,v),C})}}async countTokens(e){var t,i,r,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=ZE(this.apiClient,e);return g=pe("{model}:countTokens",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),m.then(v=>{const C=qA(this.apiClient,v),b=new fg;return Object.assign(b,C),b})}else{const p=WN(this.apiClient,e);return g=pe("{model}:countTokens",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>{const C=gA(this.apiClient,v),b=new fg;return Object.assign(b,C),b})}}async computeTokens(e){var t,i;let r,o="",m={};if(this.apiClient.isVertexAI()){const g=KE(this.apiClient,e);return o=pe("{model}:computeTokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query,r=this.apiClient.request({path:o,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),r.then(x=>{const p=GA(this.apiClient,x),v=new $T;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,i,r,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=XE(this.apiClient,e);return g=pe("{model}:predictLongRunning",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),m.then(v=>YA(this.apiClient,v))}else{const p=nE(this.apiClient,e);return g=pe("{model}:predictLongRunning",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>bA(this.apiClient,v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xw(s,e){const t={},i=c(e,["operationName"]);i!=null&&d(t,["_url","operationName"],i);const r=c(e,["config"]);return r!=null&&d(t,["config"],r),t}function vw(s,e){const t={},i=c(e,["operationName"]);i!=null&&d(t,["_url","operationName"],i);const r=c(e,["config"]);return r!=null&&d(t,["config"],r),t}function bw(s,e){const t={},i=c(e,["operationName"]);i!=null&&d(t,["operationName"],i);const r=c(e,["resourceName"]);r!=null&&d(t,["_url","resourceName"],r);const o=c(e,["config"]);return o!=null&&d(t,["config"],o),t}function Tw(s,e){const t={},i=c(e,["video","uri"]);i!=null&&d(t,["uri"],i);const r=c(e,["video","encodedVideo"]);r!=null&&d(t,["videoBytes"],ma(s,r));const o=c(e,["encoding"]);return o!=null&&d(t,["mimeType"],o),t}function Cw(s,e){const t={},i=c(e,["_self"]);return i!=null&&d(t,["video"],Tw(s,i)),t}function _w(s,e){const t={},i=c(e,["generatedSamples"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(g=>Cw(s,g))),d(t,["generatedVideos"],m)}const r=c(e,["raiMediaFilteredCount"]);r!=null&&d(t,["raiMediaFilteredCount"],r);const o=c(e,["raiMediaFilteredReasons"]);return o!=null&&d(t,["raiMediaFilteredReasons"],o),t}function Sw(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const r=c(e,["metadata"]);r!=null&&d(t,["metadata"],r);const o=c(e,["done"]);o!=null&&d(t,["done"],o);const m=c(e,["error"]);m!=null&&d(t,["error"],m);const g=c(e,["response","generateVideoResponse"]);return g!=null&&d(t,["response"],_w(s,g)),t}function Nw(s,e){const t={},i=c(e,["gcsUri"]);i!=null&&d(t,["uri"],i);const r=c(e,["bytesBase64Encoded"]);r!=null&&d(t,["videoBytes"],ma(s,r));const o=c(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function Ew(s,e){const t={},i=c(e,["_self"]);return i!=null&&d(t,["video"],Nw(s,i)),t}function Aw(s,e){const t={},i=c(e,["videos"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(g=>Ew(s,g))),d(t,["generatedVideos"],m)}const r=c(e,["raiMediaFilteredCount"]);r!=null&&d(t,["raiMediaFilteredCount"],r);const o=c(e,["raiMediaFilteredReasons"]);return o!=null&&d(t,["raiMediaFilteredReasons"],o),t}function jg(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const r=c(e,["metadata"]);r!=null&&d(t,["metadata"],r);const o=c(e,["done"]);o!=null&&d(t,["done"],o);const m=c(e,["error"]);m!=null&&d(t,["error"],m);const g=c(e,["response"]);return g!=null&&d(t,["response"],Aw(s,g)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ww extends ji{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let o;return i&&"httpOptions"in i&&(o=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:o}})}else return this.getVideosOperationInternal({operationName:t.name,config:i})}async getVideosOperationInternal(e){var t,i,r,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=vw(this.apiClient,e);return g=pe("{operationName}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),m.then(v=>jg(this.apiClient,v))}else{const p=xw(this.apiClient,e);return g=pe("{operationName}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>Sw(this.apiClient,v))}}async fetchPredictVideosOperationInternal(e){var t,i;let r,o="",m={};if(this.apiClient.isVertexAI()){const g=bw(this.apiClient,e);return o=pe("{resourceName}:fetchPredictOperation",g._url),m=g._query,delete g.config,delete g._url,delete g._query,r=this.apiClient.request({path:o,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),r.then(x=>jg(this.apiClient,x))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mw(s,e){const t={},i=c(e,["voiceName"]);return i!=null&&d(t,["voiceName"],i),t}function Py(s,e){const t={},i=c(e,["prebuiltVoiceConfig"]);return i!=null&&d(t,["prebuiltVoiceConfig"],Mw(s,i)),t}function Rw(s,e){const t={},i=c(e,["speaker"]);i!=null&&d(t,["speaker"],i);const r=c(e,["voiceConfig"]);return r!=null&&d(t,["voiceConfig"],Py(s,r)),t}function Dw(s,e){const t={},i=c(e,["speakerVoiceConfigs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>Rw(s,o))),d(t,["speakerVoiceConfigs"],r)}return t}function Iw(s,e){const t={},i=c(e,["voiceConfig"]);i!=null&&d(t,["voiceConfig"],Py(s,i));const r=c(e,["multiSpeakerVoiceConfig"]);r!=null&&d(t,["multiSpeakerVoiceConfig"],Dw(s,r));const o=c(e,["languageCode"]);return o!=null&&d(t,["languageCode"],o),t}function kw(s,e){const t={},i=c(e,["fps"]);i!=null&&d(t,["fps"],i);const r=c(e,["endOffset"]);r!=null&&d(t,["endOffset"],r);const o=c(e,["startOffset"]);return o!=null&&d(t,["startOffset"],o),t}function Uw(s,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(e,["data"]);i!=null&&d(t,["data"],i);const r=c(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function Lw(s,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(e,["fileUri"]);i!=null&&d(t,["fileUri"],i);const r=c(e,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}function Pw(s,e){const t={},i=c(e,["videoMetadata"]);i!=null&&d(t,["videoMetadata"],kw(s,i));const r=c(e,["thought"]);r!=null&&d(t,["thought"],r);const o=c(e,["inlineData"]);o!=null&&d(t,["inlineData"],Uw(s,o));const m=c(e,["fileData"]);m!=null&&d(t,["fileData"],Lw(s,m));const g=c(e,["thoughtSignature"]);g!=null&&d(t,["thoughtSignature"],g);const x=c(e,["codeExecutionResult"]);x!=null&&d(t,["codeExecutionResult"],x);const p=c(e,["executableCode"]);p!=null&&d(t,["executableCode"],p);const v=c(e,["functionCall"]);v!=null&&d(t,["functionCall"],v);const C=c(e,["functionResponse"]);C!=null&&d(t,["functionResponse"],C);const b=c(e,["text"]);return b!=null&&d(t,["text"],b),t}function jw(s,e){const t={},i=c(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(m=>Pw(s,m))),d(t,["parts"],o)}const r=c(e,["role"]);return r!=null&&d(t,["role"],r),t}function Vw(s,e){const t={},i=c(e,["behavior"]);i!=null&&d(t,["behavior"],i);const r=c(e,["description"]);r!=null&&d(t,["description"],r);const o=c(e,["name"]);o!=null&&d(t,["name"],o);const m=c(e,["parameters"]);m!=null&&d(t,["parameters"],m);const g=c(e,["response"]);return g!=null&&d(t,["response"],g),t}function Ow(s,e){const t={},i=c(e,["startTime"]);i!=null&&d(t,["startTime"],i);const r=c(e,["endTime"]);return r!=null&&d(t,["endTime"],r),t}function Bw(s,e){const t={},i=c(e,["timeRangeFilter"]);return i!=null&&d(t,["timeRangeFilter"],Ow(s,i)),t}function qw(s,e){const t={},i=c(e,["mode"]);i!=null&&d(t,["mode"],i);const r=c(e,["dynamicThreshold"]);return r!=null&&d(t,["dynamicThreshold"],r),t}function Gw(s,e){const t={},i=c(e,["dynamicRetrievalConfig"]);return i!=null&&d(t,["dynamicRetrievalConfig"],qw(s,i)),t}function zw(){return{}}function Hw(s,e){const t={},i=c(e,["functionDeclarations"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(p=>Vw(s,p))),d(t,["functionDeclarations"],x)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=c(e,["googleSearch"]);r!=null&&d(t,["googleSearch"],Bw(s,r));const o=c(e,["googleSearchRetrieval"]);if(o!=null&&d(t,["googleSearchRetrieval"],Gw(s,o)),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(e,["urlContext"])!=null&&d(t,["urlContext"],zw());const g=c(e,["codeExecution"]);return g!=null&&d(t,["codeExecution"],g),t}function Fw(s,e){const t={},i=c(e,["handle"]);if(i!=null&&d(t,["handle"],i),c(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Vg(){return{}}function Yw(s,e){const t={},i=c(e,["disabled"]);i!=null&&d(t,["disabled"],i);const r=c(e,["startOfSpeechSensitivity"]);r!=null&&d(t,["startOfSpeechSensitivity"],r);const o=c(e,["endOfSpeechSensitivity"]);o!=null&&d(t,["endOfSpeechSensitivity"],o);const m=c(e,["prefixPaddingMs"]);m!=null&&d(t,["prefixPaddingMs"],m);const g=c(e,["silenceDurationMs"]);return g!=null&&d(t,["silenceDurationMs"],g),t}function $w(s,e){const t={},i=c(e,["automaticActivityDetection"]);i!=null&&d(t,["automaticActivityDetection"],Yw(s,i));const r=c(e,["activityHandling"]);r!=null&&d(t,["activityHandling"],r);const o=c(e,["turnCoverage"]);return o!=null&&d(t,["turnCoverage"],o),t}function Zw(s,e){const t={},i=c(e,["targetTokens"]);return i!=null&&d(t,["targetTokens"],i),t}function Kw(s,e){const t={},i=c(e,["triggerTokens"]);i!=null&&d(t,["triggerTokens"],i);const r=c(e,["slidingWindow"]);return r!=null&&d(t,["slidingWindow"],Zw(s,r)),t}function Jw(s,e){const t={},i=c(e,["proactiveAudio"]);return i!=null&&d(t,["proactiveAudio"],i),t}function Xw(s,e,t){const i={},r=c(e,["generationConfig"]);t!==void 0&&r!=null&&d(t,["setup","generationConfig"],r);const o=c(e,["responseModalities"]);t!==void 0&&o!=null&&d(t,["setup","generationConfig","responseModalities"],o);const m=c(e,["temperature"]);t!==void 0&&m!=null&&d(t,["setup","generationConfig","temperature"],m);const g=c(e,["topP"]);t!==void 0&&g!=null&&d(t,["setup","generationConfig","topP"],g);const x=c(e,["topK"]);t!==void 0&&x!=null&&d(t,["setup","generationConfig","topK"],x);const p=c(e,["maxOutputTokens"]);t!==void 0&&p!=null&&d(t,["setup","generationConfig","maxOutputTokens"],p);const v=c(e,["mediaResolution"]);t!==void 0&&v!=null&&d(t,["setup","generationConfig","mediaResolution"],v);const C=c(e,["seed"]);t!==void 0&&C!=null&&d(t,["setup","generationConfig","seed"],C);const b=c(e,["speechConfig"]);t!==void 0&&b!=null&&d(t,["setup","generationConfig","speechConfig"],Iw(s,Kc(s,b)));const S=c(e,["enableAffectiveDialog"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],S);const N=c(e,["systemInstruction"]);t!==void 0&&N!=null&&d(t,["setup","systemInstruction"],jw(s,yt(s,N)));const E=c(e,["tools"]);if(t!==void 0&&E!=null){let ae=er(s,E);Array.isArray(ae)&&(ae=ae.map(z=>Hw(s,Ws(s,z)))),d(t,["setup","tools"],ae)}const M=c(e,["sessionResumption"]);t!==void 0&&M!=null&&d(t,["setup","sessionResumption"],Fw(s,M));const I=c(e,["inputAudioTranscription"]);t!==void 0&&I!=null&&d(t,["setup","inputAudioTranscription"],Vg());const j=c(e,["outputAudioTranscription"]);t!==void 0&&j!=null&&d(t,["setup","outputAudioTranscription"],Vg());const B=c(e,["realtimeInputConfig"]);t!==void 0&&B!=null&&d(t,["setup","realtimeInputConfig"],$w(s,B));const Z=c(e,["contextWindowCompression"]);t!==void 0&&Z!=null&&d(t,["setup","contextWindowCompression"],Kw(s,Z));const F=c(e,["proactivity"]);return t!==void 0&&F!=null&&d(t,["setup","proactivity"],Jw(s,F)),i}function Qw(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["setup","model"],ze(s,i));const r=c(e,["config"]);return r!=null&&d(t,["config"],Xw(s,r,t)),t}function Ww(s,e,t){const i={},r=c(e,["expireTime"]);t!==void 0&&r!=null&&d(t,["expireTime"],r);const o=c(e,["newSessionExpireTime"]);t!==void 0&&o!=null&&d(t,["newSessionExpireTime"],o);const m=c(e,["uses"]);t!==void 0&&m!=null&&d(t,["uses"],m);const g=c(e,["liveConnectConstraints"]);t!==void 0&&g!=null&&d(t,["bidiGenerateContentSetup"],Qw(s,g));const x=c(e,["lockAdditionalFields"]);return t!==void 0&&x!=null&&d(t,["fieldMask"],x),i}function e1(s,e){const t={},i=c(e,["config"]);return i!=null&&d(t,["config"],Ww(s,i,t)),t}function t1(s,e){const t={},i=c(e,["name"]);return i!=null&&d(t,["name"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function n1(s){const e=[];for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t)){const i=s[t];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(o=>`${t}.${o}`);e.push(...r)}else e.push(t)}return e.join(",")}function a1(s,e){let t=null;const i=s.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const o=i.setup;typeof o=="object"&&o!==null?(s.bidiGenerateContentSetup=o,t=o):delete s.bidiGenerateContentSetup}else i!==void 0&&delete s.bidiGenerateContentSetup;const r=s.fieldMask;if(t){const o=n1(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?s.fieldMask=o:delete s.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(p=>m.includes(p)?`generationConfig.${p}`:p));const x=[];o&&x.push(o),g.length>0&&x.push(...g),x.length>0?s.fieldMask=x.join(","):delete s.fieldMask}else delete s.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?s.fieldMask=r.join(","):delete s.fieldMask;return s}class i1 extends ji{constructor(e){super(),this.apiClient=e}async create(e){var t,i;let r,o="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=e1(this.apiClient,e);o=pe("auth_tokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query;const x=a1(g,e.config);return r=this.apiClient.request({path:o,queryParams:m,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),r.then(p=>t1(this.apiClient,p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s1(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["_url","name"],i);const r=c(e,["config"]);return r!=null&&d(t,["config"],r),t}function r1(s,e,t){const i={},r=c(e,["pageSize"]);t!==void 0&&r!=null&&d(t,["_query","pageSize"],r);const o=c(e,["pageToken"]);t!==void 0&&o!=null&&d(t,["_query","pageToken"],o);const m=c(e,["filter"]);return t!==void 0&&m!=null&&d(t,["_query","filter"],m),i}function l1(s,e){const t={},i=c(e,["config"]);return i!=null&&d(t,["config"],r1(s,i,t)),t}function o1(s,e){const t={},i=c(e,["textInput"]);i!=null&&d(t,["textInput"],i);const r=c(e,["output"]);return r!=null&&d(t,["output"],r),t}function u1(s,e){const t={};if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=c(e,["examples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>o1(s,o))),d(t,["examples","examples"],r)}return t}function c1(s,e,t){const i={};if(c(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=c(e,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&d(t,["displayName"],r),c(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=c(e,["epochCount"]);t!==void 0&&o!=null&&d(t,["tuningTask","hyperparameters","epochCount"],o);const m=c(e,["learningRateMultiplier"]);if(m!=null&&d(i,["tuningTask","hyperparameters","learningRateMultiplier"],m),c(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=c(e,["batchSize"]);t!==void 0&&g!=null&&d(t,["tuningTask","hyperparameters","batchSize"],g);const x=c(e,["learningRate"]);return t!==void 0&&x!=null&&d(t,["tuningTask","hyperparameters","learningRate"],x),i}function d1(s,e){const t={},i=c(e,["baseModel"]);i!=null&&d(t,["baseModel"],i);const r=c(e,["trainingDataset"]);r!=null&&d(t,["tuningTask","trainingData"],u1(s,r));const o=c(e,["config"]);return o!=null&&d(t,["config"],c1(s,o,t)),t}function f1(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["_url","name"],i);const r=c(e,["config"]);return r!=null&&d(t,["config"],r),t}function m1(s,e,t){const i={},r=c(e,["pageSize"]);t!==void 0&&r!=null&&d(t,["_query","pageSize"],r);const o=c(e,["pageToken"]);t!==void 0&&o!=null&&d(t,["_query","pageToken"],o);const m=c(e,["filter"]);return t!==void 0&&m!=null&&d(t,["_query","filter"],m),i}function h1(s,e){const t={},i=c(e,["config"]);return i!=null&&d(t,["config"],m1(s,i,t)),t}function p1(s,e,t){const i={},r=c(e,["gcsUri"]);if(t!==void 0&&r!=null&&d(t,["supervisedTuningSpec","trainingDatasetUri"],r),c(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function g1(s,e){const t={},i=c(e,["gcsUri"]);return i!=null&&d(t,["validationDatasetUri"],i),t}function y1(s,e,t){const i={},r=c(e,["validationDataset"]);t!==void 0&&r!=null&&d(t,["supervisedTuningSpec"],g1(s,r));const o=c(e,["tunedModelDisplayName"]);t!==void 0&&o!=null&&d(t,["tunedModelDisplayName"],o);const m=c(e,["description"]);t!==void 0&&m!=null&&d(t,["description"],m);const g=c(e,["epochCount"]);t!==void 0&&g!=null&&d(t,["supervisedTuningSpec","hyperParameters","epochCount"],g);const x=c(e,["learningRateMultiplier"]);t!==void 0&&x!=null&&d(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x);const p=c(e,["exportLastCheckpointOnly"]);t!==void 0&&p!=null&&d(t,["supervisedTuningSpec","exportLastCheckpointOnly"],p);const v=c(e,["adapterSize"]);if(t!==void 0&&v!=null&&d(t,["supervisedTuningSpec","hyperParameters","adapterSize"],v),c(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return i}function x1(s,e){const t={},i=c(e,["baseModel"]);i!=null&&d(t,["baseModel"],i);const r=c(e,["trainingDataset"]);r!=null&&d(t,["supervisedTuningSpec","trainingDatasetUri"],p1(s,r,t));const o=c(e,["config"]);return o!=null&&d(t,["config"],y1(s,o,t)),t}function v1(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["model"],i);const r=c(e,["name"]);return r!=null&&d(t,["endpoint"],r),t}function jy(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const r=c(e,["state"]);r!=null&&d(t,["state"],vy(s,r));const o=c(e,["createTime"]);o!=null&&d(t,["createTime"],o);const m=c(e,["tuningTask","startTime"]);m!=null&&d(t,["startTime"],m);const g=c(e,["tuningTask","completeTime"]);g!=null&&d(t,["endTime"],g);const x=c(e,["updateTime"]);x!=null&&d(t,["updateTime"],x);const p=c(e,["description"]);p!=null&&d(t,["description"],p);const v=c(e,["baseModel"]);v!=null&&d(t,["baseModel"],v);const C=c(e,["_self"]);C!=null&&d(t,["tunedModel"],v1(s,C));const b=c(e,["distillationSpec"]);b!=null&&d(t,["distillationSpec"],b);const S=c(e,["experiment"]);S!=null&&d(t,["experiment"],S);const N=c(e,["labels"]);N!=null&&d(t,["labels"],N);const E=c(e,["pipelineJob"]);E!=null&&d(t,["pipelineJob"],E);const M=c(e,["serviceAccount"]);M!=null&&d(t,["serviceAccount"],M);const I=c(e,["tunedModelDisplayName"]);return I!=null&&d(t,["tunedModelDisplayName"],I),t}function b1(s,e){const t={},i=c(e,["nextPageToken"]);i!=null&&d(t,["nextPageToken"],i);const r=c(e,["tunedModels"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(m=>jy(s,m))),d(t,["tuningJobs"],o)}return t}function T1(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const r=c(e,["metadata"]);r!=null&&d(t,["metadata"],r);const o=c(e,["done"]);o!=null&&d(t,["done"],o);const m=c(e,["error"]);return m!=null&&d(t,["error"],m),t}function C1(s,e){const t={},i=c(e,["checkpointId"]);i!=null&&d(t,["checkpointId"],i);const r=c(e,["epoch"]);r!=null&&d(t,["epoch"],r);const o=c(e,["step"]);o!=null&&d(t,["step"],o);const m=c(e,["endpoint"]);return m!=null&&d(t,["endpoint"],m),t}function _1(s,e){const t={},i=c(e,["model"]);i!=null&&d(t,["model"],i);const r=c(e,["endpoint"]);r!=null&&d(t,["endpoint"],r);const o=c(e,["checkpoints"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(g=>C1(s,g))),d(t,["checkpoints"],m)}return t}function jc(s,e){const t={},i=c(e,["name"]);i!=null&&d(t,["name"],i);const r=c(e,["state"]);r!=null&&d(t,["state"],vy(s,r));const o=c(e,["createTime"]);o!=null&&d(t,["createTime"],o);const m=c(e,["startTime"]);m!=null&&d(t,["startTime"],m);const g=c(e,["endTime"]);g!=null&&d(t,["endTime"],g);const x=c(e,["updateTime"]);x!=null&&d(t,["updateTime"],x);const p=c(e,["error"]);p!=null&&d(t,["error"],p);const v=c(e,["description"]);v!=null&&d(t,["description"],v);const C=c(e,["baseModel"]);C!=null&&d(t,["baseModel"],C);const b=c(e,["tunedModel"]);b!=null&&d(t,["tunedModel"],_1(s,b));const S=c(e,["supervisedTuningSpec"]);S!=null&&d(t,["supervisedTuningSpec"],S);const N=c(e,["tuningDataStats"]);N!=null&&d(t,["tuningDataStats"],N);const E=c(e,["encryptionSpec"]);E!=null&&d(t,["encryptionSpec"],E);const M=c(e,["partnerModelTuningSpec"]);M!=null&&d(t,["partnerModelTuningSpec"],M);const I=c(e,["distillationSpec"]);I!=null&&d(t,["distillationSpec"],I);const j=c(e,["experiment"]);j!=null&&d(t,["experiment"],j);const B=c(e,["labels"]);B!=null&&d(t,["labels"],B);const Z=c(e,["pipelineJob"]);Z!=null&&d(t,["pipelineJob"],Z);const F=c(e,["serviceAccount"]);F!=null&&d(t,["serviceAccount"],F);const ae=c(e,["tunedModelDisplayName"]);return ae!=null&&d(t,["tunedModelDisplayName"],ae),t}function S1(s,e){const t={},i=c(e,["nextPageToken"]);i!=null&&d(t,["nextPageToken"],i);const r=c(e,["tuningJobs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(m=>jc(s,m))),d(t,["tuningJobs"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class N1 extends ji{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new Vl(Ui.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.tune=async t=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(t);{const i=await this.tuneMldevInternal(t);let r="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?r=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(r=i.name.split("/operations/")[0]),{name:r,state:wc.JOB_STATE_QUEUED}}}}async getInternal(e){var t,i,r,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=f1(this.apiClient,e);return g=pe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),m.then(v=>jc(this.apiClient,v))}else{const p=s1(this.apiClient,e);return g=pe("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>jy(this.apiClient,v))}}async listInternal(e){var t,i,r,o;let m,g="",x={};if(this.apiClient.isVertexAI()){const p=h1(this.apiClient,e);return g=pe("tuningJobs",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),m.then(v=>{const C=S1(this.apiClient,v),b=new mg;return Object.assign(b,C),b})}else{const p=l1(this.apiClient,e);return g=pe("tunedModels",p._url),x=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>{const C=b1(this.apiClient,v),b=new mg;return Object.assign(b,C),b})}}async tuneInternal(e){var t,i;let r,o="",m={};if(this.apiClient.isVertexAI()){const g=x1(this.apiClient,e);return o=pe("tuningJobs",g._url),m=g._query,delete g.config,delete g._url,delete g._query,r=this.apiClient.request({path:o,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),r.then(x=>jc(this.apiClient,x))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,i;let r,o="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=d1(this.apiClient,e);return o=pe("tunedModels",g._url),m=g._query,delete g.config,delete g._url,delete g._query,r=this.apiClient.request({path:o,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),r.then(x=>T1(this.apiClient,x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class E1{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const A1=1024*1024*8,w1=3,M1=1e3,R1=2,hc="x-goog-upload-status";async function D1(s,e,t){var i,r,o;let m=0,g=0,x=new Mc(new Response),p="upload";for(m=s.size;g<m;){const C=Math.min(A1,m-g),b=s.slice(g,g+C);g+C>=m&&(p+=", finalize");let S=0,N=M1;for(;S<w1&&(x=await t.request({path:"",body:b,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(g),"Content-Length":String(C)}}}),!(!((i=x==null?void 0:x.headers)===null||i===void 0)&&i[hc]));)S++,await k1(N),N=N*R1;if(g+=C,((r=x==null?void 0:x.headers)===null||r===void 0?void 0:r[hc])!=="active")break;if(m<=g)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(x==null?void 0:x.json());if(((o=x==null?void 0:x.headers)===null||o===void 0?void 0:o[hc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function I1(s){return{size:s.size,type:s.type}}function k1(s){return new Promise(e=>setTimeout(e,s))}class U1{async upload(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await D1(e,t,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await I1(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class L1{create(e,t,i){return new P1(e,t,i)}}class P1{constructor(e,t,i){this.url=e,this.headers=t,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Og="x-goog-api-key";class j1{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Og)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Og,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const V1="gl-node/";class O1{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const i=HT(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const r=new j1(this.apiKey);this.apiClient=new ew({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:V1+"web",uploader:new U1,downloader:new E1}),this.models=new yw(this.apiClient),this.live=new fw(this.apiClient,r,new L1),this.chats=new g_(this.models,this.apiClient),this.caches=new m_(this.apiClient),this.files=new M_(this.apiClient),this.operations=new ww(this.apiClient),this.authTokens=new i1(this.apiClient),this.tunings=new N1(this.apiClient)}}let Vc=null;const Bg="AIzaSyC1q9AcDH4lvD4sU8ribire9S3C7kX548k";if(Bg.trim()!=="")try{Vc=new O1({apiKey:Bg})}catch(s){console.error("Failed to initialize GoogleGenAI client:",s)}else console.warn(bc+" Gemini-related features will be unavailable or show an error message in the UI.");const B1={generateCreativeDescription:async s=>{if(!Vc)return bc;try{const e=`Generate a short, poetic and stylish insight (max 50 words, one paragraph) for a luxury watch named "${s.name}" from the "${s.category}" collection. Key features: ${s.features.join(", ")}. Emphasize its elegance, craftsmanship, and appeal to a young, discerning audience. Do not use markdown or bullet points in the response.`;return(await Vc.models.generateContent({model:Kb,contents:e,config:{temperature:.7,topP:.9,topK:40}})).text.trim()}catch(e){if(console.error("Error generating creative description with Gemini:",e),e instanceof Error){const t=e.message.toLowerCase();if(t.includes("api key")||t.includes("permission denied")||t.includes("authentication")||t.includes("quota")||e.name&&e.name.toLowerCase().includes("google"))return bc+" (Details: "+e.message+")"}return"Could not generate a creative insight at this time. Please try again later."}}},q1=()=>{const{productId:s}=Gc(),[e,t]=w.useState(null),[i,r]=w.useState(!0),[o,m]=w.useState(null),[g,x]=w.useState(void 0),[p,v]=w.useState(null),[C,b]=w.useState(!1),{addItem:S}=Pi(),N=w.useCallback(async()=>{if(!s){m("ID"),r(!1);return}r(!0),m(null);try{const j=await Zs.getProductById(s);j?(t(j),x(j.imageUrl)):m("")}catch(j){console.error("Failed to fetch product:",j),m("")}finally{r(!1)}},[s]);w.useEffect(()=>{N()},[N]);const E=()=>{e&&S(e)},M=async()=>{if(e){b(!0),v(null);try{const j=await B1.generateCreativeDescription(e);v(j)}catch(j){console.error("AI description generation failed:",j),v("")}finally{b(!1)}}};if(i)return f.jsx(Nl,{message:"...",size:"lg"});if(o)return f.jsx("div",{className:"text-center py-10 text-red-400 text-xl",children:o});if(!e)return f.jsx("div",{className:"text-center py-10 text-brand-text-secondary text-xl",children:""});const I=[e.imageUrl,...e.galleryImages||[]].filter(Boolean);return f.jsx("div",{className:"bg-brand-surface p-6 sm:p-8 rounded-lg shadow-2xl",children:f.jsxs("div",{className:"grid md:grid-cols-2 gap-8 lg:gap-12",children:[f.jsxs("div",{children:[f.jsx("div",{className:"aspect-w-1 aspect-h-1 w-full rounded-lg overflow-hidden shadow-lg mb-4",children:f.jsx("img",{src:g||e.imageUrl,alt:e.name,className:"w-full h-full object-cover object-center"})}),I.length>1&&f.jsx("div",{className:"grid grid-cols-4 gap-2",children:I.map((j,B)=>f.jsx("button",{onClick:()=>x(j),className:`aspect-w-1 aspect-h-1 rounded-md overflow-hidden border-2 transition-colors ${g===j?"border-brand-primary":"border-transparent hover:border-gray-500"}`,children:f.jsx("img",{src:j,alt:`${e.name}  ${B+1}`,className:"w-full h-full object-cover"})},B))})]}),f.jsxs("div",{className:"flex flex-col justify-center",children:[f.jsx(oe,{to:`/products?category=${encodeURIComponent(e.category)}`,className:"text-sm text-brand-primary hover:underline mb-1",children:e.category}),f.jsx("h1",{className:"text-3xl sm:text-4xl font-serif font-bold text-brand-text mb-3",children:e.name}),f.jsxs("p",{className:"text-3xl font-semibold text-brand-primary mb-4",children:["",e.price.toLocaleString()]}),f.jsx("p",{className:"text-brand-text-secondary leading-relaxed mb-6",children:e.description}),f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-brand-text mb-2",children:""}),f.jsx("ul",{className:"list-disc list-inside text-brand-text-secondary space-y-1",children:e.features.map((j,B)=>f.jsx("li",{children:j},B))})]}),f.jsxs("div",{className:"mb-6",children:[f.jsxs("button",{onClick:M,disabled:C,className:"w-full sm:w-auto flex items-center justify-center space-x-2 bg-transparent border-2 border-purple-400 text-purple-300 font-semibold py-3 px-6 rounded-md hover:bg-purple-400 hover:text-brand-bg transition-colors duration-300 disabled:opacity-50 mb-4",children:[f.jsx(nT,{className:"w-5 h-5"}),f.jsx("span",{children:C?"...":" (AI)"})]}),C&&f.jsx(Nl,{size:"sm"}),p&&f.jsxs("div",{className:"mt-3 p-4 bg-gray-700 rounded-md text-brand-text-secondary italic",children:[f.jsx("p",{className:"font-semibold text-purple-300 mb-1",children:"AI "}),p]})]}),f.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:f.jsxs("button",{onClick:E,className:"w-full sm:flex-1 bg-brand-primary text-brand-bg font-semibold py-3 px-6 rounded-md hover:bg-brand-primary-dark transition-colors duration-300 flex items-center justify-center space-x-2 text-lg",children:[f.jsx($c,{className:"w-6 h-6"}),f.jsx("span",{children:""})]})}),f.jsxs("p",{className:"text-sm text-brand-text-secondary mt-4",children:[": ",e.sku," | : ",e.stock>0?`${e.stock} `:""]})]})]})})},G1=()=>{const{cart:s,removeItem:e,updateQuantity:t,clearCart:i,totalItems:r,totalPrice:o}=Pi(),[m,g]=w.useState(null),x=(p,v)=>{v>0?t(p.id,v):e(p.id)};return m?f.jsxs("div",{className:"text-center py-16 bg-brand-surface rounded-lg shadow-xl",children:[f.jsx("h1",{className:"text-3xl font-serif font-bold text-brand-primary mb-4",children:""}),f.jsx("p",{className:"text-brand-text-secondary text-lg",children:m}),f.jsx(oe,{to:"/products",className:"mt-8 inline-block bg-brand-primary text-brand-bg font-semibold py-3 px-6 rounded-md hover:bg-brand-primary-dark transition-colors",children:""})]}):s.length===0?f.jsxs("div",{className:"text-center py-16",children:[f.jsx("h1",{className:"text-3xl font-serif font-bold text-brand-text mb-4",children:""}),f.jsx("p",{className:"text-brand-text-secondary text-lg mb-8",children:""}),f.jsx(oe,{to:"/products",className:"bg-brand-primary text-brand-bg font-semibold py-3 px-6 rounded-md hover:bg-brand-primary-dark transition-colors",children:""})]}):f.jsxs("div",{className:"space-y-8",children:[f.jsx("h1",{className:"text-4xl font-serif font-bold text-brand-text text-center",children:""}),f.jsxs("div",{className:"bg-brand-surface shadow-xl rounded-lg overflow-hidden",children:[f.jsx("div",{className:"divide-y divide-gray-700",children:s.map(p=>f.jsxs("div",{className:"flex flex-col sm:flex-row items-center p-4 sm:p-6 gap-4",children:[f.jsx("img",{src:p.imageUrl||`https://picsum.photos/seed/${p.id}/100/100`,alt:p.name,className:"w-24 h-24 sm:w-32 sm:h-32 object-cover rounded-md shadow-md"}),f.jsxs("div",{className:"flex-grow text-center sm:text-left",children:[f.jsx(oe,{to:`/products/${p.id}`,className:"text-lg font-semibold text-brand-text hover:text-brand-primary transition-colors",children:p.name}),f.jsx("p",{className:"text-sm text-brand-text-secondary",children:p.category}),f.jsxs("p",{className:"text-md text-brand-primary font-medium mt-1 sm:hidden",children:["",(p.price*p.quantity).toLocaleString()]})]}),f.jsxs("div",{className:"flex items-center space-x-3 my-2 sm:my-0",children:[f.jsx("button",{onClick:()=>x(p,p.quantity-1),className:"p-2 rounded-full bg-gray-600 hover:bg-gray-500 text-brand-text transition-colors","aria-label":"",children:f.jsx(eT,{className:"w-4 h-4"})}),f.jsx("span",{className:"w-10 text-center font-medium text-brand-text",children:p.quantity}),f.jsx("button",{onClick:()=>x(p,p.quantity+1),className:"p-2 rounded-full bg-gray-600 hover:bg-gray-500 text-brand-text transition-colors","aria-label":"",children:f.jsx(Wb,{className:"w-4 h-4"})})]}),f.jsxs("p",{className:"hidden sm:block text-lg font-semibold text-brand-primary w-28 text-right",children:["",(p.price*p.quantity).toLocaleString()]}),f.jsx("button",{onClick:()=>e(p.id),className:"p-2 rounded-full text-red-400 hover:text-red-300 hover:bg-red-800/50 transition-colors","aria-label":"",children:f.jsx(tT,{className:"w-5 h-5"})})]},p.id))}),f.jsxs("div",{className:"bg-gray-800 p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("p",{className:"text-xl text-brand-text-secondary",children:[" (",r," ):"]}),f.jsxs("p",{className:"text-2xl font-bold text-brand-primary",children:["",o.toLocaleString()]})]}),f.jsx("p",{className:"text-sm text-brand-text-secondary text-right mb-6",children:""}),f.jsx(oe,{to:"/checkout",className:"block w-full bg-brand-primary text-brand-bg font-bold py-3 px-6 rounded-md text-lg hover:bg-brand-primary-dark transition-colors duration-300 text-center",children:""}),f.jsx("button",{onClick:()=>{window.confirm("")&&i()},className:"w-full mt-3 text-center text-brand-text-secondary hover:text-red-400 transition-colors text-sm",children:""})]})]}),f.jsx("div",{className:"text-center",children:f.jsx(oe,{to:"/products",className:"text-brand-primary hover:underline",children:" "})})]})},Gs=Qt.getInstance(),sa={alipay:{account:"seagull_watch@alipay.com",qrCodeUrl:"images/payment/alipay-qr.png"},wechat:{account:"SeagullWatch2024",qrCodeUrl:"images/payment/wechat-qr.png"},bank:{bankName:"",accountNumber:"6212 2611 0000 1234 567",accountName:"",branch:""}};class Ei{static async createPayment(e,t){try{console.log(" :",{orderId:e.id,userId:t,itemCount:e.items.length});const i={user_id:t,order_number:e.id,status:"pending",payment_status:"pending",payment_method:this.convertPaymentMethod(e.paymentMethod),subtotal:e.subtotal,shipping_fee:e.shipping,tax_fee:e.tax,discount_amount:0,total_amount:e.total,shipping_address:{name:e.shippingAddress.name,phone:e.shippingAddress.phone,province:e.shippingAddress.province,city:e.shippingAddress.city,district:e.shippingAddress.district,street:e.shippingAddress.address,postal_code:e.shippingAddress.postalCode||"",is_default:!1},notes:e.notes||"",ordered_at:new Date().toISOString()},r=await Gs.createOrder(i);console.log(" :",r.id);for(const m of e.items){const g={order_id:r.id,product_id:m.productId,product_name:m.name,product_image:m.imageUrl,sku:m.sku,price:m.price,quantity:m.quantity,total_price:m.price*m.quantity,product_snapshot:m};await Gs.getEngine().insert("order_items",g)}console.log(" ");const o={orderId:r.id,amount:e.total,method:e.paymentMethod};switch(e.paymentMethod){case Ne.ALIPAY:o.qrCode=sa.alipay.qrCodeUrl,o.accountInfo=`${sa.alipay.account}`;break;case Ne.WECHAT:o.qrCode=sa.wechat.qrCodeUrl,o.accountInfo=`${sa.wechat.account}`;break;case Ne.BANK_TRANSFER:o.accountInfo=`
            ${sa.bank.bankName}
            ${sa.bank.accountNumber}
            ${sa.bank.accountName}
            ${sa.bank.branch}
          `;break}return console.log(" "),o}catch(i){throw console.error(" :",i),new Error(`: ${i instanceof Error?i.message:""}`)}}static generateOrderId(){const e=Date.now(),t=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`SG${e}${t}`}static calculateShipping(e,t){return e>=5e3?0:["","","",""].includes(t)?25:15}static calculateTax(e){return e>=5e4?e*.1:0}static async getUserOrders(e){try{const t=await Gs.getUserOrders(e),i=[];for(const r of t){const o=await this.convertToOrder(r);i.push(o)}return i}catch(t){return console.error(" :",t),[]}}static async getOrderById(e){try{const t=await Gs.getOrderById(e);return t?this.convertToOrder(t):null}catch(t){return console.error(" :",t),null}}static async convertToOrder(e){var r,o,m,g,x,p,v;const i=(await Gs.getEngine().find("order_items",{where:[{field:"order_id",operator:"=",value:e.id}]})).map(C=>({productId:C.product_id,name:C.product_name,imageUrl:C.product_image,sku:C.sku,price:C.price,quantity:C.quantity,total:C.total_price}));return{id:e.order_number,items:i,subtotal:e.subtotal||0,shipping:e.shipping_fee||0,tax:e.tax_fee||0,total:e.total_amount||0,paymentMethod:this.convertFromDBPaymentMethod(e.payment_method),status:this.convertFromDBStatus(e.status,e.payment_status),shippingAddress:{name:((r=e.shipping_address)==null?void 0:r.name)||"",phone:((o=e.shipping_address)==null?void 0:o.phone)||"",province:((m=e.shipping_address)==null?void 0:m.province)||"",city:((g=e.shipping_address)==null?void 0:g.city)||"",district:((x=e.shipping_address)==null?void 0:x.district)||"",address:((p=e.shipping_address)==null?void 0:p.street)||"",postalCode:((v=e.shipping_address)==null?void 0:v.postal_code)||""},notes:e.notes||"",createdAt:e.ordered_at||new Date().toISOString()}}static convertPaymentMethod(e){switch(e){case Ne.ALIPAY:return"alipay";case Ne.WECHAT:return"wechat";case Ne.BANK_TRANSFER:return"bank_transfer";default:return"alipay"}}static convertFromDBPaymentMethod(e){switch(e){case"alipay":return Ne.ALIPAY;case"wechat":return Ne.WECHAT;case"bank_transfer":return Ne.BANK_TRANSFER;default:return Ne.ALIPAY}}static convertFromDBStatus(e,t){return e==="pending"&&t==="pending"?ee.PENDING:e==="paid"||t==="paid"?ee.PAID:e==="shipped"?ee.SHIPPED:e==="delivered"?ee.DELIVERED:e==="cancelled"?ee.CANCELLED:ee.PENDING}}const z1=()=>{const s=ca(),{cart:e,totalPrice:t,clearCart:i}=Pi(),{user:r,isAuthenticated:o}=da(),[m,g]=w.useState({name:"",phone:"",province:"",city:"",district:"",address:"",postalCode:""}),[x,p]=w.useState(Ne.ALIPAY),[v,C]=w.useState(""),[b,S]=w.useState(!1),[N,E]=w.useState({}),M=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],I=t,j=Ei.calculateShipping(I,m.province),B=Ei.calculateTax(I),Z=I+j+B,F=()=>{const z={};return m.name.trim()||(z.name=""),m.phone.trim()?/^1[3-9]\d{9}$/.test(m.phone)||(z.phone=""):z.phone="",m.province||(z.province=""),m.city.trim()||(z.city=""),m.district.trim()||(z.district=""),m.address.trim()||(z.address=""),E(z),Object.keys(z).length===0},ae=async z=>{if(z.preventDefault(),!!F()){if(e.length===0){alert("");return}S(!0);try{const J=Ei.generateOrderId(),te=e.map(Pe=>({productId:Pe.id,name:Pe.name,price:Pe.price,quantity:Pe.quantity,imageUrl:Pe.imageUrl,sku:Pe.sku})),ue={id:J,items:te,subtotal:I,shipping:j,tax:B,total:Z,paymentMethod:x,status:ee.PENDING,shippingAddress:m,createdAt:new Date().toISOString(),notes:v},ke=await Ei.createPayment(ue,r==null?void 0:r.id);i(),s(`/payment/${J}`,{state:{paymentInfo:ke,order:ue}})}catch(J){console.error(":",J),alert("")}finally{S(!1)}}};return e.length===0?f.jsxs("div",{className:"text-center py-16",children:[f.jsx("h1",{className:"text-3xl font-serif font-bold text-brand-text mb-4",children:""}),f.jsx("p",{className:"text-brand-text-secondary mb-8",children:""}),f.jsx("button",{onClick:()=>s("/products"),className:"bg-brand-primary text-brand-bg font-semibold py-3 px-6 rounded-md hover:bg-brand-primary-dark transition-colors",children:""})]}):f.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[f.jsx("h1",{className:"text-4xl font-serif font-bold text-brand-text text-center",children:""}),!o&&f.jsx("div",{className:"bg-brand-primary/10 border border-brand-primary/30 p-4 rounded-lg",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-brand-primary font-medium",children:""}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:""})]}),f.jsxs("div",{className:"space-x-3",children:[f.jsx("button",{onClick:()=>s("/login",{state:{from:{pathname:"/checkout"}}}),className:"bg-brand-primary text-brand-bg px-4 py-2 rounded-md text-sm hover:bg-brand-primary-dark transition-colors",children:""}),f.jsx("button",{onClick:()=>s("/register"),className:"border border-brand-primary text-brand-primary px-4 py-2 rounded-md text-sm hover:bg-brand-primary hover:text-brand-bg transition-colors",children:""})]})]})}),f.jsxs("form",{onSubmit:ae,className:"grid md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-brand-surface p-6 rounded-lg",children:[f.jsx("h2",{className:"text-xl font-semibold text-brand-text mb-4",children:""}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-1",children:" *"}),f.jsx("input",{type:"text",value:m.name,onChange:z=>g(J=>({...J,name:z.target.value})),className:"w-full p-3 bg-brand-bg border border-gray-600 rounded-md text-brand-text focus:border-brand-primary focus:outline-none",placeholder:""}),N.name&&f.jsx("p",{className:"text-red-400 text-sm mt-1",children:N.name})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-1",children:" *"}),f.jsx("input",{type:"tel",value:m.phone,onChange:z=>g(J=>({...J,phone:z.target.value})),className:"w-full p-3 bg-brand-bg border border-gray-600 rounded-md text-brand-text focus:border-brand-primary focus:outline-none",placeholder:""}),N.phone&&f.jsx("p",{className:"text-red-400 text-sm mt-1",children:N.phone})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-1",children:" *"}),f.jsxs("select",{value:m.province,onChange:z=>g(J=>({...J,province:z.target.value})),className:"w-full p-3 bg-brand-bg border border-gray-600 rounded-md text-brand-text focus:border-brand-primary focus:outline-none",children:[f.jsx("option",{value:"",children:""}),M.map(z=>f.jsx("option",{value:z,children:z},z))]}),N.province&&f.jsx("p",{className:"text-red-400 text-sm mt-1",children:N.province})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-1",children:" *"}),f.jsx("input",{type:"text",value:m.city,onChange:z=>g(J=>({...J,city:z.target.value})),className:"w-full p-3 bg-brand-bg border border-gray-600 rounded-md text-brand-text focus:border-brand-primary focus:outline-none",placeholder:""}),N.city&&f.jsx("p",{className:"text-red-400 text-sm mt-1",children:N.city})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-1",children:" *"}),f.jsx("input",{type:"text",value:m.district,onChange:z=>g(J=>({...J,district:z.target.value})),className:"w-full p-3 bg-brand-bg border border-gray-600 rounded-md text-brand-text focus:border-brand-primary focus:outline-none",placeholder:""}),N.district&&f.jsx("p",{className:"text-red-400 text-sm mt-1",children:N.district})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-1",children:" *"}),f.jsx("textarea",{value:m.address,onChange:z=>g(J=>({...J,address:z.target.value})),className:"w-full p-3 bg-brand-bg border border-gray-600 rounded-md text-brand-text focus:border-brand-primary focus:outline-none",placeholder:"",rows:3}),N.address&&f.jsx("p",{className:"text-red-400 text-sm mt-1",children:N.address})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-1",children:""}),f.jsx("input",{type:"text",value:m.postalCode,onChange:z=>g(J=>({...J,postalCode:z.target.value})),className:"w-full p-3 bg-brand-bg border border-gray-600 rounded-md text-brand-text focus:border-brand-primary focus:outline-none",placeholder:""})]})]})]}),f.jsxs("div",{className:"bg-brand-surface p-6 rounded-lg",children:[f.jsx("h2",{className:"text-xl font-semibold text-brand-text mb-4",children:""}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[f.jsx("input",{type:"radio",name:"payment",value:Ne.ALIPAY,checked:x===Ne.ALIPAY,onChange:z=>p(z.target.value),className:"text-brand-primary"}),f.jsx("span",{className:"text-brand-text",children:""})]}),f.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[f.jsx("input",{type:"radio",name:"payment",value:Ne.WECHAT,checked:x===Ne.WECHAT,onChange:z=>p(z.target.value),className:"text-brand-primary"}),f.jsx("span",{className:"text-brand-text",children:""})]}),f.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[f.jsx("input",{type:"radio",name:"payment",value:Ne.BANK_TRANSFER,checked:x===Ne.BANK_TRANSFER,onChange:z=>p(z.target.value),className:"text-brand-primary"}),f.jsx("span",{className:"text-brand-text",children:""})]})]})]}),f.jsxs("div",{className:"bg-brand-surface p-6 rounded-lg",children:[f.jsx("h2",{className:"text-xl font-semibold text-brand-text mb-4",children:""}),f.jsx("textarea",{value:v,onChange:z=>C(z.target.value),className:"w-full p-3 bg-brand-bg border border-gray-600 rounded-md text-brand-text focus:border-brand-primary focus:outline-none",placeholder:"",rows:3})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-brand-surface p-6 rounded-lg",children:[f.jsx("h2",{className:"text-xl font-semibold text-brand-text mb-4",children:""}),f.jsx("div",{className:"space-y-4",children:e.map(z=>f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("img",{src:z.imageUrl,alt:z.name,className:"w-16 h-16 object-cover rounded-md"}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("p",{className:"text-brand-text font-medium text-sm",children:z.name}),f.jsxs("p",{className:"text-brand-text-secondary text-sm",children:[": ",z.quantity]})]}),f.jsxs("p",{className:"text-brand-primary font-semibold",children:["",(z.price*z.quantity).toLocaleString()]})]},z.id))}),f.jsxs("div",{className:"border-t border-gray-600 mt-6 pt-4 space-y-2",children:[f.jsxs("div",{className:"flex justify-between text-brand-text-secondary",children:[f.jsx("span",{children:""}),f.jsxs("span",{children:["",I.toLocaleString()]})]}),f.jsxs("div",{className:"flex justify-between text-brand-text-secondary",children:[f.jsx("span",{children:""}),f.jsx("span",{children:j===0?"":`${j}`})]}),B>0&&f.jsxs("div",{className:"flex justify-between text-brand-text-secondary",children:[f.jsx("span",{children:""}),f.jsxs("span",{children:["",B.toLocaleString()]})]}),f.jsxs("div",{className:"flex justify-between text-xl font-bold text-brand-primary border-t border-gray-600 pt-2",children:[f.jsx("span",{children:""}),f.jsxs("span",{children:["",Z.toLocaleString()]})]})]}),I<5e3&&f.jsx("div",{className:"mt-4 p-3 bg-brand-primary/10 border border-brand-primary/30 rounded-md",children:f.jsxs("p",{className:"text-brand-primary text-sm",children:["5,000",(5e3-I).toLocaleString()]})})]}),f.jsx("button",{type:"submit",disabled:b,className:"w-full bg-brand-primary text-brand-bg font-bold py-4 px-6 rounded-md text-lg hover:bg-brand-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:b?"...":` - ${Z.toLocaleString()}`}),f.jsx("p",{className:"text-brand-text-secondary text-sm text-center",children:'""'})]})]})]})},ra={alipay:{account:"seagullwatch@example.com",name:"",qrCodeUrl:"images/payment/alipay-qr.png"},wechat:{account:"SeagullWatch2024",name:"",qrCodeUrl:"images/payment/wechat-qr.png"},bank:{bankName:"",accountNumber:"6222 **** **** 1234",accountName:"",branch:""}};class Fs{static async createPayment(e,t){try{const i=await Ut.createOrder({user_id:t||void 0,order_number:e.id,payment_method:this.convertPaymentMethod(e.paymentMethod),subtotal:e.subtotal,shipping_fee:e.shipping,tax_fee:e.tax,discount_amount:0,total_amount:e.total,shipping_address:{name:e.shippingAddress.name,phone:e.shippingAddress.phone,province:e.shippingAddress.province,city:e.shippingAddress.city,district:e.shippingAddress.district,street:e.shippingAddress.address,postal_code:e.shippingAddress.postalCode||"",is_default:!1},notes:e.notes||"",ordered_at:new Date().toISOString()});for(const o of e.items){const m={order_id:i.id,product_id:o.productId,product_name:o.name,product_image:o.imageUrl,sku:o.sku,price:o.price,quantity:o.quantity,total_price:o.price*o.quantity,product_snapshot:{...o,timestamp:new Date().toISOString()}};await Ut.getEngine().insert("order_items",m)}const r={orderId:i.id,amount:e.total,method:e.paymentMethod};switch(e.paymentMethod){case Ne.ALIPAY:r.qrCode=ra.alipay.qrCodeUrl,r.accountInfo=`${ra.alipay.account}`;break;case Ne.WECHAT:r.qrCode=ra.wechat.qrCodeUrl,r.accountInfo=`${ra.wechat.account}`;break;case Ne.BANK_TRANSFER:r.accountInfo=`
            ${ra.bank.bankName}
            ${ra.bank.accountNumber}
            ${ra.bank.accountName}
            ${ra.bank.branch}
          `;break}return r}catch(i){throw console.error(":",i),new Error("")}}static async confirmPayment(e){try{const t=await Ut.getEngine().findById("orders",e);if(!t)throw new Error("");return await Ut.updateOrderStatus(e,"paid"),await Ut.getEngine().insert("payments",{order_id:e,payment_method:t.payment_method,amount:t.total_amount,status:"success",paid_at:new Date().toISOString()}),!0}catch(t){return console.error(":",t),!1}}static async getOrderStatus(e){try{const t=await Ut.getEngine().findById("orders",e);return t?this.convertDbOrderStatus(t.status):null}catch(t){return console.error(":",t),null}}static async getOrder(e){try{const t=await Ut.getEngine().findById("orders",e);if(!t)return null;const i=await Ut.getEngine().find("order_items",{where:[{field:"order_id",operator:"=",value:e}]});return{id:t.id,orderNumber:t.order_number,items:i.map(o=>({id:o.product_id,name:o.product_name,image:o.product_image,price:o.price,quantity:o.quantity,model:o.sku,total:o.total_price})),subtotal:t.subtotal,shipping:t.shipping_fee,tax:t.tax_fee,discount:t.discount_amount,total:t.total_amount,customerInfo:{name:t.shipping_address.name,email:"",phone:t.shipping_address.phone,address:{province:t.shipping_address.province,city:t.shipping_address.city,district:t.shipping_address.district,street:t.shipping_address.street,postalCode:t.shipping_address.postal_code}},paymentMethod:this.convertDbPaymentMethod(t.payment_method),status:this.convertDbOrderStatus(t.status),createdAt:t.created_at,paidAt:t.paid_at,notes:t.notes,userId:t.user_id}}catch(t){return console.error(":",t),null}}static async getUserOrders(e){try{let t;e?t=await Ut.findOrdersByUser(e):t=await Ut.getEngine().find("orders",{orderBy:[{field:"ordered_at",direction:"desc"}]});const i=[];for(const r of t){const o=await Ut.getEngine().find("order_items",{where:[{field:"order_id",operator:"=",value:r.id}]}),m={id:r.id,orderNumber:r.order_number,items:o.map(g=>({id:g.product_id,name:g.product_name,image:g.product_image,price:g.price,quantity:g.quantity,model:g.sku,total:g.total_price})),subtotal:r.subtotal,shipping:r.shipping_fee,tax:r.tax_fee,discount:r.discount_amount,total:r.total_amount,customerInfo:{name:r.shipping_address.name,email:"",phone:r.shipping_address.phone,address:{province:r.shipping_address.province,city:r.shipping_address.city,district:r.shipping_address.district,street:r.shipping_address.street,postalCode:r.shipping_address.postal_code}},paymentMethod:this.convertDbPaymentMethod(r.payment_method),status:this.convertDbOrderStatus(r.status),createdAt:r.created_at,paidAt:r.paid_at,notes:r.notes,userId:r.user_id};i.push(m)}return i}catch(t){return console.error(":",t),[]}}static async cancelOrder(e){try{const t=await Ut.getEngine().findById("orders",e);if(!t)return!1;if(t.status==="paid"||t.status==="shipped")throw new Error("");return await Ut.updateOrderStatus(e,"cancelled"),!0}catch(t){return console.error(":",t),!1}}static generateOrderId(){const e=Date.now(),t=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`SG${e}${t}`}static calculateShipping(e,t){return e>=5e3?0:["","","",""].includes(t)?25:15}static calculateTax(e){return e>=5e4?e*.1:0}static convertPaymentMethod(e){switch(e){case Ne.ALIPAY:return"alipay";case Ne.WECHAT:return"wechat";case Ne.BANK_TRANSFER:return"bank_transfer";default:return"alipay"}}static convertDbPaymentMethod(e){switch(e){case"alipay":return Ne.ALIPAY;case"wechat":return Ne.WECHAT;case"bank_transfer":return Ne.BANK_TRANSFER;default:return Ne.ALIPAY}}static convertDbOrderStatus(e){switch(e){case"pending":return ee.PENDING;case"paid":return ee.PAID;case"processing":return ee.PROCESSING;case"shipped":return ee.SHIPPED;case"delivered":return ee.DELIVERED;case"cancelled":return ee.CANCELLED;case"refunded":return ee.REFUNDED;default:return ee.PENDING}}}const H1=()=>{var N,E;const{orderId:s}=Gc(),e=tn(),t=ca(),[i,r]=w.useState(((N=e.state)==null?void 0:N.paymentInfo)||null),[o,m]=w.useState(((E=e.state)==null?void 0:E.order)||null),[g,x]=w.useState(!1),[p,v]=w.useState(!1);w.useEffect(()=>{!i&&s&&(async()=>{try{const I=await Fs.getOrder(s);if(I){m(I);const j=await Fs.createPayment(I);r(j)}else t("/orders")}catch(I){console.error(":",I),t("/orders")}})()},[s,i,t]);const C=async()=>{if(s){x(!0);try{await Fs.confirmPayment(s)&&(v(!0),setTimeout(()=>{t(`/orders/${s}`)},3e3))}catch(M){console.error(":",M),alert("")}finally{x(!1)}}},b=async()=>{if(s&&window.confirm(""))try{await Fs.cancelOrder(s),t("/orders")}catch(M){console.error(":",M),alert("")}};if(!i||!o)return f.jsx("div",{className:"flex justify-center items-center min-h-screen",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-brand-primary mx-auto"}),f.jsx("p",{className:"text-brand-text mt-4",children:"..."})]})});if(p)return f.jsx("div",{className:"max-w-2xl mx-auto text-center py-16",children:f.jsxs("div",{className:"bg-brand-surface p-8 rounded-lg",children:[f.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),f.jsx("h1",{className:"text-3xl font-serif font-bold text-brand-text mb-4",children:""}),f.jsxs("p",{className:"text-brand-text-secondary mb-6",children:[" ",s," "]}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:"..."})]})});const S=M=>{switch(M){case Ne.ALIPAY:return"";case Ne.WECHAT:return"";case Ne.BANK_TRANSFER:return"";default:return""}};return f.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[f.jsx("h1",{className:"text-4xl font-serif font-bold text-brand-text text-center",children:""}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-brand-surface p-6 rounded-lg",children:[f.jsx("h2",{className:"text-xl font-semibold text-brand-text mb-4",children:""}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-brand-text-secondary",children:":"}),f.jsx("span",{className:"text-brand-text font-mono",children:s})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-brand-text-secondary",children:":"}),f.jsx("span",{className:"text-brand-text",children:S(i.method)})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-brand-text-secondary",children:":"}),f.jsxs("span",{className:"text-brand-primary font-bold text-xl",children:["",i.amount.toLocaleString()]})]})]})]}),i.method!==Ne.BANK_TRANSFER&&i.qrCode&&f.jsxs("div",{className:"bg-brand-surface p-6 rounded-lg text-center",children:[f.jsx("h3",{className:"text-lg font-semibold text-brand-text mb-4",children:i.method===Ne.ALIPAY?"":""}),f.jsx("div",{className:"bg-white p-4 rounded-lg inline-block mb-4",children:f.jsx("img",{src:i.qrCode,alt:"",className:"w-48 h-48 mx-auto",onError:M=>{M.currentTarget.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><rect width="200" height="200" fill="%23f3f4f6"/><text x="100" y="100" text-anchor="middle" fill="%236b7280" font-size="14"></text></svg>'}})}),f.jsxs("p",{className:"text-brand-text-secondary text-sm",children:["",i.method===Ne.ALIPAY?"":"",""]}),i.accountInfo&&f.jsx("p",{className:"text-brand-text-secondary text-xs mt-2",children:i.accountInfo})]}),i.method===Ne.BANK_TRANSFER&&f.jsxs("div",{className:"bg-brand-surface p-6 rounded-lg",children:[f.jsx("h3",{className:"text-lg font-semibold text-brand-text mb-4",children:""}),f.jsxs("div",{className:"space-y-2 text-sm",children:[f.jsx("div",{className:"bg-brand-bg p-4 rounded-md",children:f.jsx("pre",{className:"text-brand-text whitespace-pre-wrap",children:i.accountInfo})}),f.jsx("p",{className:"text-brand-text-secondary text-xs",children:""})]})]}),f.jsxs("div",{className:"bg-brand-surface p-6 rounded-lg",children:[f.jsx("h3",{className:"text-lg font-semibold text-brand-text mb-4",children:""}),f.jsxs("div",{className:"space-y-2 text-sm text-brand-text-secondary",children:[f.jsx("p",{children:" 24"}),f.jsx("p",{children:' ""'}),f.jsx("p",{children:" 1-2"}),f.jsx("p",{children:" 400-123-4567"})]})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-brand-surface p-6 rounded-lg",children:[f.jsx("h2",{className:"text-xl font-semibold text-brand-text mb-4",children:""}),f.jsx("div",{className:"space-y-4",children:o.items.map(M=>f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("img",{src:M.imageUrl,alt:M.name,className:"w-16 h-16 object-cover rounded-md"}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("p",{className:"text-brand-text font-medium text-sm",children:M.name}),f.jsxs("p",{className:"text-brand-text-secondary text-sm",children:["",M.price.toLocaleString(),"  ",M.quantity]})]}),f.jsxs("p",{className:"text-brand-primary font-semibold",children:["",(M.price*M.quantity).toLocaleString()]})]},M.productId))}),f.jsxs("div",{className:"border-t border-gray-600 mt-6 pt-4 space-y-2",children:[f.jsxs("div",{className:"flex justify-between text-brand-text-secondary",children:[f.jsx("span",{children:""}),f.jsxs("span",{children:["",o.subtotal.toLocaleString()]})]}),f.jsxs("div",{className:"flex justify-between text-brand-text-secondary",children:[f.jsx("span",{children:""}),f.jsx("span",{children:o.shipping===0?"":`${o.shipping}`})]}),o.tax>0&&f.jsxs("div",{className:"flex justify-between text-brand-text-secondary",children:[f.jsx("span",{children:""}),f.jsxs("span",{children:["",o.tax.toLocaleString()]})]}),f.jsxs("div",{className:"flex justify-between text-xl font-bold text-brand-primary border-t border-gray-600 pt-2",children:[f.jsx("span",{children:""}),f.jsxs("span",{children:["",o.total.toLocaleString()]})]})]})]}),f.jsxs("div",{className:"bg-brand-surface p-6 rounded-lg",children:[f.jsx("h3",{className:"text-lg font-semibold text-brand-text mb-4",children:""}),f.jsxs("div",{className:"text-brand-text-secondary text-sm space-y-1",children:[f.jsxs("p",{children:[f.jsx("strong",{className:"text-brand-text",children:":"})," ",o.shippingAddress.name]}),f.jsxs("p",{children:[f.jsx("strong",{className:"text-brand-text",children:":"})," ",o.shippingAddress.phone]}),f.jsxs("p",{children:[f.jsx("strong",{className:"text-brand-text",children:":"})," ",o.shippingAddress.province," ",o.shippingAddress.city," ",o.shippingAddress.district]}),f.jsx("p",{className:"pl-12",children:o.shippingAddress.address}),o.shippingAddress.postalCode&&f.jsxs("p",{children:[f.jsx("strong",{className:"text-brand-text",children:":"})," ",o.shippingAddress.postalCode]})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("button",{onClick:C,disabled:g,className:"w-full bg-brand-primary text-brand-bg font-bold py-3 px-6 rounded-md text-lg hover:bg-brand-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?"...":""}),f.jsx("button",{onClick:b,className:"w-full border border-gray-600 text-brand-text-secondary font-medium py-3 px-6 rounded-md hover:bg-gray-800 transition-colors",children:""}),f.jsx("button",{onClick:()=>t("/user-center#orders"),className:"w-full text-center text-brand-primary hover:underline",children:""})]})]})]})]})},qg=()=>{const{orderId:s}=Gc(),{user:e,isAuthenticated:t}=da(),[i,r]=w.useState([]),[o,m]=w.useState(null),[g,x]=w.useState(!0);w.useEffect(()=>{p()},[]),w.useEffect(()=>{if(s&&i.length>0){const S=i.find(N=>N.id===s);m(S||null)}},[s,i]);const p=async()=>{try{const S=await Ei.getUserOrders(e==null?void 0:e.id);r(S)}catch(S){console.error(":",S)}finally{x(!1)}},v=S=>{switch(S){case ee.PENDING:return"text-yellow-400 bg-yellow-400/10";case ee.PAID:return"text-green-400 bg-green-400/10";case ee.PROCESSING:return"text-blue-400 bg-blue-400/10";case ee.SHIPPED:return"text-purple-400 bg-purple-400/10";case ee.DELIVERED:return"text-green-500 bg-green-500/10";case ee.CANCELLED:return"text-red-400 bg-red-400/10";default:return"text-gray-400 bg-gray-400/10"}},C=S=>{switch(S){case ee.PENDING:return"";case ee.PAID:return"";case ee.PROCESSING:return"";case ee.SHIPPED:return"";case ee.DELIVERED:return"";case ee.CANCELLED:return"";default:return""}},b=S=>new Date(S).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return g?f.jsx("div",{className:"flex justify-center items-center min-h-screen",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-brand-primary mx-auto"}),f.jsx("p",{className:"text-brand-text mt-4",children:"..."})]})}):s&&o?f.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h1",{className:"text-3xl font-serif font-bold text-brand-text",children:""}),f.jsx(oe,{to:"/orders",className:"text-brand-primary hover:underline",children:" "})]}),f.jsxs("div",{className:"bg-brand-surface p-6 rounded-lg",children:[f.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-brand-text mb-3",children:""}),f.jsxs("div",{className:"space-y-2 text-sm",children:[f.jsxs("p",{children:[f.jsx("span",{className:"text-brand-text-secondary",children:":"})," ",f.jsx("span",{className:"text-brand-text font-mono",children:o.id})]}),f.jsxs("p",{children:[f.jsx("span",{className:"text-brand-text-secondary",children:":"})," ",f.jsx("span",{className:"text-brand-text",children:b(o.createdAt)})]}),o.paidAt&&f.jsxs("p",{children:[f.jsx("span",{className:"text-brand-text-secondary",children:":"})," ",f.jsx("span",{className:"text-brand-text",children:b(o.paidAt)})]}),f.jsxs("p",{children:[f.jsx("span",{className:"text-brand-text-secondary",children:":"}),f.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ml-2 ${v(o.status)}`,children:C(o.status)})]})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-brand-text mb-3",children:""}),f.jsxs("div",{className:"text-brand-text-secondary text-sm space-y-1",children:[f.jsxs("p",{children:[f.jsx("span",{className:"text-brand-text",children:":"})," ",o.shippingAddress.name]}),f.jsxs("p",{children:[f.jsx("span",{className:"text-brand-text",children:":"})," ",o.shippingAddress.phone]}),f.jsxs("p",{children:[f.jsx("span",{className:"text-brand-text",children:":"})," ",o.shippingAddress.province," ",o.shippingAddress.city," ",o.shippingAddress.district]}),f.jsx("p",{className:"pl-12",children:o.shippingAddress.address})]})]})]}),f.jsxs("div",{className:"border-t border-gray-600 pt-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-brand-text mb-4",children:""}),f.jsx("div",{className:"space-y-4",children:o.items.map(S=>f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("img",{src:S.imageUrl,alt:S.name,className:"w-20 h-20 object-cover rounded-md"}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("p",{className:"text-brand-text font-medium",children:S.name}),f.jsxs("p",{className:"text-brand-text-secondary text-sm",children:["SKU: ",S.sku]}),f.jsxs("p",{className:"text-brand-text-secondary text-sm",children:["",S.price.toLocaleString(),"  ",S.quantity]})]}),f.jsxs("p",{className:"text-brand-primary font-semibold",children:["",(S.price*S.quantity).toLocaleString()]})]},S.productId))}),f.jsx("div",{className:"border-t border-gray-600 mt-6 pt-4",children:f.jsx("div",{className:"flex justify-end",children:f.jsxs("div",{className:"w-64 space-y-2",children:[f.jsxs("div",{className:"flex justify-between text-brand-text-secondary",children:[f.jsx("span",{children:""}),f.jsxs("span",{children:["",o.subtotal.toLocaleString()]})]}),f.jsxs("div",{className:"flex justify-between text-brand-text-secondary",children:[f.jsx("span",{children:""}),f.jsx("span",{children:o.shipping===0?"":`${o.shipping}`})]}),o.tax>0&&f.jsxs("div",{className:"flex justify-between text-brand-text-secondary",children:[f.jsx("span",{children:""}),f.jsxs("span",{children:["",o.tax.toLocaleString()]})]}),f.jsxs("div",{className:"flex justify-between text-xl font-bold text-brand-primary border-t border-gray-600 pt-2",children:[f.jsx("span",{children:""}),f.jsxs("span",{children:["",o.total.toLocaleString()]})]})]})})})]}),o.notes&&f.jsxs("div",{className:"border-t border-gray-600 pt-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-brand-text mb-2",children:""}),f.jsx("p",{className:"text-brand-text-secondary",children:o.notes})]}),f.jsx("div",{className:"border-t border-gray-600 pt-6",children:f.jsxs("div",{className:"flex space-x-4",children:[o.status===ee.PENDING&&f.jsx(oe,{to:`/payment/${o.id}`,className:"bg-brand-primary text-brand-bg font-semibold py-2 px-4 rounded-md hover:bg-brand-primary-dark transition-colors",children:""}),f.jsx(oe,{to:"/products",className:"border border-brand-primary text-brand-primary font-semibold py-2 px-4 rounded-md hover:bg-brand-primary hover:text-brand-bg transition-colors",children:""})]})})]})]}):f.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[f.jsx("h1",{className:"text-4xl font-serif font-bold text-brand-text text-center",children:t?"":""}),!t&&f.jsxs("div",{className:"bg-brand-primary/10 border border-brand-primary/30 p-4 rounded-lg text-center",children:[f.jsx("h3",{className:"text-brand-primary font-medium mb-2",children:""}),f.jsx("p",{className:"text-brand-text-secondary text-sm mb-4",children:""}),f.jsxs("div",{className:"space-x-3",children:[f.jsx(oe,{to:"/login",className:"bg-brand-primary text-brand-bg px-4 py-2 rounded-md text-sm hover:bg-brand-primary-dark transition-colors",children:""}),f.jsx(oe,{to:"/register",className:"border border-brand-primary text-brand-primary px-4 py-2 rounded-md text-sm hover:bg-brand-primary hover:text-brand-bg transition-colors",children:""})]})]}),i.length===0?f.jsxs("div",{className:"text-center py-16",children:[f.jsx("h2",{className:"text-2xl font-serif font-bold text-brand-text mb-4",children:""}),f.jsx("p",{className:"text-brand-text-secondary text-lg mb-8",children:""}),f.jsx(oe,{to:"/products",className:"bg-brand-primary text-brand-bg font-semibold py-3 px-6 rounded-md hover:bg-brand-primary-dark transition-colors",children:""})]}):f.jsx("div",{className:"space-y-4",children:i.map(S=>f.jsxs("div",{className:"bg-brand-surface p-6 rounded-lg shadow-lg",children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-semibold text-brand-text",children:[": ",S.id]}),f.jsxs("p",{className:"text-brand-text-secondary text-sm",children:[": ",b(S.createdAt)]})]}),f.jsxs("div",{className:"flex items-center space-x-4 mt-2 md:mt-0",children:[f.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${v(S.status)}`,children:C(S.status)}),f.jsxs("span",{className:"text-brand-primary font-bold text-lg",children:["",S.total.toLocaleString()]})]})]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-brand-text font-medium mb-2",children:""}),f.jsxs("div",{className:"space-y-2",children:[S.items.slice(0,2).map(N=>f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("img",{src:N.imageUrl,alt:N.name,className:"w-12 h-12 object-cover rounded-md"}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("p",{className:"text-brand-text text-sm font-medium truncate",children:N.name}),f.jsxs("p",{className:"text-brand-text-secondary text-xs",children:["",N.price.toLocaleString(),"  ",N.quantity]})]})]},N.productId)),S.items.length>2&&f.jsxs("p",{className:"text-brand-text-secondary text-sm",children:[" ",S.items.length," "]})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-brand-text font-medium mb-2",children:""}),f.jsxs("div",{className:"text-brand-text-secondary text-sm",children:[f.jsxs("p",{children:[S.shippingAddress.name," ",S.shippingAddress.phone]}),f.jsxs("p",{children:[S.shippingAddress.province," ",S.shippingAddress.city," ",S.shippingAddress.district]}),f.jsx("p",{className:"truncate",children:S.shippingAddress.address})]})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mt-6 pt-4 border-t border-gray-600",children:[f.jsxs("div",{className:"flex space-x-4 mb-2 sm:mb-0",children:[f.jsx(oe,{to:`/orders/${S.id}`,className:"text-brand-primary hover:underline text-sm",children:""}),S.status===ee.PENDING&&f.jsx(oe,{to:`/payment/${S.id}`,className:"text-brand-primary hover:underline text-sm",children:""})]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("p",{className:"text-brand-text-secondary text-sm",children:[" ",S.items.reduce((N,E)=>N+E.quantity,0)," "]}),f.jsxs("p",{className:"text-brand-text-secondary text-sm",children:[" ",f.jsxs("span",{className:"text-brand-primary font-semibold",children:["",S.total.toLocaleString()]})]})]})]})]},S.id))})]})},F1=()=>{const s=ca(),e=tn(),{login:t,isAuthenticated:i,loading:r}=da(),[o,m]=w.useState({email:"",password:"",rememberMe:!1}),[g,x]=w.useState({}),[p,v]=w.useState(!1),[C,b]=w.useState(null);w.useEffect(()=>{var M,I;if(i){const j=((I=(M=e.state)==null?void 0:M.from)==null?void 0:I.pathname)||"/";s(j,{replace:!0})}},[i,s,e]);const S=()=>{const M={};return o.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)||(M.email=""):M.email="",o.password||(M.password=""),x(M),Object.keys(M).length===0},N=async M=>{if(M.preventDefault(),!!S()){v(!0),b(null);try{const I=await t(o);I.success?b({type:"success",text:I.message}):b({type:"error",text:I.message})}catch{b({type:"error",text:""})}finally{v(!1)}}},E=M=>{const{name:I,value:j,type:B,checked:Z}=M.target;m(F=>({...F,[I]:B==="checkbox"?Z:j})),g[I]&&x(F=>({...F,[I]:""}))};return r?f.jsx("div",{className:"flex justify-center items-center min-h-screen",children:f.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-brand-primary"})}):f.jsxs("div",{className:"max-w-md mx-auto",children:[f.jsxs("div",{className:"bg-brand-surface p-8 rounded-lg shadow-xl",children:[f.jsx("h1",{className:"text-3xl font-serif font-bold text-brand-text text-center mb-6",children:""}),C&&f.jsx("div",{className:`mb-6 p-4 rounded-md ${C.type==="success"?"bg-green-500/10 border border-green-500/30 text-green-400":"bg-red-500/10 border border-red-500/30 text-red-400"}`,children:C.text}),f.jsxs("form",{onSubmit:N,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-brand-text-secondary mb-2",children:" *"}),f.jsx("input",{type:"email",id:"email",name:"email",value:o.email,onChange:E,className:"w-full p-3 bg-brand-bg border border-gray-600 rounded-md text-brand-text focus:border-brand-primary focus:outline-none",placeholder:"",autoComplete:"email"}),g.email&&f.jsx("p",{className:"text-red-400 text-sm mt-1",children:g.email})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-brand-text-secondary mb-2",children:" *"}),f.jsx("input",{type:"password",id:"password",name:"password",value:o.password,onChange:E,className:"w-full p-3 bg-brand-bg border border-gray-600 rounded-md text-brand-text focus:border-brand-primary focus:outline-none",placeholder:"",autoComplete:"current-password"}),g.password&&f.jsx("p",{className:"text-red-400 text-sm mt-1",children:g.password})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[f.jsx("input",{type:"checkbox",name:"rememberMe",checked:o.rememberMe,onChange:E,className:"w-4 h-4 text-brand-primary bg-brand-bg border-gray-600 rounded focus:ring-brand-primary focus:ring-2"}),f.jsx("span",{className:"text-brand-text-secondary text-sm",children:""})]}),f.jsx(oe,{to:"/forgot-password",className:"text-brand-primary hover:underline text-sm",children:""})]}),f.jsx("button",{type:"submit",disabled:p,className:"w-full bg-brand-primary text-brand-bg font-bold py-3 px-6 rounded-md text-lg hover:bg-brand-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:p?"...":""})]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsxs("p",{className:"text-brand-text-secondary",children:[""," ",f.jsx(oe,{to:"/register",className:"text-brand-primary hover:underline font-medium",children:""})]})}),f.jsx("div",{className:"mt-6 text-center",children:f.jsxs("p",{className:"text-brand-text-secondary text-sm",children:[""," ",f.jsx(oe,{to:"/terms",className:"text-brand-primary hover:underline",children:""})," ",""," ",f.jsx(oe,{to:"/privacy",className:"text-brand-primary hover:underline",children:""})]})})]}),f.jsxs("div",{className:"mt-6 bg-brand-surface/50 p-4 rounded-lg",children:[f.jsx("h3",{className:"text-brand-text font-medium mb-2",children:" "}),f.jsx("p",{className:"text-brand-text-secondary text-sm mb-3",children:""}),f.jsxs("ul",{className:"text-brand-text-secondary text-sm space-y-1",children:[f.jsx("li",{children:" "}),f.jsx("li",{children:" "}),f.jsx("li",{children:" "}),f.jsx("li",{children:" "})]}),f.jsxs("div",{className:"mt-4 space-x-3",children:[f.jsx(oe,{to:"/register",className:"inline-block bg-brand-primary text-brand-bg text-sm font-medium py-2 px-4 rounded-md hover:bg-brand-primary-dark transition-colors",children:""}),f.jsx(oe,{to:"/products",className:"inline-block border border-brand-primary text-brand-primary text-sm font-medium py-2 px-4 rounded-md hover:bg-brand-primary hover:text-brand-bg transition-colors",children:""})]})]})]})},Y1=()=>{const s=ca(),{register:e,isAuthenticated:t,loading:i}=da(),[r,o]=w.useState({email:"",password:"",confirmPassword:"",name:"",phone:"",acceptTerms:!1}),[m,g]=w.useState({}),[x,p]=w.useState(!1),[v,C]=w.useState(null);w.useEffect(()=>{t&&s("/",{replace:!0})},[t,s]);const b=()=>{const E={};return r.name.trim()?r.name.trim().length<2&&(E.name="2"):E.name="",r.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)||(E.email=""):E.email="",r.password?r.password.length<6?E.password="6":/(?=.*[a-zA-Z])(?=.*\d)/.test(r.password)||(E.password=""):E.password="",r.confirmPassword?r.password!==r.confirmPassword&&(E.confirmPassword=""):E.confirmPassword="",r.phone&&!/^1[3-9]\d{9}$/.test(r.phone)&&(E.phone=""),r.acceptTerms||(E.acceptTerms=""),g(E),Object.keys(E).length===0},S=async E=>{if(E.preventDefault(),!!b()){p(!0),C(null);try{const M=await e(r);M.success?(C({type:"success",text:"..."}),setTimeout(()=>{s("/",{replace:!0})},2e3)):C({type:"error",text:M.message})}catch{C({type:"error",text:""})}finally{p(!1)}}},N=E=>{const{name:M,value:I,type:j,checked:B}=E.target;o(Z=>({...Z,[M]:j==="checkbox"?B:I})),m[M]&&g(Z=>({...Z,[M]:""}))};return i?f.jsx("div",{className:"flex justify-center items-center min-h-screen",children:f.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-brand-primary"})}):f.jsxs("div",{className:"max-w-md mx-auto",children:[f.jsxs("div",{className:"bg-brand-surface p-8 rounded-lg shadow-xl",children:[f.jsx("h1",{className:"text-3xl font-serif font-bold text-brand-text text-center mb-6",children:""}),v&&f.jsx("div",{className:`mb-6 p-4 rounded-md ${v.type==="success"?"bg-green-500/10 border border-green-500/30 text-green-400":"bg-red-500/10 border border-red-500/30 text-red-400"}`,children:v.text}),f.jsxs("form",{onSubmit:S,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"name",className:"block text-brand-text-secondary mb-2",children:" *"}),f.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:N,className:"w-full p-3 bg-brand-bg border border-gray-600 rounded-md text-brand-text focus:border-brand-primary focus:outline-none",placeholder:"",autoComplete:"name"}),m.name&&f.jsx("p",{className:"text-red-400 text-sm mt-1",children:m.name})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-brand-text-secondary mb-2",children:" *"}),f.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:N,className:"w-full p-3 bg-brand-bg border border-gray-600 rounded-md text-brand-text focus:border-brand-primary focus:outline-none",placeholder:"",autoComplete:"email"}),m.email&&f.jsx("p",{className:"text-red-400 text-sm mt-1",children:m.email})]}),f.jsxs("div",{children:[f.jsxs("label",{htmlFor:"phone",className:"block text-brand-text-secondary mb-2",children:[" ",f.jsx("span",{className:"text-gray-500",children:"()"})]}),f.jsx("input",{type:"tel",id:"phone",name:"phone",value:r.phone,onChange:N,className:"w-full p-3 bg-brand-bg border border-gray-600 rounded-md text-brand-text focus:border-brand-primary focus:outline-none",placeholder:"",autoComplete:"tel"}),m.phone&&f.jsx("p",{className:"text-red-400 text-sm mt-1",children:m.phone})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-brand-text-secondary mb-2",children:" *"}),f.jsx("input",{type:"password",id:"password",name:"password",value:r.password,onChange:N,className:"w-full p-3 bg-brand-bg border border-gray-600 rounded-md text-brand-text focus:border-brand-primary focus:outline-none",placeholder:"6",autoComplete:"new-password"}),m.password&&f.jsx("p",{className:"text-red-400 text-sm mt-1",children:m.password})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"confirmPassword",className:"block text-brand-text-secondary mb-2",children:" *"}),f.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword,onChange:N,className:"w-full p-3 bg-brand-bg border border-gray-600 rounded-md text-brand-text focus:border-brand-primary focus:outline-none",placeholder:"",autoComplete:"new-password"}),m.confirmPassword&&f.jsx("p",{className:"text-red-400 text-sm mt-1",children:m.confirmPassword})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[f.jsx("input",{type:"checkbox",name:"acceptTerms",checked:r.acceptTerms,onChange:N,className:"w-4 h-4 text-brand-primary bg-brand-bg border-gray-600 rounded focus:ring-brand-primary focus:ring-2 mt-1"}),f.jsxs("span",{className:"text-brand-text-secondary text-sm",children:[""," ",f.jsx(oe,{to:"/terms",className:"text-brand-primary hover:underline",children:""})," ",""," ",f.jsx(oe,{to:"/privacy",className:"text-brand-primary hover:underline",children:""})]})]}),m.acceptTerms&&f.jsx("p",{className:"text-red-400 text-sm mt-1",children:m.acceptTerms})]}),f.jsx("button",{type:"submit",disabled:x,className:"w-full bg-brand-primary text-brand-bg font-bold py-3 px-6 rounded-md text-lg hover:bg-brand-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?"...":""})]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsxs("p",{className:"text-brand-text-secondary",children:[""," ",f.jsx(oe,{to:"/login",className:"text-brand-primary hover:underline font-medium",children:""})]})})]}),f.jsxs("div",{className:"mt-6 bg-brand-surface/50 p-4 rounded-lg",children:[f.jsx("h3",{className:"text-brand-text font-medium mb-2",children:" "}),f.jsxs("div",{className:"grid grid-cols-2 gap-3 text-brand-text-secondary text-sm",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-brand-primary font-medium mb-1",children:""}),f.jsxs("ul",{className:"space-y-1",children:[f.jsx("li",{children:" "}),f.jsx("li",{children:" "}),f.jsx("li",{children:" "})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-brand-primary font-medium mb-1",children:""}),f.jsxs("ul",{className:"space-y-1",children:[f.jsx("li",{children:" "}),f.jsx("li",{children:" "}),f.jsx("li",{children:" "})]})]})]}),f.jsx("div",{className:"mt-4 text-center",children:f.jsx(oe,{to:"/products",className:"inline-block text-brand-primary hover:underline text-sm",children:" "})})]})]})},$1=()=>{const s=ca(),{user:e,isAuthenticated:t,logout:i,updateProfile:r,changePassword:o}=da(),[m,g]=w.useState("profile"),[x,p]=w.useState([]),[v,C]=w.useState(!0),[b,S]=w.useState(null),[N,E]=w.useState({name:"",email:"",phone:""}),[M,I]=w.useState({oldPassword:"",newPassword:"",confirmPassword:""}),[j,B]=w.useState(!1);w.useEffect(()=>{if(!t){s("/login",{state:{from:{pathname:"/profile"}},replace:!0});return}e&&E({name:e.name,email:e.email,phone:e.phone||""}),Z()},[t,e,s]);const Z=async()=>{try{const J=await Fs.getUserOrders(),te=e?J.filter(ue=>ue.userId===e.id):[];p(te)}catch(J){console.error(":",J)}finally{C(!1)}},F=async()=>{window.confirm("")&&(await i(),s("/",{replace:!0}))},ae=J=>{switch(J){case ee.PENDING:return"";case ee.PAID:return"";case ee.PROCESSING:return"";case ee.SHIPPED:return"";case ee.DELIVERED:return"";case ee.CANCELLED:return"";default:return""}},z=J=>new Date(J).toLocaleString("zh-CN");return v?f.jsx("div",{className:"flex justify-center items-center min-h-screen",children:f.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-brand-primary"})}):e?f.jsxs("div",{className:"max-w-6xl mx-auto",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-4xl font-serif font-bold text-brand-text mb-2",children:""}),f.jsxs("p",{className:"text-brand-text-secondary",children:["",e.name,""]})]}),b&&f.jsx("div",{className:`mb-6 p-4 rounded-md ${b.type==="success"?"bg-green-500/10 border border-green-500/30 text-green-400":"bg-red-500/10 border border-red-500/30 text-red-400"}`,children:b.text}),f.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[f.jsx("div",{className:"lg:col-span-1",children:f.jsxs("div",{className:"bg-brand-surface p-6 rounded-lg",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("div",{className:"w-20 h-20 bg-brand-primary rounded-full flex items-center justify-center mx-auto mb-3",children:f.jsx("span",{className:"text-brand-bg text-2xl font-bold",children:e.name.charAt(0).toUpperCase()})}),f.jsx("h3",{className:"text-brand-text font-semibold",children:e.name}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:e.email})]}),f.jsxs("nav",{className:"space-y-2",children:[f.jsx("button",{onClick:()=>g("profile"),className:`w-full text-left px-4 py-3 rounded-md transition-colors ${m==="profile"?"bg-brand-primary text-brand-bg":"text-brand-text-secondary hover:bg-gray-700 hover:text-brand-text"}`,children:""}),f.jsxs("button",{onClick:()=>g("orders"),className:`w-full text-left px-4 py-3 rounded-md transition-colors ${m==="orders"?"bg-brand-primary text-brand-bg":"text-brand-text-secondary hover:bg-gray-700 hover:text-brand-text"}`,children:[" (",x.length,")"]}),f.jsx("button",{onClick:F,className:"w-full text-left px-4 py-3 rounded-md text-red-400 hover:bg-red-800/50 transition-colors",children:""})]})]})}),f.jsx("div",{className:"lg:col-span-3",children:f.jsxs("div",{className:"bg-brand-surface p-6 rounded-lg",children:[m==="profile"&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-semibold text-brand-text mb-6",children:""}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-2",children:""}),f.jsx("p",{className:"text-brand-text",children:e.name})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-2",children:""}),f.jsx("p",{className:"text-brand-text",children:e.email})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-2",children:""}),f.jsx("p",{className:"text-brand-text",children:e.phone||""})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-2",children:""}),f.jsx("p",{className:"text-brand-text",children:z(e.createdAt)})]})]})]}),m==="orders"&&f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-semibold text-brand-text",children:""}),f.jsx(oe,{to:"/user-center#orders",className:"text-brand-primary hover:underline",children:" "})]}),x.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("h3",{className:"text-xl text-brand-text mb-2",children:""}),f.jsx("p",{className:"text-brand-text-secondary mb-6",children:""}),f.jsx(oe,{to:"/products",className:"bg-brand-primary text-brand-bg font-semibold py-3 px-6 rounded-md hover:bg-brand-primary-dark transition-colors",children:""})]}):f.jsx("div",{className:"space-y-4",children:x.slice(0,5).map(J=>f.jsxs("div",{className:"border border-gray-600 rounded-lg p-4",children:[f.jsxs("div",{className:"flex justify-between items-start mb-3",children:[f.jsxs("div",{children:[f.jsxs("h4",{className:"text-brand-text font-medium",children:[": ",J.id]}),f.jsxs("p",{className:"text-brand-text-secondary text-sm",children:[": ",z(J.createdAt)]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-brand-primary/20 text-brand-primary",children:ae(J.status)}),f.jsxs("p",{className:"text-brand-primary font-semibold mt-1",children:["",J.total.toLocaleString()]})]})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("span",{className:"text-brand-text-secondary text-sm",children:["",J.items.length,""]}),f.jsx(oe,{to:`/orders/${J.id}`,className:"text-brand-primary hover:underline text-sm",children:""})]})]},J.id))})]})]})})]})]}):null},Z1=({orders:s,onRefresh:e})=>{const[t,i]=w.useState("all"),[r,o]=w.useState("date"),g=[...s.filter(b=>t==="all"?!0:b.status===t)].sort((b,S)=>r==="date"?new Date(S.createdAt).getTime()-new Date(b.createdAt).getTime():S.total-b.total),x=b=>{switch(b){case ee.PENDING:return"bg-yellow-500 bg-opacity-20 text-yellow-400 border-yellow-500";case ee.PAID:return"bg-green-500 bg-opacity-20 text-green-400 border-green-500";case ee.PROCESSING:return"bg-blue-500 bg-opacity-20 text-blue-400 border-blue-500";case ee.SHIPPED:return"bg-purple-500 bg-opacity-20 text-purple-400 border-purple-500";case ee.DELIVERED:return"bg-emerald-500 bg-opacity-20 text-emerald-400 border-emerald-500";case ee.CANCELLED:return"bg-red-500 bg-opacity-20 text-red-400 border-red-500";default:return"bg-gray-500 bg-opacity-20 text-gray-400 border-gray-500"}},p=b=>{switch(b){case ee.PENDING:return"";case ee.PAID:return"";case ee.PROCESSING:return"";case ee.SHIPPED:return"";case ee.DELIVERED:return"";case ee.CANCELLED:return"";default:return""}},v=b=>new Date(b).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),C=b=>b==="all"?s.length:s.filter(S=>S.status===b).length;return f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-8",children:[f.jsxs("h2",{className:"text-3xl font-semibold text-brand-text flex items-center",children:[f.jsx("span",{className:"mr-3",children:""}),""]}),f.jsx("button",{onClick:e,className:"px-4 py-2 bg-brand-gold text-brand-bg rounded-lg hover:bg-yellow-600 transition-colors font-medium",children:" "})]}),f.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[f.jsxs("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${t==="all"?"bg-brand-gold text-brand-bg shadow-md":"bg-gray-700 text-brand-text-secondary hover:bg-gray-600 hover:text-brand-text"}`,children:[" (",C("all"),")"]}),f.jsxs("button",{onClick:()=>i(ee.PENDING),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${t===ee.PENDING?"bg-yellow-500 text-brand-bg shadow-md":"bg-gray-700 text-brand-text-secondary hover:bg-gray-600 hover:text-brand-text"}`,children:[" (",C(ee.PENDING),")"]}),f.jsxs("button",{onClick:()=>i(ee.PAID),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${t===ee.PAID?"bg-green-500 text-brand-bg shadow-md":"bg-gray-700 text-brand-text-secondary hover:bg-gray-600 hover:text-brand-text"}`,children:[" (",C(ee.PAID),")"]}),f.jsxs("button",{onClick:()=>i(ee.SHIPPED),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${t===ee.SHIPPED?"bg-purple-500 text-brand-bg shadow-md":"bg-gray-700 text-brand-text-secondary hover:bg-gray-600 hover:text-brand-text"}`,children:[" (",C(ee.SHIPPED),")"]}),f.jsxs("button",{onClick:()=>i(ee.DELIVERED),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${t===ee.DELIVERED?"bg-emerald-500 text-brand-bg shadow-md":"bg-gray-700 text-brand-text-secondary hover:bg-gray-600 hover:text-brand-text"}`,children:[" (",C(ee.DELIVERED),")"]})]}),f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("span",{className:"text-brand-text-secondary text-sm",children:""}),f.jsxs("select",{value:r,onChange:b=>o(b.target.value),className:"bg-gray-700 text-brand-text border border-gray-600 rounded px-3 py-1 text-sm focus:outline-none focus:border-brand-gold",children:[f.jsx("option",{value:"date",children:""}),f.jsx("option",{value:"amount",children:""})]})]}),f.jsxs("p",{className:"text-brand-text-secondary text-sm",children:[" ",g.length," "]})]}),g.length>0?f.jsx("div",{className:"space-y-4",children:g.map(b=>f.jsxs("div",{className:"border border-gray-700 rounded-xl p-6 hover:border-brand-gold transition-all duration-200 hover:shadow-lg",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-semibold text-brand-text mb-1",children:[" #",b.id.slice(-8)]}),f.jsxs("p",{className:"text-brand-text-secondary text-sm",children:["",v(b.createdAt)]}),b.paidAt&&f.jsxs("p",{className:"text-brand-text-secondary text-sm",children:["",v(b.paidAt)]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium border ${x(b.status)}`,children:p(b.status)}),f.jsxs("p",{className:"text-brand-gold font-bold text-xl mt-2",children:["",b.total.toLocaleString()]})]})]}),f.jsx("div",{className:"space-y-3 mb-4",children:b.items.map((S,N)=>f.jsxs("div",{className:"flex items-center space-x-4 bg-gray-800 bg-opacity-30 rounded-lg p-3",children:[f.jsx("img",{src:S.imageUrl,alt:S.name,className:"w-16 h-16 object-cover rounded-md"}),f.jsxs("div",{className:"flex-grow",children:[f.jsx("p",{className:"text-brand-text font-medium",children:S.name}),f.jsxs("p",{className:"text-brand-text-secondary text-sm",children:["SKU: ",S.sku]}),f.jsxs("p",{className:"text-brand-text-secondary text-sm",children:["",S.price.toLocaleString(),"  ",S.quantity]})]}),f.jsxs("p",{className:"text-brand-gold font-semibold",children:["",(S.price*S.quantity).toLocaleString()]})]},N))}),f.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-700",children:[f.jsxs("div",{className:"flex space-x-3",children:[f.jsx(oe,{to:`/orders/${b.id}`,className:"px-4 py-2 border border-brand-gold text-brand-gold rounded-lg hover:bg-brand-gold hover:text-brand-bg transition-colors font-medium",children:""}),b.status===ee.PENDING&&f.jsx(oe,{to:`/payment/${b.id}`,className:"px-4 py-2 bg-brand-gold text-brand-bg rounded-lg hover:bg-yellow-600 transition-colors font-medium",children:""}),b.status===ee.DELIVERED&&f.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:""})]}),f.jsxs("div",{className:"text-brand-text-secondary text-sm",children:[b.items.length," "]})]})]},b.id))}):f.jsxs("div",{className:"text-center py-16",children:[f.jsx("span",{className:"text-8xl mb-6 block",children:""}),f.jsx("h3",{className:"text-xl font-semibold text-brand-text mb-2",children:t==="all"?"":""}),f.jsx("p",{className:"text-brand-text-secondary mb-6",children:t==="all"?"":""}),f.jsx(oe,{to:"/products",className:"inline-block px-8 py-3 bg-brand-gold text-brand-bg rounded-lg hover:bg-yellow-600 transition-colors font-medium",children:""})]})]})},K1=({user:s})=>{const{updateProfile:e,changePassword:t}=da(),[i,r]=w.useState("profile"),[o,m]=w.useState(!1),[g,x]=w.useState(null),[p,v]=w.useState({name:s.name,email:s.email,phone:s.phone||"",avatar:s.avatar||""}),[C,b]=w.useState({oldPassword:"",newPassword:"",confirmPassword:""}),[S,N]=w.useState([{id:"1",name:s.name,phone:s.phone||"",province:"",city:"",district:"",address:" 888",isDefault:!0}]),[E,M]=w.useState({}),[I,j]=w.useState(!1),[B,Z]=w.useState(null),[F,ae]=w.useState({emailNotifications:!0,smsNotifications:!1,promotionalEmails:!0,orderUpdates:!0,newsletter:!1}),z=(K,we)=>{x({type:K,text:we}),setTimeout(()=>x(null),3e3)},J=async K=>{K.preventDefault(),m(!0);try{await e(p),z("success","")}catch{z("error","")}finally{m(!1)}},te=async K=>{if(K.preventDefault(),C.newPassword!==C.confirmPassword){z("error","");return}if(C.newPassword.length<6){z("error","6");return}m(!0);try{await t(C.oldPassword,C.newPassword),z("success",""),b({oldPassword:"",newPassword:"",confirmPassword:""})}catch{z("error","")}finally{m(!1)}},ue=K=>{if(K.preventDefault(),!E.name||!E.phone||!E.address){z("error","");return}const we={id:B||Date.now().toString(),name:E.name,phone:E.phone,province:E.province||"",city:E.city||"",district:E.district||"",address:E.address,isDefault:E.isDefault||!1};B?(N(S.map(O=>O.id===B?we:O)),z("success","")):(N([...S,we]),z("success","")),M({}),j(!1),Z(null)},ke=K=>{window.confirm("")&&(N(S.filter(we=>we.id!==K)),z("success",""))},Pe=K=>{N(S.map(we=>({...we,isDefault:we.id===K}))),z("success","")},Pt=K=>new Date(K).toLocaleDateString("zh-CN");return f.jsxs("div",{children:[f.jsx("div",{className:"flex justify-between items-center mb-8",children:f.jsxs("h2",{className:"text-3xl font-semibold text-brand-text flex items-center",children:[f.jsx("span",{className:"mr-3",children:""}),""]})}),g&&f.jsx("div",{className:`mb-6 p-4 rounded-lg border ${g.type==="success"?"bg-green-500 bg-opacity-20 border-green-500 text-green-400":"bg-red-500 bg-opacity-20 border-red-500 text-red-400"}`,children:g.text}),f.jsxs("div",{className:"flex flex-wrap gap-3 mb-8",children:[f.jsx("button",{onClick:()=>r("profile"),className:`px-6 py-3 rounded-lg font-medium transition-all duration-200 ${i==="profile"?"bg-brand-gold text-brand-bg shadow-md":"bg-gray-700 text-brand-text-secondary hover:bg-gray-600 hover:text-brand-text"}`,children:" "}),f.jsx("button",{onClick:()=>r("addresses"),className:`px-6 py-3 rounded-lg font-medium transition-all duration-200 ${i==="addresses"?"bg-brand-gold text-brand-bg shadow-md":"bg-gray-700 text-brand-text-secondary hover:bg-gray-600 hover:text-brand-text"}`,children:" "}),f.jsx("button",{onClick:()=>r("password"),className:`px-6 py-3 rounded-lg font-medium transition-all duration-200 ${i==="password"?"bg-brand-gold text-brand-bg shadow-md":"bg-gray-700 text-brand-text-secondary hover:bg-gray-600 hover:text-brand-text"}`,children:" "}),f.jsx("button",{onClick:()=>r("preferences"),className:`px-6 py-3 rounded-lg font-medium transition-all duration-200 ${i==="preferences"?"bg-brand-gold text-brand-bg shadow-md":"bg-gray-700 text-brand-text-secondary hover:bg-gray-600 hover:text-brand-text"}`,children:" "})]}),i==="profile"&&f.jsxs("div",{className:"bg-gray-800 bg-opacity-30 rounded-xl p-6",children:[f.jsx("h3",{className:"text-xl font-semibold text-brand-text mb-6",children:""}),f.jsxs("form",{onSubmit:J,className:"space-y-6",children:[f.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text mb-2 font-medium",children:""}),f.jsx("input",{type:"text",value:p.name,onChange:K=>v({...p,name:K.target.value}),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-brand-text focus:outline-none focus:border-brand-gold",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text mb-2 font-medium",children:""}),f.jsx("input",{type:"email",value:p.email,onChange:K=>v({...p,email:K.target.value}),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-brand-text focus:outline-none focus:border-brand-gold",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text mb-2 font-medium",children:""}),f.jsx("input",{type:"tel",value:p.phone,onChange:K=>v({...p,phone:K.target.value}),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-brand-text focus:outline-none focus:border-brand-gold"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text mb-2 font-medium",children:""}),f.jsx("div",{className:"px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-brand-text",children:Pt(s.createdAt)})]})]}),f.jsx("button",{type:"submit",disabled:o,className:"px-6 py-3 bg-brand-gold text-brand-bg rounded-lg hover:bg-yellow-600 transition-colors font-medium disabled:opacity-50",children:o?"...":""})]})]}),i==="addresses"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h3",{className:"text-xl font-semibold text-brand-text",children:""}),f.jsx("button",{onClick:()=>{M({}),Z(null),j(!0)},className:"px-4 py-2 bg-brand-gold text-brand-bg rounded-lg hover:bg-yellow-600 transition-colors font-medium",children:" "})]}),f.jsx("div",{className:"space-y-4",children:S.map(K=>f.jsx("div",{className:"bg-gray-800 bg-opacity-30 rounded-xl p-6 border border-gray-700",children:f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[f.jsx("h4",{className:"text-brand-text font-semibold",children:K.name}),f.jsx("span",{className:"text-brand-text opacity-80",children:K.phone}),K.isDefault&&f.jsx("span",{className:"bg-brand-gold bg-opacity-20 text-white text-xs px-2 py-1 rounded-full",children:""})]}),f.jsxs("p",{className:"text-brand-text-secondary",children:[K.province," ",K.city," ",K.district," ",K.address]})]}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:()=>{M(K),Z(K.id),j(!0)},className:"text-brand-gold hover:text-yellow-300 transition-colors",children:""}),!K.isDefault&&f.jsx("button",{onClick:()=>Pe(K.id),className:"text-blue-400 hover:text-blue-300 transition-colors",children:""}),f.jsx("button",{onClick:()=>ke(K.id),className:"text-red-400 hover:text-red-300 transition-colors",children:""})]})]})},K.id))}),I&&f.jsxs("div",{className:"bg-gray-800 bg-opacity-50 rounded-xl p-6 border border-brand-gold",children:[f.jsx("h4",{className:"text-lg font-semibold text-brand-text mb-4",children:B?"":""}),f.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[f.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-2",children:""}),f.jsx("input",{type:"text",value:E.name||"",onChange:K=>M({...E,name:K.target.value}),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-brand-text focus:outline-none focus:border-brand-gold",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-2",children:""}),f.jsx("input",{type:"tel",value:E.phone||"",onChange:K=>M({...E,phone:K.target.value}),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-brand-text focus:outline-none focus:border-brand-gold",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-2",children:""}),f.jsxs("select",{value:E.province||"",onChange:K=>M({...E,province:K.target.value}),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-brand-text focus:outline-none focus:border-brand-gold",children:[f.jsx("option",{value:"",children:""}),f.jsx("option",{value:"",children:""}),f.jsx("option",{value:"",children:""}),f.jsx("option",{value:"",children:""}),f.jsx("option",{value:"",children:""})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-2",children:""}),f.jsx("input",{type:"text",value:E.city||"",onChange:K=>M({...E,city:K.target.value}),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-brand-text focus:outline-none focus:border-brand-gold",placeholder:""})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-2",children:""}),f.jsx("textarea",{value:E.address||"",onChange:K=>M({...E,address:K.target.value}),rows:3,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-brand-text focus:outline-none focus:border-brand-gold",placeholder:"",required:!0})]}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("input",{type:"checkbox",id:"isDefault",checked:E.isDefault||!1,onChange:K=>M({...E,isDefault:K.target.checked}),className:"w-4 h-4 text-brand-gold bg-gray-700 border-gray-600 rounded focus:ring-brand-gold"}),f.jsx("label",{htmlFor:"isDefault",className:"text-brand-text-secondary",children:""})]}),f.jsxs("div",{className:"flex space-x-4",children:[f.jsx("button",{type:"submit",className:"px-6 py-3 bg-brand-gold text-brand-bg rounded-lg hover:bg-yellow-600 transition-colors font-medium",children:B?"":""}),f.jsx("button",{type:"button",onClick:()=>{j(!1),M({}),Z(null)},className:"px-6 py-3 bg-gray-600 text-brand-text rounded-lg hover:bg-gray-500 transition-colors font-medium",children:""})]})]})]})]}),i==="password"&&f.jsxs("div",{className:"bg-gray-800 bg-opacity-30 rounded-xl p-6",children:[f.jsx("h3",{className:"text-xl font-semibold text-brand-text mb-6",children:""}),f.jsxs("form",{onSubmit:te,className:"space-y-6 max-w-md",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-2",children:""}),f.jsx("input",{type:"password",value:C.oldPassword,onChange:K=>b({...C,oldPassword:K.target.value}),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-brand-text focus:outline-none focus:border-brand-gold",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-2",children:""}),f.jsx("input",{type:"password",value:C.newPassword,onChange:K=>b({...C,newPassword:K.target.value}),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-brand-text focus:outline-none focus:border-brand-gold",required:!0,minLength:6}),f.jsx("p",{className:"text-brand-text-secondary text-sm mt-1",children:"6"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-brand-text-secondary mb-2",children:""}),f.jsx("input",{type:"password",value:C.confirmPassword,onChange:K=>b({...C,confirmPassword:K.target.value}),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-brand-text focus:outline-none focus:border-brand-gold",required:!0})]}),f.jsx("button",{type:"submit",disabled:o,className:"px-6 py-3 bg-brand-gold text-brand-bg rounded-lg hover:bg-yellow-600 transition-colors font-medium disabled:opacity-50",children:o?"...":""})]})]}),i==="preferences"&&f.jsxs("div",{className:"bg-gray-800 bg-opacity-30 rounded-xl p-6",children:[f.jsx("h3",{className:"text-xl font-semibold text-brand-text mb-6",children:""}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-700",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-brand-text font-medium",children:""}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:""})]}),f.jsx("input",{type:"checkbox",checked:F.emailNotifications,onChange:K=>ae({...F,emailNotifications:K.target.checked}),className:"w-5 h-5 text-brand-gold bg-gray-700 border-gray-600 rounded focus:ring-brand-gold"})]}),f.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-700",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-brand-text font-medium",children:""}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:""})]}),f.jsx("input",{type:"checkbox",checked:F.smsNotifications,onChange:K=>ae({...F,smsNotifications:K.target.checked}),className:"w-5 h-5 text-brand-gold bg-gray-700 border-gray-600 rounded focus:ring-brand-gold"})]}),f.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-700",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-brand-text font-medium",children:""}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:""})]}),f.jsx("input",{type:"checkbox",checked:F.promotionalEmails,onChange:K=>ae({...F,promotionalEmails:K.target.checked}),className:"w-5 h-5 text-brand-gold bg-gray-700 border-gray-600 rounded focus:ring-brand-gold"})]}),f.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-700",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-brand-text font-medium",children:""}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:""})]}),f.jsx("input",{type:"checkbox",checked:F.orderUpdates,onChange:K=>ae({...F,orderUpdates:K.target.checked}),className:"w-5 h-5 text-brand-gold bg-gray-700 border-gray-600 rounded focus:ring-brand-gold"})]}),f.jsxs("div",{className:"flex items-center justify-between py-3",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-brand-text font-medium",children:""}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:""})]}),f.jsx("input",{type:"checkbox",checked:F.newsletter,onChange:K=>ae({...F,newsletter:K.target.checked}),className:"w-5 h-5 text-brand-gold bg-gray-700 border-gray-600 rounded focus:ring-brand-gold"})]})]}),f.jsx("button",{onClick:()=>z("success",""),className:"mt-6 px-6 py-3 bg-brand-gold text-brand-bg rounded-lg hover:bg-yellow-600 transition-colors font-medium",children:""})]})]})},J1=({user:s})=>{const[e,t]=w.useState([]),[i,r]=w.useState(!0),[o,m]=w.useState("all"),g=[{id:"all",name:"",icon:""},{id:"trending",name:"",icon:""},{id:"similar",name:"",icon:""},{id:"new",name:"",icon:""}];w.useEffect(()=>{x()},[s.id]);const x=async()=>{r(!0);try{const N=(await Qt.getInstance().findProducts()).map(E=>({id:E.id,name:E.name,brand:E.brand,price:E.price,originalPrice:E.price*1.2,imageUrl:E.images&&E.images.length>0?E.images[0]:"./images/seagull-logo.png",category:E.category,description:E.description,rating:4.2+Math.random()*.8,isNew:Math.random()>.7,isHot:Math.random()>.6,discount:Math.random()>.5?Math.floor(Math.random()*30)+10:void 0})).slice(0,12);t(N)}catch(b){console.error(":",b)}finally{r(!1)}},p=()=>{switch(o){case"trending":return e.filter(b=>b.isHot);case"similar":return e.filter((b,S)=>S%3===0);case"new":return e.filter(b=>b.isNew);default:return e}},v=b=>b.toLocaleString("zh-CN"),C=b=>{const S=Math.floor(b),N=b%1!==0,E=[];for(let M=0;M<S;M++)E.push("");return N&&E.push(""),E.join("")};return i?f.jsx("div",{className:"flex justify-center items-center py-16",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-brand-gold border-t-transparent mx-auto mb-4"}),f.jsx("p",{className:"text-brand-text",children:"..."})]})}):f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-8",children:[f.jsxs("h2",{className:"text-3xl font-semibold text-brand-text flex items-center",children:[f.jsx("span",{className:"mr-3",children:""}),""]}),f.jsx("button",{onClick:x,className:"px-4 py-2 bg-brand-gold text-brand-bg rounded-lg hover:bg-yellow-600 transition-colors font-medium",children:" "})]}),f.jsx("div",{className:"bg-gradient-to-r from-brand-gold/10 to-yellow-600/10 rounded-xl p-6 mb-8 border border-brand-gold/30",children:f.jsxs("div",{className:"flex items-start space-x-4",children:[f.jsx("span",{className:"text-3xl",children:""}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-brand-text mb-2",children:""}),f.jsx("p",{className:"text-brand-text-secondary",children:" "})]})]})}),f.jsx("div",{className:"flex flex-wrap gap-3 mb-8",children:g.map(b=>f.jsxs("button",{onClick:()=>m(b.id),className:`px-6 py-3 rounded-lg font-medium transition-all duration-200 flex items-center space-x-2 ${o===b.id?"bg-brand-gold text-brand-bg shadow-md":"bg-gray-700 text-brand-text-secondary hover:bg-gray-600 hover:text-brand-text"}`,children:[f.jsx("span",{children:b.icon}),f.jsx("span",{children:b.name})]},b.id))}),f.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:p().map(b=>f.jsxs("div",{className:"bg-gray-800 bg-opacity-30 rounded-xl overflow-hidden border border-gray-700 hover:border-brand-gold transition-all duration-300 hover:shadow-xl group",children:[f.jsxs("div",{className:"relative overflow-hidden",children:[f.jsx("img",{src:b.imageUrl,alt:b.name,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300",onError:S=>{const N=S.target;N.src="./images/seagull-logo.png"},loading:"lazy"}),f.jsxs("div",{className:"absolute top-3 left-3 flex flex-col gap-2",children:[b.isNew&&f.jsx("span",{className:"bg-green-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:""}),b.isHot&&f.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:""}),b.discount&&f.jsxs("span",{className:"bg-brand-gold text-brand-bg text-xs px-2 py-1 rounded-full font-medium",children:["-",b.discount,"%"]})]}),f.jsx("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:f.jsx("button",{className:"bg-white bg-opacity-20 backdrop-blur-sm text-white p-2 rounded-full hover:bg-opacity-30 transition-colors",children:""})})]}),f.jsxs("div",{className:"p-4",children:[f.jsxs("div",{className:"mb-2",children:[f.jsx("h3",{className:"text-brand-text font-semibold text-lg leading-tight group-hover:text-brand-gold transition-colors",children:b.name}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:b.brand})]}),f.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[f.jsx("span",{className:"text-yellow-400 text-sm",children:C(b.rating)}),f.jsx("span",{className:"text-brand-text-secondary text-sm",children:b.rating.toFixed(1)})]}),f.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[f.jsxs("span",{className:"text-brand-gold font-bold text-xl",children:["",v(b.price)]}),b.originalPrice&&f.jsxs("span",{className:"text-brand-text-secondary text-sm line-through",children:["",v(b.originalPrice)]})]}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx(oe,{to:`/products/${b.id}`,className:"flex-1 bg-brand-gold text-brand-bg py-2 px-4 rounded-lg hover:bg-yellow-600 transition-colors font-medium text-center",children:""}),f.jsx("button",{className:"bg-gray-700 text-brand-text py-2 px-4 rounded-lg hover:bg-gray-600 transition-colors",children:""})]})]})]},b.id))}),p().length===0&&f.jsxs("div",{className:"text-center py-16",children:[f.jsx("span",{className:"text-8xl mb-6 block",children:""}),f.jsx("h3",{className:"text-xl font-semibold text-brand-text mb-2",children:""}),f.jsx("p",{className:"text-brand-text-secondary mb-6",children:""}),f.jsx("button",{onClick:x,className:"px-6 py-3 bg-brand-gold text-brand-bg rounded-lg hover:bg-yellow-600 transition-colors font-medium",children:""})]}),p().length>0&&f.jsxs("div",{className:"mt-12 bg-gray-800 bg-opacity-30 rounded-xl p-6",children:[f.jsxs("h3",{className:"text-xl font-semibold text-brand-text mb-4 flex items-center",children:[f.jsx("span",{className:"mr-3",children:""}),""]}),f.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx("span",{className:"text-2xl",children:""}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-brand-text font-medium mb-1",children:""}),f.jsx("p",{className:"text-brand-text text-sm opacity-80",children:""})]})]}),f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx("span",{className:"text-2xl",children:""}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-brand-text font-medium mb-1",children:""}),f.jsx("p",{className:"text-brand-text text-sm opacity-80",children:""})]})]}),f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx("span",{className:"text-2xl",children:""}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-brand-text font-medium mb-1",children:""}),f.jsx("p",{className:"text-brand-text text-sm opacity-80",children:""})]})]})]})]}),f.jsx("div",{className:"mt-8 text-center",children:f.jsxs("div",{className:"inline-flex items-center space-x-4 bg-gradient-to-r from-brand-gold/20 to-yellow-600/20 rounded-xl p-6 border border-brand-gold/30",children:[f.jsx("span",{className:"text-3xl",children:""}),f.jsxs("div",{className:"text-left",children:[f.jsx("h4",{className:"text-brand-text font-semibold mb-1",children:""}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:""})]}),f.jsx(oe,{to:"/products",className:"px-6 py-3 bg-brand-gold text-brand-bg rounded-lg hover:bg-yellow-600 transition-colors font-medium whitespace-nowrap",children:""})]})})]})},X1=()=>{const s=ca(),e=tn(),{user:t,isAuthenticated:i,logout:r}=da(),o=()=>{const I=e.hash;return I==="#orders"?"orders":I==="#settings"?"settings":I==="#recommendations"?"recommendations":"overview"},[m,g]=w.useState(o()),[x,p]=w.useState([]),[v,C]=w.useState(!0),[b,S]=w.useState({pending:0,paid:0,shipped:0,delivered:0});w.useEffect(()=>{if(!i){s("/login",{state:{from:{pathname:"/user-center"}},replace:!0});return}N()},[i,t,s]),w.useEffect(()=>{g(o())},[e.hash]);const N=async()=>{try{C(!0);const I=await Ei.getUserOrders(t==null?void 0:t.id);p(I);const j={pending:I.filter(B=>B.status===ee.PENDING).length,paid:I.filter(B=>B.status===ee.PAID).length,shipped:I.filter(B=>B.status===ee.SHIPPED).length,delivered:I.filter(B=>B.status===ee.DELIVERED).length};S(j)}catch(I){console.error(":",I)}finally{C(!1)}},E=async()=>{window.confirm("")&&(await r(),s("/",{replace:!0}))},M=I=>{g(I),s(`/user-center#${I==="overview"?"":I}`,{replace:!0})};return v?f.jsx("div",{className:"flex justify-center items-center min-h-screen",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-brand-gold border-t-transparent mx-auto mb-4"}),f.jsx("p",{className:"text-brand-text",children:"..."})]})}):t?f.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-4xl font-serif font-bold text-brand-text mb-2",children:""}),f.jsxs("p",{className:"text-brand-text-secondary",children:["",t.name,""]})]}),f.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[f.jsx("div",{className:"lg:col-span-1",children:f.jsxs("div",{className:"bg-brand-surface rounded-xl p-6 shadow-lg border border-gray-800",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-brand-gold to-yellow-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:f.jsx("span",{className:"text-brand-bg text-3xl font-bold",children:t.name.charAt(0).toUpperCase()})}),f.jsx("h3",{className:"text-brand-text font-semibold text-lg",children:t.name}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:t.email}),f.jsx("div",{className:"mt-2 inline-flex items-center px-2 py-1 bg-brand-gold bg-opacity-20 rounded-full",children:f.jsx("span",{className:"text-brand-gold text-xs font-medium",children:"VIP "})})]}),f.jsxs("nav",{className:"space-y-3",children:[f.jsxs("button",{onClick:()=>M("overview"),className:`w-full text-left px-4 py-3 rounded-lg transition-all duration-200 flex items-center space-x-3 ${m==="overview"?"bg-brand-gold text-brand-bg shadow-md":"text-brand-text-secondary hover:bg-gray-700 hover:text-brand-text"}`,children:[f.jsx("span",{className:"text-xl",children:""}),f.jsx("span",{className:"font-medium",children:""})]}),f.jsxs("button",{onClick:()=>M("orders"),className:`w-full text-left px-4 py-3 rounded-lg transition-all duration-200 flex items-center space-x-3 ${m==="orders"?"bg-brand-gold text-brand-bg shadow-md":"text-brand-text-secondary hover:bg-gray-700 hover:text-brand-text"}`,children:[f.jsx("span",{className:"text-xl",children:""}),f.jsxs("div",{className:"flex-1 flex justify-between items-center",children:[f.jsx("span",{className:"font-medium",children:""}),x.length>0&&f.jsx("span",{className:"bg-brand-gold bg-opacity-20 text-brand-gold text-xs px-2 py-1 rounded-full",children:x.length})]})]}),f.jsxs("button",{onClick:()=>M("settings"),className:`w-full text-left px-4 py-3 rounded-lg transition-all duration-200 flex items-center space-x-3 ${m==="settings"?"bg-brand-gold text-brand-bg shadow-md":"text-brand-text-secondary hover:bg-gray-700 hover:text-brand-text"}`,children:[f.jsx("span",{className:"text-xl",children:""}),f.jsx("span",{className:"font-medium",children:""})]}),f.jsxs("button",{onClick:()=>M("recommendations"),className:`w-full text-left px-4 py-3 rounded-lg transition-all duration-200 flex items-center space-x-3 ${m==="recommendations"?"bg-brand-gold text-brand-bg shadow-md":"text-brand-text-secondary hover:bg-gray-700 hover:text-brand-text"}`,children:[f.jsx("span",{className:"text-xl",children:""}),f.jsx("span",{className:"font-medium",children:""})]}),f.jsx("div",{className:"border-t border-gray-700 pt-4 mt-6",children:f.jsxs("button",{onClick:E,className:"w-full text-left px-4 py-3 rounded-lg text-red-400 hover:bg-red-800 hover:bg-opacity-20 transition-all duration-200 flex items-center space-x-3",children:[f.jsx("span",{className:"text-xl",children:""}),f.jsx("span",{className:"font-medium",children:""})]})})]})]})}),f.jsx("div",{className:"lg:col-span-3",children:f.jsxs("div",{className:"bg-brand-surface rounded-xl p-8 shadow-lg border border-gray-800",children:[m==="overview"&&f.jsxs("div",{children:[f.jsxs("h2",{className:"text-3xl font-semibold text-brand-text mb-8 flex items-center",children:[f.jsx("span",{className:"mr-3",children:""}),""]}),f.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[f.jsx("div",{className:"bg-gradient-to-br from-yellow-600 to-yellow-700 rounded-lg p-6 text-white",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-yellow-100 text-sm",children:""}),f.jsx("p",{className:"text-3xl font-bold",children:b.pending})]}),f.jsx("span",{className:"text-4xl opacity-80",children:""})]})}),f.jsx("div",{className:"bg-gradient-to-br from-green-600 to-green-700 rounded-lg p-6 text-white",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-green-100 text-sm",children:""}),f.jsx("p",{className:"text-3xl font-bold",children:b.paid})]}),f.jsx("span",{className:"text-4xl opacity-80",children:""})]})}),f.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 rounded-lg p-6 text-white",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-blue-100 text-sm",children:""}),f.jsx("p",{className:"text-3xl font-bold",children:b.shipped})]}),f.jsx("span",{className:"text-4xl opacity-80",children:""})]})}),f.jsx("div",{className:"bg-gradient-to-br from-purple-600 to-purple-700 rounded-lg p-6 text-white",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-purple-100 text-sm",children:""}),f.jsx("p",{className:"text-3xl font-bold",children:b.delivered})]}),f.jsx("span",{className:"text-4xl opacity-80",children:""})]})})]}),f.jsxs("div",{className:"mb-8",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h3",{className:"text-xl font-semibold text-brand-text",children:""}),f.jsx("button",{onClick:()=>M("orders"),className:"text-brand-gold hover:text-yellow-300 transition-colors text-sm font-medium",children:" "})]}),x.length>0?f.jsx("div",{className:"space-y-4",children:x.slice(0,3).map(I=>f.jsx("div",{className:"border border-gray-700 rounded-lg p-4 hover:border-brand-gold transition-colors",children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsxs("p",{className:"text-brand-text font-medium",children:[" #",I.id.slice(-8)]}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:new Date(I.createdAt).toLocaleDateString("zh-CN")})]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("p",{className:"text-brand-gold font-semibold",children:["",I.total.toLocaleString()]}),f.jsx("span",{className:"inline-block px-2 py-1 bg-green-500 bg-opacity-20 text-green-400 text-xs rounded-full",children:I.status===ee.PENDING?"":I.status===ee.PAID?"":I.status===ee.SHIPPED?"":""})]})]})},I.id))}):f.jsxs("div",{className:"text-center py-12",children:[f.jsx("span",{className:"text-6xl mb-4 block",children:""}),f.jsx("p",{className:"text-brand-text-secondary",children:""}),f.jsx(oe,{to:"/products",className:"inline-block mt-4 px-6 py-2 bg-brand-gold text-brand-bg rounded-lg hover:bg-yellow-600 transition-colors",children:""})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-semibold text-brand-text mb-6",children:""}),f.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[f.jsxs("button",{onClick:()=>M("orders"),className:"p-6 border border-gray-700 rounded-lg hover:border-brand-gold transition-colors text-center group",children:[f.jsx("span",{className:"text-3xl mb-2 block group-hover:scale-110 transition-transform",children:""}),f.jsx("p",{className:"text-brand-text font-medium",children:""}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:""})]}),f.jsxs("button",{onClick:()=>M("settings"),className:"p-6 border border-gray-700 rounded-lg hover:border-brand-gold transition-colors text-center group",children:[f.jsx("span",{className:"text-3xl mb-2 block group-hover:scale-110 transition-transform",children:""}),f.jsx("p",{className:"text-brand-text font-medium",children:""}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:""})]}),f.jsxs(oe,{to:"/products",className:"p-6 border border-gray-700 rounded-lg hover:border-brand-gold transition-colors text-center group block",children:[f.jsx("span",{className:"text-3xl mb-2 block group-hover:scale-110 transition-transform",children:""}),f.jsx("p",{className:"text-brand-text font-medium",children:""}),f.jsx("p",{className:"text-brand-text-secondary text-sm",children:""})]})]})]})]}),m==="orders"&&f.jsx(Z1,{orders:x,onRefresh:N}),m==="settings"&&f.jsx(K1,{user:t}),m==="recommendations"&&f.jsx(J1,{user:t})]})})]})]}):null},Q1=()=>f.jsxs("div",{className:"space-y-12 bg-brand-surface p-6 sm:p-10 rounded-lg shadow-2xl",children:[f.jsxs("header",{className:"text-center",children:[f.jsxs("h1",{className:"text-4xl sm:text-5xl font-serif font-bold text-brand-text mb-3",children:["",nt.chineseName,""]}),f.jsx("p",{className:"text-lg text-brand-primary",children:nt.tagline})]}),f.jsxs("section",{className:"grid md:grid-cols-2 gap-8 items-center",children:[f.jsx("div",{className:"aspect-w-4 aspect-h-3 rounded-lg overflow-hidden shadow-lg",children:f.jsx("img",{src:"./images/seagull_background_(watch)_main.jpg",alt:"",className:"object-cover w-full h-full"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-3xl font-serif font-semibold text-brand-text mb-4",children:"70"}),f.jsxs("p",{className:"text-brand-text-secondary leading-relaxed mb-4",children:[nt.chineseName,"195570"]}),f.jsxs("p",{className:"text-brand-text-secondary leading-relaxed",children:["",nt.chineseName,""]})]})]}),f.jsxs("section",{children:[f.jsx("h2",{className:"text-3xl font-serif font-semibold text-brand-text mb-6 text-center",children:""}),f.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow",children:[f.jsx("h3",{className:"text-xl font-semibold text-brand-primary mb-2",children:""}),f.jsxs("p",{className:"text-sm text-brand-text-secondary leading-relaxed",children:["",nt.chineseName,""]})]}),f.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow",children:[f.jsx("h3",{className:"text-xl font-semibold text-brand-primary mb-2",children:""}),f.jsx("p",{className:"text-sm text-brand-text-secondary leading-relaxed",children:'""0.02'})]}),f.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow",children:[f.jsx("h3",{className:"text-xl font-semibold text-brand-primary mb-2",children:""}),f.jsxs("p",{className:"text-sm text-brand-text-secondary leading-relaxed",children:["",nt.chineseName,""]})]})]})]}),f.jsxs("section",{className:"grid md:grid-cols-2 gap-8 items-center",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-3xl font-serif font-semibold text-brand-text mb-4",children:""}),f.jsxs("p",{className:"text-brand-text-secondary leading-relaxed mb-4",children:["",nt.chineseName,""]}),f.jsx("p",{className:"text-brand-text-secondary leading-relaxed",children:""})]}),f.jsx("div",{className:"aspect-w-4 aspect-h-3 rounded-lg overflow-hidden shadow-lg",children:f.jsx("img",{src:"./images/seagull_product_tourbillon_skeleton_main_skeleton.jpg",alt:"",className:"object-cover w-full h-full"})})]}),f.jsxs("section",{className:"text-center",children:[f.jsx("h2",{className:"text-3xl font-serif font-semibold text-brand-text mb-4",children:""}),f.jsxs("p",{className:"text-brand-text-secondary leading-relaxed max-w-2xl mx-auto",children:['"',nt.chineseName,'"']}),f.jsxs("p",{className:"mt-4 text-md font-medium text-brand-primary",children:["- ",nt.chineseName,""]})]})]}),W1=()=>f.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center px-4",children:[f.jsx("h1",{className:"text-8xl font-serif font-bold text-brand-primary mb-4",children:"404"}),f.jsx("h2",{className:"text-3xl font-semibold text-brand-text mb-6",children:""}),f.jsx("p",{className:"text-brand-text-secondary mb-8 max-w-md",children:""}),f.jsxs("div",{className:"flex space-x-4",children:[f.jsx(oe,{to:"/",className:"bg-brand-primary text-brand-bg font-semibold py-3 px-6 rounded-md hover:bg-brand-primary-dark transition-colors",children:""}),f.jsx(oe,{to:"/products",className:"border-2 border-brand-primary text-brand-primary font-semibold py-3 px-6 rounded-md hover:bg-brand-primary hover:text-brand-bg transition-colors",children:""})]})]}),eM=()=>{const[s,e]=w.useState(!1),[t,i]=w.useState(null);return w.useEffect(()=>{(async()=>{try{console.log(" ..."),await Qt.getInstance().initialize(),console.log(" "),e(!0)}catch(o){console.error(" :",o),i("")}})()},[]),t?f.jsx(cc,{children:f.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-red-50",children:[f.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-lg max-w-md",children:[f.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),f.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:""}),f.jsx("p",{className:"text-gray-600 mb-6",children:t}),f.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-brand-primary text-brand-bg rounded-lg hover:bg-brand-primary-dark transition-all duration-200 font-medium",children:" "})]}),f.jsx(dc,{})]})}):s?f.jsx(cc,{children:f.jsx(kb,{children:f.jsx(Fb,{children:f.jsxs("div",{className:"App flex flex-col min-h-screen bg-brand-bg",children:[f.jsx(aT,{}),f.jsx("main",{className:"main-content flex-grow container mx-auto px-4 py-8",children:f.jsxs(ob,{children:[f.jsx(gt,{path:"/",element:f.jsx(lT,{})}),f.jsx(gt,{path:"/products",element:f.jsx(oT,{})}),f.jsx(gt,{path:"/products/:productId",element:f.jsx(q1,{})}),f.jsx(gt,{path:"/cart",element:f.jsx(G1,{})}),f.jsx(gt,{path:"/checkout",element:f.jsx(z1,{})}),f.jsx(gt,{path:"/payment/:orderId",element:f.jsx(H1,{})}),f.jsx(gt,{path:"/orders",element:f.jsx(qg,{})}),f.jsx(gt,{path:"/orders/:orderId",element:f.jsx(qg,{})}),f.jsx(gt,{path:"/login",element:f.jsx(F1,{})}),f.jsx(gt,{path:"/register",element:f.jsx(Y1,{})}),f.jsx(gt,{path:"/profile",element:f.jsx($1,{})}),f.jsx(gt,{path:"/user-center",element:f.jsx(X1,{})}),f.jsx(gt,{path:"/about",element:f.jsx(Q1,{})}),f.jsx(gt,{path:"*",element:f.jsx(W1,{})})]})}),f.jsx(iT,{}),f.jsx(dc,{})]})})})}):f.jsx(cc,{children:f.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-brand-bg",children:[f.jsxs("div",{className:"text-center p-8",children:[f.jsx("div",{className:"inline-block animate-spin rounded-full h-16 w-16 border-4 border-brand-primary border-t-transparent mb-6"}),f.jsx("h2",{className:"text-2xl font-semibold text-brand-text mb-2",children:" "}),f.jsx("p",{className:"text-brand-text-secondary",children:"..."}),f.jsxs("div",{className:"mt-4 flex justify-center space-x-1",children:[f.jsx("div",{className:"h-2 w-2 bg-brand-primary rounded-full animate-bounce",style:{animationDelay:"0ms"}}),f.jsx("div",{className:"h-2 w-2 bg-brand-primary rounded-full animate-bounce",style:{animationDelay:"150ms"}}),f.jsx("div",{className:"h-2 w-2 bg-brand-primary rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]}),f.jsx(dc,{})]})})},Vy=document.getElementById("root");if(!Vy)throw new Error("Could not find root element to mount to");const tM=y0.createRoot(Vy);tM.render(f.jsx(Bc.StrictMode,{children:f.jsx(Zb,{children:f.jsx(eM,{})})}));
